<h2 id="transformer-calculator-title">‚ö° Transformer Sizing Calculator</h2>

<form aria-describedby="transformer-calculator-desc">
  <p id="transformer-calculator-desc" class="small">
    Estimate transformer size for electrical loads. 
    <span style="color:#ffcc00">‚ö†Ô∏è EDUCATIONAL ONLY ‚Äî Always verify with a qualified engineer and local standards.</span>
  </p>
  
  <!-- Input Grid -->
  <div style="display:grid;grid-template-columns:repeat(2,1fr);gap:16px;margin-bottom:20px;">
    <!-- Load Power -->
    <div class="field">
      <label for="xfmr-load" style="display:block;margin-bottom:6px;color:var(--accent);font-weight:500;">
        Load Power (kW)
      </label>
      <input id="xfmr-load" type="number" min="0" step="0.1" placeholder="e.g. 50" 
             style="width:100%;padding:10px;border-radius:8px;border:1px solid rgba(45,212,255,0.3);background:rgba(45,212,255,0.05);color:inherit;font-family:monospace;" />
      <div style="font-size:12px;color:rgba(230,250,255,0.7);margin-top:4px;">
        Total power consumption in kilowatts
      </div>
    </div>
    
    <!-- System Voltage -->
    <div class="field">
      <label for="xfmr-voltage" style="display:block;margin-bottom:6px;color:var(--accent);font-weight:500;">
        System Voltage (V)
      </label>
      <div style="display:flex;gap:8px;">
        <input id="xfmr-voltage" type="number" min="0" step="1" value="400" 
               style="flex:1;padding:10px;border-radius:8px;border:1px solid rgba(45,212,255,0.3);background:rgba(45,212,255,0.05);color:inherit;font-family:monospace;" />
        <div style="display:flex;gap:4px;">
          <button type="button" onclick="xfmrSetVoltage(230)" 
                  style="padding:6px 10px;background:rgba(255,255,255,0.05);border:1px solid rgba(255,255,255,0.1);border-radius:6px;color:#e6faff;cursor:pointer;font-size:12px;">
            230V
          </button>
          <button type="button" onclick="xfmrSetVoltage(400)" 
                  style="padding:6px 10px;background:rgba(45,212,255,0.2);border:1px solid rgba(45,212,255,0.4);border-radius:6px;color:var(--accent);cursor:pointer;font-size:12px;">
            400V
          </button>
        </div>
      </div>
      <div style="font-size:12px;color:rgba(230,250,255,0.7);margin-top:4px;">
        Line-to-line voltage for three-phase
      </div>
    </div>
    
    <!-- Phase Selection -->
    <div class="field">
      <label for="xfmr-phase" style="display:block;margin-bottom:6px;color:var(--accent);font-weight:500;">
        Phase System
      </label>
      <div style="display:flex;gap:8px;">
        <button type="button" onclick="xfmrSetPhase('three')" id="xfmr-phase-three"
                style="flex:1;padding:10px;background:rgba(45,212,255,0.2);border:1px solid rgba(45,212,255,0.4);border-radius:8px;color:var(--accent);cursor:pointer;font-weight:600;">
          3-Phase
        </button>
        <button type="button" onclick="xfmrSetPhase('single')" id="xfmr-phase-single"
                style="flex:1;padding:10px;background:rgba(255,255,255,0.05);border:1px solid rgba(255,255,255,0.1);border-radius:8px;color:#e6faff;cursor:pointer;">
          1-Phase
        </button>
      </div>
      <input id="xfmr-phase" type="hidden" value="three" />
    </div>
    
    <!-- Power Factor -->
    <div class="field">
      <label for="xfmr-pf" style="display:block;margin-bottom:6px;color:var(--accent);font-weight:500;">
        Power Factor
      </label>
      <div style="display:flex;align-items:center;gap:8px;">
        <input id="xfmr-pf" type="range" min="0.7" max="1.0" step="0.01" value="0.9" 
               style="flex:1;height:6px;border-radius:3px;background:rgba(45,212,255,0.2);outline:none;"
               oninput="xfmrUpdatePFDisplay(this.value)" />
        <input id="xfmr-pf-display" type="number" min="0.7" max="1.0" step="0.01" value="0.9" 
               style="width:80px;padding:8px;border-radius:8px;border:1px solid rgba(45,212,255,0.3);background:rgba(45,212,255,0.05);color:inherit;text-align:center;" />
      </div>
      <div style="font-size:12px;color:rgba(230,250,255,0.7);margin-top:4px;">
        Quality of electrical power (0.7-1.0)
      </div>
    </div>
    
    <!-- Efficiency -->
    <div class="field">
      <label for="xfmr-eff" style="display:block;margin-bottom:6px;color:var(--accent);font-weight:500;">
        Efficiency (%)
      </label>
      <div style="display:flex;align-items:center;gap:8px;">
        <input id="xfmr-eff" type="range" min="80" max="99" step="0.1" value="95" 
               style="flex:1;height:6px;border-radius:3px;background:rgba(45,212,255,0.2);outline:none;"
               oninput="xfmrUpdateEffDisplay(this.value)" />
        <input id="xfmr-eff-display" type="number" min="80" max="99" step="0.1" value="95" 
               style="width:80px;padding:8px;border-radius:8px;border:1px solid rgba(45,212,255,0.3);background:rgba(45,212,255,0.05);color:inherit;text-align:center;" />
      </div>
      <div style="font-size:12px;color:rgba(230,250,255,0.7);margin-top:4px;">
        Transformer efficiency percentage
      </div>
    </div>
    
    <!-- Safety Margin -->
    <div class="field">
      <label for="xfmr-margin" style="display:block;margin-bottom:6px;color:var(--accent);font-weight:500;">
        Safety Margin (%)
      </label>
      <div style="display:flex;align-items:center;gap:8px;">
        <input id="xfmr-margin" type="range" min="10" max="50" step="5" value="20" 
               style="flex:1;height:6px;border-radius:3px;background:rgba(45,212,255,0.2);outline:none;"
               oninput="xfmrUpdateMarginDisplay(this.value)" />
        <input id="xfmr-margin-display" type="number" min="10" max="50" step="5" value="20" 
               style="width:80px;padding:8px;border-radius:8px;border:1px solid rgba(45,212,255,0.3);background:rgba(45,212,255,0.05);color:inherit;text-align:center;" />
      </div>
      <div style="font-size:12px;color:rgba(230,250,255,0.7);margin-top:4px;">
        Future expansion and safety buffer
      </div>
    </div>
  </div>
  
  <!-- Load Type Presets -->
  <div style="margin-bottom:20px;padding:12px;background:rgba(255,255,255,0.03);border-radius:8px;border:1px solid rgba(255,255,255,0.06);">
    <div style="color:var(--accent);font-weight:500;margin-bottom:8px;">üè≠ Common Load Types</div>
    <div style="display:grid;grid-template-columns:repeat(2,1fr);gap:8px;">
      <button type="button" onclick="xfmrLoadPreset('residential')" 
              style="padding:8px;background:rgba(255,255,255,0.05);border:1px solid rgba(255,255,255,0.1);border-radius:6px;color:#e6faff;cursor:pointer;font-size:13px;text-align:left;">
        <div style="font-weight:500;">Residential</div>
        <div style="font-size:11px;color:rgba(230,250,255,0.7);">PF: 0.95, Eff: 92%</div>
      </button>
      <button type="button" onclick="xfmrLoadPreset('commercial')" 
              style="padding:8px;background:rgba(255,255,255,0.05);border:1px solid rgba(255,255,255,0.1);border-radius:6px;color:#e6faff;cursor:pointer;font-size:13px;text-align:left;">
        <div style="font-weight:500;">Commercial</div>
        <div style="font-size:11px;color:rgba(230,250,255,0.7);">PF: 0.85, Eff: 94%</div>
      </button>
      <button type="button" onclick="xfmrLoadPreset('industrial')" 
              style="padding:8px;background:rgba(255,255,255,0.05);border:1px solid rgba(255,255,255,0.1);border-radius:6px;color:#e6faff;cursor:pointer;font-size:13px;text-align:left;">
        <div style="font-weight:500;">Industrial</div>
        <div style="font-size:11px;color:rgba(230,250,255,0.7);">PF: 0.75, Eff: 96%</div>
      </button>
      <button type="button" onclick="xfmrLoadPreset('motor')" 
              style="padding:8px;background:rgba(255,255,255,0.05);border:1px solid rgba(255,255,255,0.1);border-radius:6px;color:#e6faff;cursor:pointer;font-size:13px;text-align:left;">
        <div style="font-weight:500;">Motor Load</div>
        <div style="font-size:11px;color:rgba(230,250,255,0.7);">PF: 0.8, Eff: 93%</div>
      </button>
    </div>
  </div>
  
  <!-- Actions -->
  <div class="actions" style="margin-top:20px;display:flex;gap:10px;">
    <button type="button" onclick="xfmrCalculate()" 
            style="flex:1;padding:12px;background:linear-gradient(135deg, rgba(45,212,255,0.2), rgba(45,212,255,0.1));border:1px solid rgba(45,212,255,0.4);border-radius:8px;color:var(--accent);cursor:pointer;font-weight:600;">
      Calculate Transformer Size
    </button>
    <button type="button" onclick="xfmrCopy()"
            style="padding:12px 16px;background:rgba(255,255,255,0.05);border:1px solid rgba(255,255,255,0.1);border-radius:8px;color:inherit;cursor:pointer;">
      Copy
    </button>
    <button type="button" onclick="xfmrReset()"
            style="padding:12px 16px;background:rgba(255,77,77,0.1);border:1px solid rgba(255,77,77,0.3);color:#ff4d4d;border-radius:8px;cursor:pointer;">
      Reset
    </button>
  </div>
</form>

<!-- Results -->
<div class="results" aria-live="polite" style="margin-top:16px;">
  <h3 class="small" style="color:var(--accent);margin-bottom:8px;">üìä Transformer Sizing Results</h3>
  
  <textarea id="xfmr-output" rows="10" 
            style="width:100%;padding:12px;border-radius:8px;border:1px solid rgba(45,212,255,0.2);background:rgba(0,0,0,0.2);color:inherit;font-family:monospace;font-size:14px;line-height:1.4;"></textarea>
  
  <!-- Summary Cards -->
  <div id="xfmr-summary" style="display:none;margin-top:16px;">
    <div style="display:grid;grid-template-columns:repeat(3,1fr);gap:12px;">
      <div style="padding:12px;background:rgba(45,212,255,0.05);border-radius:8px;border:1px solid rgba(45,212,255,0.2);text-align:center;">
        <div style="font-size:12px;color:rgba(230,250,255,0.7);margin-bottom:4px;">Minimum kVA</div>
        <div id="xfmr-min-kva" style="font-weight:600;font-size:18px;color:#2dd4ff;">‚Äì</div>
      </div>
      <div style="padding:12px;background:rgba(57,255,20,0.05);border-radius:8px;border:1px solid rgba(57,255,20,0.2);text-align:center;">
        <div style="font-size:12px;color:rgba(230,250,255,0.7);margin-bottom:4px;">Recommended kVA</div>
        <div id="xfmr-rec-kva" style="font-weight:600;font-size:18px;color:#39ff14;">‚Äì</div>
      </div>
      <div style="padding:12px;background:rgba(255,204,0,0.05);border-radius:8px;border:1px solid rgba(255,204,0,0.2);text-align:center;">
        <div style="font-size:12px;color:rgba(230,250,255,0.7);margin-bottom:4px;">Current (A)</div>
        <div id="xfmr-current" style="font-weight:600;font-size:18px;color:#ffcc00;">‚Äì</div>
      </div>
    </div>
  </div>
  
  <!-- Educational Information -->
  <div id="xfmr-education" style="margin-top:16px;padding:16px;background:rgba(255,255,255,0.03);border-radius:8px;border:1px solid rgba(255,255,255,0.06);">
    <div style="color:var(--accent);font-weight:500;margin-bottom:8px;">üìö Transformer Fundamentals</div>
    <div style="font-size:14px;line-height:1.5;">
      <div style="margin-bottom:8px;padding-left:12px;border-left:3px solid #2dd4ff;">
        <strong>Formula (Three-phase):</strong> kVA = (‚àö3 √ó V √ó I) / 1000<br>
        <strong>Formula (Single-phase):</strong> kVA = (V √ó I) / 1000
      </div>
      <ul style="list-style:disc;padding-left:20px;margin:8px 0;font-size:13px;color:rgba(230,250,255,0.9);">
        <li>Transformer rating is expressed in kVA (kilovolt-amperes)</li>
        <li>Power factor affects apparent power (kVA) vs real power (kW)</li>
        <li>Efficiency accounts for transformer losses (copper + iron)</li>
        <li>Always include safety margin for future expansion (10-30%)</li>
        <li>Consider ambient temperature derating for installation</li>
      </ul>
      <div style="margin-top:12px;padding:10px;background:rgba(255,204,0,0.1);border-radius:6px;border:1px solid rgba(255,204,0,0.3);">
        <strong style="color:#ffcc00;">‚ö†Ô∏è Important Disclaimer:</strong><br>
        <span style="font-size:12px;">This tool provides educational estimates only. Always consult with a licensed electrical engineer and comply with local electrical codes (IEC, NEC, etc.) before any installation. Actual sizing requires detailed load analysis, harmonics study, and protective device coordination.</span>
      </div>
    </div>
  </div>
</div>

<script>
/* transformer-calculator.html
   - Educational transformer sizing calculator
   - Scoped with xfmr- prefix (Transformer)
*/

// Initialize on load
function xfmrInitialize() {
    const card = document.currentScript?.closest('.card') || document;
    
    // Cache elements
    window.xfmrElements = {
        load: card.querySelector('#xfmr-load'),
        voltage: card.querySelector('#xfmr-voltage'),
        phaseInput: card.querySelector('#xfmr-phase'),
        phaseThree: card.querySelector('#xfmr-phase-three'),
        phaseSingle: card.querySelector('#xfmr-phase-single'),
        pf: card.querySelector('#xfmr-pf'),
        pfDisplay: card.querySelector('#xfmr-pf-display'),
        eff: card.querySelector('#xfmr-eff'),
        effDisplay: card.querySelector('#xfmr-eff-display'),
        margin: card.querySelector('#xfmr-margin'),
        marginDisplay: card.querySelector('#xfmr-margin-display'),
        output: card.querySelector('#xfmr-output'),
        summary: card.querySelector('#xfmr-summary'),
        minKVA: card.querySelector('#xfmr-min-kva'),
        recKVA: card.querySelector('#xfmr-rec-kva'),
        current: card.querySelector('#xfmr-current')
    };
    
    // Initialize displays
    xfmrUpdatePFDisplay(xfmrElements.pf.value);
    xfmrUpdateEffDisplay(xfmrElements.eff.value);
    xfmrUpdateMarginDisplay(xfmrElements.margin.value);
    
    // Auto-calculate when inputs change
    xfmrElements.load.addEventListener('input', xfmrCalculate);
    xfmrElements.voltage.addEventListener('input', xfmrCalculate);
    xfmrElements.pf.addEventListener('input', function() {
        xfmrUpdatePFDisplay(this.value);
        xfmrCalculate();
    });
    xfmrElements.pfDisplay.addEventListener('input', function() {
        const val = Math.min(1.0, Math.max(0.7, parseFloat(this.value) || 0.9));
        xfmrElements.pf.value = val;
        xfmrUpdatePFDisplay(val);
        xfmrCalculate();
    });
    xfmrElements.eff.addEventListener('input', function() {
        xfmrUpdateEffDisplay(this.value);
        xfmrCalculate();
    });
    xfmrElements.effDisplay.addEventListener('input', function() {
        const val = Math.min(99, Math.max(80, parseFloat(this.value) || 95));
        xfmrElements.eff.value = val;
        xfmrUpdateEffDisplay(val);
        xfmrCalculate();
    });
    xfmrElements.margin.addEventListener('input', function() {
        xfmrUpdateMarginDisplay(this.value);
        xfmrCalculate();
    });
    xfmrElements.marginDisplay.addEventListener('input', function() {
        const val = Math.min(50, Math.max(10, parseFloat(this.value) || 20));
        xfmrElements.margin.value = val;
        xfmrUpdateMarginDisplay(val);
        xfmrCalculate();
    });
    
    // Initial calculation
    xfmrCalculate();
    
    console.log('Transformer Calculator initialized');
}

// Set phase type
function xfmrSetPhase(phase) {
    if (!window.xfmrElements) xfmrInitialize();
    
    xfmrElements.phaseInput.value = phase;
    
    if (phase === 'three') {
        xfmrElements.phaseThree.style.background = 'rgba(45,212,255,0.2)';
        xfmrElements.phaseThree.style.border = '1px solid rgba(45,212,255,0.4)';
        xfmrElements.phaseThree.style.color = 'var(--accent)';
        xfmrElements.phaseThree.style.fontWeight = '600';
        
        xfmrElements.phaseSingle.style.background = 'rgba(255,255,255,0.05)';
        xfmrElements.phaseSingle.style.border = '1px solid rgba(255,255,255,0.1)';
        xfmrElements.phaseSingle.style.color = '#e6faff';
        xfmrElements.phaseSingle.style.fontWeight = 'normal';
    } else {
        xfmrElements.phaseSingle.style.background = 'rgba(45,212,255,0.2)';
        xfmrElements.phaseSingle.style.border = '1px solid rgba(45,212,255,0.4)';
        xfmrElements.phaseSingle.style.color = 'var(--accent)';
        xfmrElements.phaseSingle.style.fontWeight = '600';
        
        xfmrElements.phaseThree.style.background = 'rgba(255,255,255,0.05)';
        xfmrElements.phaseThree.style.border = '1px solid rgba(255,255,255,0.1)';
        xfmrElements.phaseThree.style.color = '#e6faff';
        xfmrElements.phaseThree.style.fontWeight = 'normal';
    }
    
    xfmrCalculate();
}

// Set voltage
function xfmrSetVoltage(voltage) {
    if (!window.xfmrElements) xfmrInitialize();
    xfmrElements.voltage.value = voltage;
    xfmrCalculate();
}

// Update PF display
function xfmrUpdatePFDisplay(value) {
    if (!window.xfmrElements) return;
    xfmrElements.pfDisplay.value = parseFloat(value).toFixed(2);
}

// Update efficiency display
function xfmrUpdateEffDisplay(value) {
    if (!window.xfmrElements) return;
    xfmrElements.effDisplay.value = parseFloat(value).toFixed(1);
}

// Update margin display
function xfmrUpdateMarginDisplay(value) {
    if (!window.xfmrElements) return;
    xfmrElements.marginDisplay.value = parseFloat(value);
}

// Load preset configurations
function xfmrLoadPreset(type) {
    if (!window.xfmrElements) xfmrInitialize();
    
    const presets = {
        'residential': { pf: 0.95, eff: 92, voltage: 230, phase: 'single' },
        'commercial': { pf: 0.85, eff: 94, voltage: 400, phase: 'three' },
        'industrial': { pf: 0.75, eff: 96, voltage: 400, phase: 'three' },
        'motor': { pf: 0.8, eff: 93, voltage: 400, phase: 'three' }
    };
    
    const preset = presets[type];
    if (!preset) return;
    
    xfmrElements.pf.value = preset.pf;
    xfmrElements.eff.value = preset.eff;
    xfmrElements.voltage.value = preset.voltage;
    
    xfmrUpdatePFDisplay(preset.pf);
    xfmrUpdateEffDisplay(preset.eff);
    xfmrSetPhase(preset.phase);
    
    xfmrCalculate();
}

// Main calculation function
function xfmrCalculate() {
    if (!window.xfmrElements) xfmrInitialize();
    
    // Get values
    const PkW = parseFloat(xfmrElements.load.value) || 0;
    const V = parseFloat(xfmrElements.voltage.value) || 0;
    const phase = xfmrElements.phaseInput.value;
    const pf = parseFloat(xfmrElements.pf.value) || 0.9;
    const eff = parseFloat(xfmrElements.eff.value) || 95;
    const margin = parseFloat(xfmrElements.margin.value) || 20;
    
    if (PkW <= 0 || V <= 0) {
        xfmrElements.output.value = "Enter valid load power and voltage to calculate transformer size.";
        xfmrElements.summary.style.display = 'none';
        return;
    }
    
    // Convert kW to watts
    const P = PkW * 1000;
    
    // Calculate current (considering power factor and efficiency)
    const I = (P / (V * pf * (eff / 100)));
    
    // Calculate kVA based on phase
    let kVA = 0;
    if (phase === "three") {
        kVA = (Math.sqrt(3) * V * I) / 1000;
    } else {
        kVA = (V * I) / 1000;
    }
    
    // Calculate with safety margin
    const kVA_with_margin = kVA * (1 + (margin / 100));
    
    // Round to standard transformer sizes
    const standardSizes = [10, 15, 20, 25, 30, 37.5, 45, 50, 63, 75, 100, 125, 150, 200, 250, 315, 400, 500, 630, 800, 1000, 1250, 1500, 2000, 2500];
    const recommended = standardSizes.find(size => size >= kVA_with_margin) || Math.ceil(kVA_with_margin);
    
    // Format results
    const results = `‚ö° TRANSFORMER SIZING CALCULATION\n`;
    results += `‚ïê`.repeat(40) + `\n\n`;
    results += `INPUT PARAMETERS:\n`;
    results += `  ‚Ä¢ Load Power: ${PkW.toFixed(1)} kW\n`;
    results += `  ‚Ä¢ System Voltage: ${V.toFixed(0)} V (${phase === 'three' ? '3-Phase' : '1-Phase'})\n`;
    results += `  ‚Ä¢ Power Factor: ${pf.toFixed(2)}\n`;
    results += `  ‚Ä¢ Efficiency: ${eff.toFixed(1)}%\n`;
    results += `  ‚Ä¢ Safety Margin: ${margin.toFixed(0)}%\n\n`;
    
    results += `CALCULATION RESULTS:\n`;
    results += `  ‚Ä¢ Minimum Required: ${kVA.toFixed(2)} kVA\n`;
    results += `  ‚Ä¢ With Safety Margin: ${kVA_with_margin.toFixed(2)} kVA\n`;
    results += `  ‚Ä¢ Full Load Current: ${I.toFixed(1)} A\n\n`;
    
    results += `üîß RECOMMENDATION:\n`;
    results += `  ‚Ä¢ Standard Transformer Size: ${recommended} kVA\n\n`;
    
    results += `‚ö†Ô∏è IMPORTANT NOTES:\n`;
    results += `  1. This is an educational estimation only\n`;
    results += `  2. Actual sizing requires detailed load study\n`;
    results += `  3. Consider harmonics, ambient temperature\n`;
    results += `  4. Consult licensed electrical engineer\n`;
    results += `  5. Comply with local electrical codes`;
    
    xfmrElements.output.value = results;
    
    // Update summary cards
    xfmrElements.minKVA.textContent = `${kVA.toFixed(1)} kVA`;
    xfmrElements.recKVA.textContent = `${recommended} kVA`;
    xfmrElements.current.textContent = `${I.toFixed(1)} A`;
    xfmrElements.summary.style.display = 'grid';
}

// Copy results to clipboard
function xfmrCopy() {
    if (!window.xfmrElements) xfmrInitialize();
    
    const output = xfmrElements.output.value;
    if (!output.trim()) return;
    
    navigator.clipboard.writeText(output).then(() => {
        // Visual feedback
        const copyBtn = document.querySelector('button[onclick="xfmrCopy()"]');
        const originalText = copyBtn.textContent;
        copyBtn.textContent = '‚úÖ Copied!';
        copyBtn.style.background = 'rgba(57,255,20,0.1)';
        copyBtn.style.borderColor = 'rgba(57,255,20,0.3)';
        copyBtn.style.color = '#39ff14';
        
        setTimeout(() => {
            copyBtn.textContent = originalText;
            copyBtn.style.background = '';
            copyBtn.style.borderColor = '';
            copyBtn.style.color = '';
        }, 2000);
    }).catch(err => {
        console.error('Copy failed:', err);
    });
}

// Reset function
function xfmrReset() {
    if (!window.xfmrElements) xfmrInitialize();
    
    xfmrElements.load.value = '';
    xfmrElements.voltage.value = '400';
    xfmrSetPhase('three');
    xfmrElements.pf.value = '0.9';
    xfmrElements.eff.value = '95';
    xfmrElements.margin.value = '20';
    
    xfmrUpdatePFDisplay(0.9);
    xfmrUpdateEffDisplay(95);
    xfmrUpdateMarginDisplay(20);
    
    xfmrElements.output.value = '';
    xfmrElements.summary.style.display = 'none';
    
    xfmrCalculate();
}

// Initialize on load
if (document.readyState === 'loading') {
    document.addEventListener('DOMContentLoaded', xfmrInitialize);
} else {
    xfmrInitialize();
}
</script>

<style>
/* Card-specific styles */
#transformer-calculator-title {
    color: var(--accent);
    margin-top: 0;
}

/* Range slider styling */
input[type="range"] {
    -webkit-appearance: none;
}

input[type="range"]::-webkit-slider-thumb {
    -webkit-appearance: none;
    width: 18px;
    height: 18px;
    border-radius: 50%;
    background: var(--accent);
    cursor: pointer;
    border: 2px solid rgba(255,255,255,0.1);
}

input[type="range"]::-moz-range-thumb {
    width: 18px;
    height: 18px;
    border-radius: 50%;
    background: var(--accent);
    cursor: pointer;
    border: 2px solid rgba(255,255,255,0.1);
}

/* Mobile responsiveness */
@media (max-width: 768px) {
    .results > div:first-child {
        grid-template-columns: 1fr;
        gap: 8px;
    }
    
    /* Stack inputs vertically on mobile */
    .input-grid {
        grid-template-columns: 1fr !important;
    }
    
    /* Adjust button layout */
    .actions {
        flex-direction: column;
    }
    
    .actions button {
        width: 100%;
        margin: 4px 0;
    }
}

/* Focus styles for better accessibility */
input:focus, select:focus, button:focus {
    outline: 2px solid var(--accent);
    outline-offset: 2px;
}

/* Animation for results */
@keyframes slideIn {
    from { opacity: 0; transform: translateY(-10px); }
    to { opacity: 1; transform: translateY(0); }
}

.results > div {
    animation: slideIn 0.3s ease-out;
}

/* Warning styling */
.warning-note {
    background: linear-gradient(135deg, rgba(255,204,0,0.1), rgba(255,204,0,0.05));
    border: 1px solid rgba(255,204,0,0.3);
    border-radius: 8px;
    padding: 12px;
    margin: 12px 0;
}

.warning-note strong {
    color: #ffcc00;
}

/* Standard size highlight */
.standard-size {
    background: rgba(57,255,20,0.1);
    color: #39ff14;
    padding: 4px 8px;
    border-radius: 4px;
    font-weight: bold;
    border: 1px solid rgba(57,255,20,0.3);
}
</style>
