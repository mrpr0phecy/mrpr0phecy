<!-- cards/boiling-point-finder.html -->
<h2 id="boiling-point-finder">Boiling Point Finder</h2>

<div class="description">
  Look up boiling points of common substances at 1 atm. Converts between Celsius, Fahrenheit, and Kelvin.
  <span class="disclaimer">Values are at standard pressure (1 atm). Actual boiling points may vary with altitude and purity.</span>
</div>

<div class="tool-body">
  <!-- SEARCH INPUT -->
  <div style="background: rgba(30,30,30,0.5); border-radius: 10px; padding: 20px; margin-bottom: 25px;">
    <div style="color: #2dd4ff; font-weight: 600; margin-bottom: 15px;">
      ğŸ” Search Substance
    </div>
    
    <div style="display: grid; grid-template-columns: 2fr 1fr; gap: 15px; margin-bottom: 15px;">
      <div>
        <label for="bpf-substance" style="display: block; margin-bottom: 6px; color: rgba(230,250,255,0.8); font-size: 14px;">
          <span style="color: #2dd4ff;">Substance Name</span>
        </label>
        <input id="bpf-substance" type="text" placeholder="e.g. water, ethanol, nitrogen, silver"
               style="width: 100%; padding: 10px; border-radius: 8px; border: 1px solid rgba(45,212,255,0.3); background: rgba(45,212,255,0.05); color: #e6faff;">
        <div style="margin-top: 6px; color: rgba(45,212,255,0.7); font-size: 13px;">
          Enter chemical name (water, ethanol, oxygen, etc.)
        </div>
      </div>
      
      <div>
        <label for="bpf-unit" style="display: block; margin-bottom: 6px; color: rgba(230,250,255,0.8); font-size: 14px;">
          <span style="color: #39ff14;">Temperature Unit</span>
        </label>
        <select id="bpf-unit" 
                style="width: 100%; padding: 10px; border-radius: 8px; border: 1px solid rgba(57,255,20,0.3); background: rgba(57,255,20,0.05); color: #e6faff; cursor: pointer;">
          <option value="C">Â°C (Celsius)</option>
          <option value="F">Â°F (Fahrenheit)</option>
          <option value="K">K (Kelvin)</option>
        </select>
      </div>
    </div>
    
    <!-- QUICK EXAMPLES -->
    <div>
      <div style="color: rgba(230,250,255,0.8); margin-bottom: 10px; font-size: 14px;">Quick Examples:</div>
      <div style="display: flex; gap: 10px; flex-wrap: wrap;">
        <button class="bpf-example-btn" data-substance="water"
                style="padding: 8px 12px; background: rgba(45,212,255,0.1); border: 1px solid rgba(45,212,255,0.3); border-radius: 6px; cursor: pointer; color: #2dd4ff; font-size: 13px;">
          ğŸ’§ Water
        </button>
        <button class="bpf-example-btn" data-substance="ethanol"
                style="padding: 8px 12px; background: rgba(255,165,0,0.1); border: 1px solid rgba(255,165,0,0.3); border-radius: 6px; cursor: pointer; color: #ffa500; font-size: 13px;">
          ğŸ§ª Ethanol
        </button>
        <button class="bpf-example-btn" data-substance="nitrogen"
                style="padding: 8px 12px; background: rgba(30,144,255,0.1); border: 1px solid rgba(30,144,255,0.3); border-radius: 6px; cursor: pointer; color: #1e90ff; font-size: 13px;">
          ğŸ’¨ Nitrogen
        </button>
        <button class="bpf-example-btn" data-substance="mercury"
                style="padding: 8px 12px; background: rgba(157,78,221,0.1); border: 1px solid rgba(157,78,221,0.3); border-radius: 6px; cursor: pointer; color: #9d4edd; font-size: 13px;">
          âš—ï¸ Mercury
        </button>
        <button class="bpf-example-btn" data-substance="gold"
                style="padding: 8px 12px; background: rgba(255,215,0,0.1); border: 1px solid rgba(255,215,0,0.3); border-radius: 6px; cursor: pointer; color: #ffd700; font-size: 13px;">
          ğŸ¥‡ Gold
        </button>
      </div>
    </div>
  </div>
  
  <!-- ğŸš€ SEARCH BUTTONS -->
  <div style="text-align: center; margin: 25px 0;">
    <button id="bpf-find-btn" 
            style="background: #2dd4ff; color: #000; border: none; padding: 14px 32px; border-radius: 10px; cursor: pointer; font-size: 16px; font-weight: 600; box-shadow: 0 4px 15px rgba(45,212,255,0.3);">
      ğŸ” FIND BOILING POINT
    </button>
    
    <button id="bpf-reset-btn" 
            style="background: rgba(255,255,255,0.08); color: #e6faff; border: 1px solid rgba(255,255,255,0.2); padding: 14px 24px; border-radius: 10px; cursor: pointer; font-size: 16px; margin-left: 12px;">
      Reset
    </button>
  </div>
  
  <!-- ğŸ“Š RESULTS DISPLAY -->
  <div id="bpf-results" style="display: none;">
    <div style="background: rgba(20,20,20,0.7); border-radius: 10px; padding: 25px; border: 1px solid rgba(57,255,20,0.2); margin-bottom: 25px;">
      <div style="display: flex; align-items: center; justify-content: space-between; margin-bottom: 20px;">
        <div style="color: #39ff14; font-size: 18px; font-weight: 600;">âš—ï¸ Boiling Point Result</div>
        <button id="bpf-copy-btn" 
                style="background: rgba(57,255,20,0.1); color: #39ff14; border: 1px solid rgba(57,255,20,0.3); padding: 8px 16px; border-radius: 6px; cursor: pointer; font-size: 14px;">
          Copy Result
        </button>
      </div>
      
      <div id="bpf-result-display" style="font-size: 20px; color: #39ff14; text-align: center; margin-bottom: 20px; padding: 15px; background: rgba(0,0,0,0.3); border-radius: 8px;">
        <!-- Results appear here -->
      </div>
      
      <div id="bpf-conversions" style="color: #e6faff; font-size: 15px; line-height: 1.6; padding: 15px; background: rgba(30,30,30,0.5); border-radius: 8px;">
        <!-- Conversions appear here -->
      </div>
    </div>
  </div>
  
  <!-- ğŸ§ª COMMON SUBSTANCES -->
  <div id="bpf-common-list" style="margin-top: 20px; display: block;">
    <div style="background: rgba(30,30,30,0.5); border-radius: 10px; padding: 20px; border: 1px solid rgba(255,165,0,0.2);">
      <div style="color: #ffa500; font-weight: 600; margin-bottom: 15px; font-size: 16px;">
        ğŸ§ª Common Substances (at 1 atm)
      </div>
      
      <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 12px;">
        <div style="background: rgba(45,212,255,0.05); padding: 10px; border-radius: 6px; border: 1px solid rgba(45,212,255,0.2);">
          <div style="color: #2dd4ff; font-weight: 600; font-size: 13px;">Water</div>
          <div style="color: rgba(230,250,255,0.7); font-size: 12px;">100Â°C â€¢ 212Â°F â€¢ 373K</div>
        </div>
        <div style="background: rgba(255,165,0,0.05); padding: 10px; border-radius: 6px; border: 1px solid rgba(255,165,0,0.2);">
          <div style="color: #ffa500; font-weight: 600; font-size: 13px;">Ethanol</div>
          <div style="color: rgba(230,250,255,0.7); font-size: 12px;">78.4Â°C â€¢ 173Â°F â€¢ 352K</div>
        </div>
        <div style="background: rgba(30,144,255,0.05); padding: 10px; border-radius: 6px; border: 1px solid rgba(30,144,255,0.2);">
          <div style="color: #1e90ff; font-weight: 600; font-size: 13px;">Nitrogen</div>
          <div style="color: rgba(230,250,255,0.7); font-size: 12px;">-196Â°C â€¢ -321Â°F â€¢ 77K</div>
        </div>
        <div style="background: rgba(157,78,221,0.05); padding: 10px; border-radius: 6px; border: 1px solid rgba(157,78,221,0.2);">
          <div style="color: #9d4edd; font-weight: 600; font-size: 13px;">Mercury</div>
          <div style="color: rgba(230,250,255,0.7); font-size: 12px;">357Â°C â€¢ 674Â°F â€¢ 630K</div>
        </div>
        <div style="background: rgba(255,215,0,0.05); padding: 10px; border-radius: 6px; border: 1px solid rgba(255,215,0,0.2);">
          <div style="color: #ffd700; font-weight: 600; font-size: 13px;">Gold</div>
          <div style="color: rgba(230,250,255,0.7); font-size: 12px;">2856Â°C â€¢ 5173Â°F â€¢ 3129K</div>
        </div>
        <div style="background: rgba(255,77,77,0.05); padding: 10px; border-radius: 6px; border: 1px solid rgba(255,77,77,0.2);">
          <div style="color: #ff4d4d; font-weight: 600; font-size: 13px;">Oxygen</div>
          <div style="color: rgba(230,250,255,0.7); font-size: 12px;">-183Â°C â€¢ -297Â°F â€¢ 90K</div>
        </div>
      </div>
    </div>
  </div>
  
  <!-- ğŸš¨ ERROR MESSAGE -->
  <div id="bpf-error" style="margin-top: 20px; padding: 15px; background: rgba(255,77,77,0.1); border-radius: 8px; border: 1px solid rgba(255,77,77,0.3); display: none;">
    <div style="color: #ff4d4d; font-weight: 600; margin-bottom: 5px;">âš ï¸ Substance not found</div>
    <div id="bpf-error-text" style="color: rgba(255,77,77,0.9);"></div>
  </div>
</div>

<style>
#boiling-point-finder { 
  color: #2dd4ff; 
  margin-top: 0;
  margin-bottom: 10px;
}

.description {
  color: rgba(230,250,255,0.8);
  margin-bottom: 20px;
  font-size: 14px;
}

.disclaimer {
  display: block;
  color: rgba(255,165,0,0.8);
  font-size: 12px;
  margin-top: 5px;
  font-style: italic;
}

/* Responsive adjustments */
@media (max-width: 768px) {
  .tool-body > div > div {
    grid-template-columns: 1fr !important;
  }
  
  .bpf-example-btn {
    width: calc(50% - 5px);
    margin: 2px 0 !important;
  }
  
  #bpf-find-btn, #bpf-reset-btn {
    width: 100%;
    margin: 5px 0 !important;
  }
  
  #bpf-common-list > div > div {
    grid-template-columns: 1fr 1fr !important;
  }
}
</style>

<script>
// ============================================
// BOILING POINT FINDER - PROPERLY SCOPED
// All functions prefixed with "bpf" (boiling point finder)
// ============================================

// Boiling point database (Â°C at 1 atm)
const bpfDB = {
  water: 100,
  ethanol: 78.37,
  methanol: 64.7,
  propanol: 97.2,
  butanol: 117.7,
  acetone: 56,
  acetic_acid: 118,
  formic_acid: 100.8,
  glycerol: 290,
  benzene: 80.1,
  toluene: 110.6,
  xylene: 138.5,
  chloroform: 61.2,
  ether: 34.6,
  diethyl_ether: 34.6,
  dimethylformamide: 153,
  dimethylsulfoxide: 189,
  ammonia: -33.3,
  nitrogen: -195.8,
  oxygen: -183,
  hydrogen: -252.9,
  helium: -268.9,
  argon: -185.8,
  krypton: -153.4,
  xenon: -108.1,
  radon: -61.7,
  carbon_dioxide: -78.5,
  carbon_monoxide: -191.5,
  methane: -161.5,
  ethane: -88.6,
  propane: -42.1,
  butane: -0.5,
  pentane: 36.1,
  hexane: 68.7,
  octane: 125.6,
  fluorine: -188.1,
  chlorine: -34.0,
  bromine: 58.8,
  iodine: 184.3,
  mercury: 356.7,
  silver: 2162,
  gold: 2856,
  copper: 2562,
  iron: 2862,
  aluminum: 2470,
  lead: 1749,
  zinc: 907,
  tin: 2602,
  nickel: 2913,
  cobalt: 2927,
  lithium: 1342,
  sodium: 883,
  potassium: 759,
  rubidium: 688,
  cesium: 671,
  sulfur: 444.6,
  phosphorus: 280,
  boron: 4000,
  silicon: 3265,
  carbon: 4827,
  titanium: 3287,
  tungsten: 5555,
  acetonitrile: 81.6,
  acetaldehyde: 20.8,
  acrolein: 52.3,
  acrylonitrile: 77.2,
  nitrobenzene: 210.9,
  aniline: 184.4,
  phenol: 181.7,
  styrene: 145.2,
  nitric_acid: 83,
  hydrochloric_acid: -85,
  hydrofluoric_acid: 19.5,
  sulfuric_acid: 337,
  phosphoric_acid: 158,
  hydrogen_peroxide: 150.2,
  ammonia_solution: -33,
  ethanolamine: 170,
  ethylene_glycol: 197,
  propylene_glycol: 188,
  formaldehyde: -19,
  urea: 133,
  pyridine: 115.2,
  quinoline: 237,
  naphthalene: 218,
  anthracene: 340,
  isopropanol: 82.6,
  butanone: 79.6,
  cyclohexane: 80.7,
  tetrahydrofuran: 66,
  dimethyl_ether: -24,
  ethyl_acetate: 77.1,
  methyl_acetate: 57.1,
  propylene_oxide: 34,
  dichloromethane: 39.6,
  trichloroethylene: 87.2,
  carbon_tetrachloride: 76.7,
  heptane: 98.4,
  nonane: 150.8,
  decane: 174.1,
  dodecane: 216.3,
  cyclopentane: 49.3,
  cycloheptane: 118.4,
  cyclooctane: 151.4,
  hydrogen_chloride: -85.1,
  hydrogen_bromide: -66.8,
  hydrogen_iodide: -35.4,
  hydrogen_sulfide: -60.3,
  sulfur_dioxide: -10,
  sulfur_hexafluoride: -64,
  phosphine: -87.7,
  silane: -112,
  boron_trichloride: 12.6,
  boron_trifluoride: -100.3,
  perchloric_acid: 203,
  hydrobromic_acid: -67,
  hydroiodic_acid: -35,
  lactic_acid: 122,
  citric_acid: 310,
  tartaric_acid: 170,
  acetylacetone: 140,
  butyric_acid: 163.5,
  caproic_acid: 205,
  stearic_acid: 383,
  oleic_acid: 360,
  linoleic_acid: 230,
  palmitic_acid: 351,
  ethylene: -103.7,
  propylene: -47.6,
  vinyl_chloride: -13.4,
  magnesium: 1090,
  calcium: 1484,
  strontium: 1382,
  barium: 1897,
  zirconium: 4377,
  molybdenum: 5560,
  vanadium: 3407,
  chromium: 2672,
  manganese: 2061,
  platinum: 3825,
  palladium: 2963,
  rhodium: 3695,
  iridium: 4130,
  osmium: 5012,
  rhenium: 5596
};

// Alternative names mapping
const bpfAliases = {
  'alcohol': 'ethanol',
  'rubbing alcohol': 'isopropanol',
  'nail polish remover': 'acetone',
  'vinegar': 'acetic_acid',
  'dry ice': 'carbon_dioxide',
  'liquid nitrogen': 'nitrogen',
  'liquid oxygen': 'oxygen',
  'bleach': 'sodium_hypochlorite',
  'salt': 'sodium_chloride',
  'sugar': 'sucrose',
  'table salt': 'sodium_chloride',
  'baking soda': 'sodium_bicarbonate'
};

// Initialize the tool
function bpfInit() {
  console.log("Boiling Point Finder: Initializing...");
  
  // Example buttons
  const exampleBtns = document.querySelectorAll('.bpf-example-btn');
  exampleBtns.forEach(btn => {
    btn.addEventListener('click', function() {
      const substance = this.dataset.substance;
      document.getElementById('bpf-substance').value = substance;
      
      // Visual feedback
      exampleBtns.forEach(b => {
        b.style.background = '';
        b.style.border = '1px solid rgba(255,255,255,0.1)';
      });
      this.style.background = 'rgba(45,212,255,0.2)';
      this.style.border = '1px solid #2dd4ff';
      
      bpfClearResults();
    });
  });
  
  // Find button
  document.getElementById('bpf-find-btn').addEventListener('click', bpfFind);
  
  // Reset button
  document.getElementById('bpf-reset-btn').addEventListener('click', bpfReset);
  
  // Copy button
  document.getElementById('bpf-copy-btn').addEventListener('click', bpfCopyResult);
  
  // Enter key support
  document.getElementById('bpf-substance').addEventListener('keypress', function(e) {
    if (e.key === 'Enter') {
      bpfFind();
    }
  });
  
  console.log("âœ… Boiling Point Finder ready!");
}

// Convert temperature
function bpfConvertTemp(valueC, unit) {
  if (unit === 'C') return valueC.toFixed(2);
  if (unit === 'F') return (valueC * 9/5 + 32).toFixed(2);
  if (unit === 'K') return (valueC + 273.15).toFixed(2);
  return valueC.toFixed(2);
}

// Get unit symbol
function bpfGetUnitSymbol(unit) {
  if (unit === 'C') return 'Â°C';
  if (unit === 'F') return 'Â°F';
  if (unit === 'K') return 'K';
  return 'Â°C';
}

// Format substance name
function bpfFormatName(name) {
  return name.replace(/_/g, ' ').replace(/\b\w/g, l => l.toUpperCase());
}

// Main find function
function bpfFind() {
  console.log("Finding boiling point...");
  
  // Hide previous results/errors
  document.getElementById('bpf-results').style.display = 'none';
  document.getElementById('bpf-error').style.display = 'none';
  
  // Get inputs
  let substance = document.getElementById('bpf-substance').value.toLowerCase().trim();
  const unit = document.getElementById('bpf-unit').value;
  
  if (!substance) {
    bpfShowError('Please enter a substance name');
    return;
  }
  
  // Clean and normalize substance name
  substance = substance.replace(/\s+/g, '_');
  
  // Check aliases first
  if (bpfAliases[substance]) {
    substance = bpfAliases[substance];
  }
  
  // Try exact match
  let bpC = bpfDB[substance];
  
  // Try partial match
  if (bpC === undefined) {
    const keys = Object.keys(bpfDB);
    const foundKey = keys.find(key => 
      key.includes(substance) || substance.includes(key.replace(/_/g, ''))
    );
    
    if (foundKey) {
      substance = foundKey;
      bpC = bpfDB[foundKey];
    }
  }
  
  if (bpC === undefined) {
    bpfShowError(`"${bpfFormatName(substance)}" not found in database. Try common chemicals like water, ethanol, or nitrogen.`);
    return;
  }
  
  // Calculate conversions
  const tempC = bpfConvertTemp(bpC, 'C');
  const tempF = bpfConvertTemp(bpC, 'F');
  const tempK = bpfConvertTemp(bpC, 'K');
  const displayTemp = bpfConvertTemp(bpC, unit);
  const displayUnit = bpfGetUnitSymbol(unit);
  
  // Display results
  const formattedName = bpfFormatName(substance);
  document.getElementById('bpf-result-display').innerHTML = `
    <div style="font-size: 24px; margin-bottom: 10px;">${formattedName}</div>
    <div style="color: #2dd4ff; font-size: 32px; font-weight: bold;">${displayTemp} ${displayUnit}</div>
    <div style="color: rgba(230,250,255,0.7); font-size: 14px; margin-top: 5px;">Boiling Point at 1 atm</div>
  `;
  
  // Display conversions
  document.getElementById('bpf-conversions').innerHTML = `
    <div style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 10px; text-align: center;">
      <div style="background: rgba(45,212,255,0.1); padding: 10px; border-radius: 6px;">
        <div style="color: #2dd4ff; font-weight: 600;">Celsius</div>
        <div style="font-size: 18px; color: #e6faff;">${tempC} Â°C</div>
      </div>
      <div style="background: rgba(255,165,0,0.1); padding: 10px; border-radius: 6px;">
        <div style="color: #ffa500; font-weight: 600;">Fahrenheit</div>
        <div style="font-size: 18px; color: #e6faff;">${tempF} Â°F</div>
      </div>
      <div style="background: rgba(57,255,20,0.1); padding: 10px; border-radius: 6px;">
        <div style="color: #39ff14; font-weight: 600;">Kelvin</div>
        <div style="font-size: 18px; color: #e6faff;">${tempK} K</div>
      </div>
    </div>
    <div style="margin-top: 15px; color: rgba(230,250,255,0.6); font-size: 13px; text-align: center;">
      Conversion formulas: Â°F = (Â°C Ã— 9/5) + 32 â€¢ K = Â°C + 273.15
    </div>
  `;
  
  document.getElementById('bpf-results').style.display = 'block';
}

// Reset function
function bpfReset() {
  document.getElementById('bpf-substance').value = '';
  bpfClearResults();
  
  // Reset example buttons
  document.querySelectorAll('.bpf-example-btn').forEach(btn => {
    btn.style.background = '';
    btn.style.border = '1px solid rgba(255,255,255,0.1)';
  });
  
  console.log("Boiling point finder reset");
}

// Clear results
function bpfClearResults() {
  document.getElementById('bpf-results').style.display = 'none';
  document.getElementById('bpf-error').style.display = 'none';
}

// Copy result
function bpfCopyResult() {
  const result = document.getElementById('bpf-result-display').textContent;
  const conversions = document.getElementById('bpf-conversions').textContent;
  const substance = document.getElementById('bpf-substance').value || 'Unknown';
  
  const textToCopy = `Boiling Point Finder: ${substance}\n${result}\n${conversions}`;
  
  navigator.clipboard.writeText(textToCopy).then(() => {
    const copyBtn = document.getElementById('bpf-copy-btn');
    const originalText = copyBtn.textContent;
    copyBtn.textContent = 'âœ… Copied!';
    copyBtn.style.background = 'rgba(57,255,20,0.2)';
    
    setTimeout(() => {
      copyBtn.textContent = originalText;
      copyBtn.style.background = '';
    }, 2000);
  }).catch(err => {
    console.error('Copy failed:', err);
    alert('Failed to copy. Please select and copy manually.');
  });
}

// Show error
function bpfShowError(message) {
  document.getElementById('bpf-error-text').textContent = message;
  document.getElementById('bpf-error').style.display = 'block';
}

// Initialize when DOM is ready
if (document.readyState === 'loading') {
  document.addEventListener('DOMContentLoaded', bpfInit);
} else {
  setTimeout(bpfInit, 100);
}
</script>
