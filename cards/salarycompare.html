<h2 id="salarycompare-title" style="margin-top:0;">Salary Compare</h2>

<form aria-describedby="salarycompare-desc">
  <p id="salarycompare-desc" class="small">Compare two salaries, with optional cost‑of‑living adjustment.</p>

  <div class="row">
    <div class="field">
      <label for="salarycompare-salary1">Salary A (£)</label>
      <input id="salarycompare-salary1" type="number" min="0" value="40000" />
    </div>
    <div class="field">
      <label for="salarycompare-col1">Cost of living index A</label>
      <input id="salarycompare-col1" type="number" min="1" value="100" />
    </div>
  </div>

  <div class="row">
    <div class="field">
      <label for="salarycompare-salary2">Salary B (£)</label>
      <input id="salarycompare-salary2" type="number" min="0" value="50000" />
    </div>
    <div class="field">
      <label for="salarycompare-col2">Cost of living index B</label>
      <input id="salarycompare-col2" type="number" min="1" value="120" />
    </div>
  </div>

  <div class="actions">
    <button type="button" onclick="salarycompareCalc(this)">Compare</button>
    <button type="button" class="secondary" onclick="salarycompareReset(this)">Reset</button>
  </div>
</form>

<div class="results" aria-live="polite">
  <div class="result">
    <div class="label">Adjusted comparison</div>
    <div class="value" id="salarycompare-res">–</div>
  </div>
</div>

<details class="small" style="margin-top:12px;">
  <summary>How it works</summary>
  <p>
    Adjusted salary = Salary ÷ (Cost of living index ÷ 100).  
    Higher adjusted value = better purchasing power.
  </p>
</details>

<script>
function salarycompareCalc(btn) {
  const card = btn.closest('.card');
  const s1 = parseFloat(card.querySelector('#salarycompare-salary1').value) || 0;
  const c1 = parseFloat(card.querySelector('#salarycompare-col1').value) || 100;
  const s2 = parseFloat(card.querySelector('#salarycompare-salary2').value) || 0;
  const c2 = parseFloat(card.querySelector('#salarycompare-col2').value) || 100;

  const adj1 = s1 / (c1 / 100);
  const adj2 = s2 / (c2 / 100);

  let result = "Salary A: £" + adj1.toFixed(0) + " vs Salary B: £" + adj2.toFixed(0);
  if (adj1 > adj2) result += " → A has better purchasing power";
  else if (adj2 > adj1) result += " → B has better purchasing power";
  else result += " → Equal";

  card.querySelector('#salarycompare-res').textContent = result;
}

function salarycompareReset(btn) {
  const card = btn.closest('.card');
  card.querySelector('form').reset();
  card.querySelector('#salarycompare-res').textContent = '–';
}
</script>
