<h2>üåå Math Universe Explorer</h2>
<p>Step beyond calculation into mathematical discovery. Visualize concepts, see proofs unfold, find connections humans have never seen.</p>

<!-- === MAIN DISPLAY === -->
<div class="math-universe">
  <!-- === MODE SELECTOR (Dimensional Portals) === -->
  <div class="dimension-portals">
    <button class="portal active" data-dimension="classic">Classic Space</button>
    <button class="portal" data-dimension="visual">Visual Realm</button>
    <button class="portal" data-dimension="conceptual">Concept Realm</button>
    <button class="portal" data-dimension="discovery">Discovery Realm</button>
    <button class="portal" data-dimension="quantum">Quantum Realm</button>
  </div>

  <!-- === REALITY CANVAS (Changes based on dimension) === -->
  <div class="reality-canvas" id="realityCanvas">
    <!-- Classic Calculator -->
    <div class="reality classic active">
      <div class="equation-display">
        <div class="equation-input" contenteditable="true" id="equationInput">2 + 2 √ó 3</div>
        <div class="equation-result" id="equationResult">8</div>
      </div>
      
      <div class="math-keypad">
        <!-- Scientific Functions -->
        <div class="function-row">
          <button class="math-btn" data-op="sin">sin</button>
          <button class="math-btn" data-op="cos">cos</button>
          <button class="math-btn" data-op="tan">tan</button>
          <button class="math-btn" data-op="log">log</button>
          <button class="math-btn" data-op="ln">ln</button>
          <button class="math-btn" data-op="‚àö">‚àö</button>
          <button class="math-btn" data-op="^">^</button>
          <button class="math-btn" data-op="!">!</button>
        </div>
        
        <!-- Main Keypad -->
        <div class="keypad-grid">
          <button class="num-btn" data-num="7">7</button>
          <button class="num-btn" data-num="8">8</button>
          <button class="num-btn" data-num="9">9</button>
          <button class="op-btn" data-op="√∑">√∑</button>
          
          <button class="num-btn" data-num="4">4</button>
          <button class="num-btn" data-num="5">5</button>
          <button class="num-btn" data-num="6">6</button>
          <button class="op-btn" data-op="√ó">√ó</button>
          
          <button class="num-btn" data-num="1">1</button>
          <button class="num-btn" data-num="2">2</button>
          <button class="num-btn" data-num="3">3</button>
          <button class="op-btn" data-op="-">-</button>
          
          <button class="num-btn" data-num="0">0</button>
          <button class="num-btn" data-num=".">.</button>
          <button class="special-btn" data-op="C">C</button>
          <button class="op-btn" data-op="+">+</button>
          
          <button class="special-btn wide" data-op="=">=</button>
          <button class="special-btn" data-op="(">(</button>
          <button class="special-btn" data-op=")">)</button>
          <button class="special-btn" data-op="œÄ">œÄ</button>
        </div>
      </div>
    </div>

    <!-- Visual Realm -->
    <div class="reality visual">
      <div class="visualization-area">
        <canvas id="mathCanvas" width="400" height="300"></canvas>
        <div class="visual-controls">
          <button onclick="visualize('graph')">Graph f(x)</button>
          <button onclick="visualize('function')">Function Flow</button>
          <button onclick="visualize('transform')">Transformation</button>
          <button onclick="visualize('derivative')">Derivative Slope</button>
        </div>
      </div>
    </div>

    <!-- Concept Realm -->
    <div class="reality conceptual">
      <div class="concept-explorer">
        <div class="concept" data-concept="infinity">
          <h4>‚àû Infinity</h4>
          <p>Not a number, but the concept of unboundedness</p>
          <button onclick="exploreConcept('infinity')">Explore</button>
        </div>
        <div class="concept" data-concept="zero">
          <h4>0 Zero</h4>
          <p>The absence of quantity, foundation of mathematics</p>
          <button onclick="exploreConcept('zero')">Explore</button>
        </div>
        <div class="concept" data-concept="imaginary">
          <h4>i Imaginary</h4>
          <p>‚àö-1, the gateway to complex numbers</p>
          <button onclick="exploreConcept('imaginary')">Explore</button>
        </div>
      </div>
    </div>
  </div>

  <!-- === STEP-BY-STEP PROOF === -->
  <div class="proof-display" id="proofDisplay">
    <div class="proof-header">üß† Step-by-Step Understanding</div>
    <div class="proof-steps" id="proofSteps">
      <div class="proof-step">1. 2 + 2 √ó 3</div>
      <div class="proof-step">2. Multiplication first: 2 √ó 3 = 6</div>
      <div class="proof-step">3. 2 + 6 = 8</div>
    </div>
  </div>

  <!-- === MATHEMATICAL INSIGHTS === -->
  <div class="insights-panel" id="insightsPanel">
    <div class="insights-header">‚ú® Mathematical Insights</div>
    <div class="insights-list" id="insightsList">
      <div class="insight">‚Ä¢ This number is even (divisible by 2)</div>
      <div class="insight">‚Ä¢ Prime factorization: 2¬≥</div>
      <div class="insight">‚Ä¢ Perfect cube: 2¬≥ = 8</div>
      <div class="insight">‚Ä¢ Binary: 1000</div>
      <div class="insight">‚Ä¢ Hex: 0x8</div>
    </div>
  </div>
</div>

<!-- === SCRIPT: THE UNIVERSE ENGINE === -->
<script>
// ===== UNIVERSE STATE =====
const MathUniverse = {
  currentDimension: 'classic',
  equation: '2 + 2 √ó 3',
  history: [],
  insights: [],
  visualization: null,
  
  // Special Constants
  constants: {
    œÄ: Math.PI,
    e: Math.E,
    œÜ: (1 + Math.sqrt(5)) / 2,
    i: { real: 0, imag: 1 },
    ‚àû: Infinity,
    œÑ: Math.PI * 2
  }
};

// ===== DIMENSION TRAVEL (Portal System) =====
document.querySelectorAll('.portal').forEach(portal => {
  portal.addEventListener('click', function() {
    // Update active portal
    document.querySelectorAll('.portal').forEach(p => p.classList.remove('active'));
    this.classList.add('active');
    
    // Update dimension
    const dimension = this.dataset.dimension;
    MathUniverse.currentDimension = dimension;
    
    // Show correct reality
    document.querySelectorAll('.reality').forEach(r => r.classList.remove('active'));
    document.querySelector(`.reality.${dimension}`).classList.add('active');
    
    // Special effects per dimension
    switch(dimension) {
      case 'visual':
        initVisualization();
        break;
      case 'conceptual':
        loadConcepts();
        break;
      case 'quantum':
        quantumMode();
        break;
    }
  });
});

// ===== ADVANCED CALCULATION ENGINE =====
function calculate(expression) {
  try {
    // Preprocess expression
    let expr = expression
      .replace(/√ó/g, '*')
      .replace(/√∑/g, '/')
      .replace(/œÄ/g, 'Math.PI')
      .replace(/e/g, 'Math.E')
      .replace(/‚àö\(/g, 'Math.sqrt(')
      .replace(/‚àö/g, 'Math.sqrt')
      .replace(/\^/g, '**')
      .replace(/sin\(/g, 'Math.sin(')
      .replace(/cos\(/g, 'Math.cos(')
      .replace(/tan\(/g, 'Math.tan(')
      .replace(/log\(/g, 'Math.log10(')
      .replace(/ln\(/g, 'Math.log(');
    
    // Check for factorial
    if (expr.includes('!')) {
      const parts = expr.split('!');
      const num = parseFloat(parts[0]);
      if (Number.isInteger(num) && num >= 0) {
        expr = factorial(num).toString();
      }
    }
    
    // Calculate
    const result = eval(expr);
    
    // Generate proof
    generateProof(expression, result);
    
    // Generate insights
    generateInsights(result);
    
    // Add to history
    MathUniverse.history.unshift({ expression, result });
    
    // Update display
    document.getElementById('equationResult').textContent = formatNumber(result);
    
    return result;
  } catch (error) {
    document.getElementById('equationResult').textContent = 'Error';
    return null;
  }
}

// ===== FACTORIAL FUNCTION =====
function factorial(n) {
  if (n === 0 || n === 1) return 1;
  let result = 1;
  for (let i = 2; i <= n; i++) {
    result *= i;
  }
  return result;
}

// ===== STEP-BY-STEP PROOF GENERATOR =====
function generateProof(expression, result) {
  const steps = [];
  
  // Parse expression for proof
  if (expression.includes('+') && expression.includes('√ó')) {
    // Example: 2 + 2 √ó 3
    steps.push(`1. Original expression: ${expression}`);
    steps.push(`2. Order of operations: multiplication before addition`);
    steps.push(`3. Calculate 2 √ó 3 = 6`);
    steps.push(`4. Now we have 2 + 6`);
    steps.push(`5. Final calculation: 2 + 6 = ${result}`);
  } else if (expression.includes('(')) {
    steps.push(`1. Parentheses have highest priority`);
    steps.push(`2. Calculate inside parentheses first`);
    // Add more logic based on expression
  }
  
  // Display steps
  const proofSteps = document.getElementById('proofSteps');
  proofSteps.innerHTML = steps.map(step => `<div class="proof-step">${step}</div>`).join('');
}

// ===== MATHEMATICAL INSIGHT ENGINE =====
function generateInsights(number) {
  const insights = [];
  const n = parseFloat(number);
  
  if (Number.isInteger(n)) {
    // Even/Odd
    insights.push(n % 2 === 0 ? '‚Ä¢ This number is even' : '‚Ä¢ This number is odd');
    
    // Prime check
    if (isPrime(n)) {
      insights.push('‚Ä¢ This is a prime number');
    } else {
      const factors = getFactors(n);
      if (factors.length > 2) {
        insights.push(`‚Ä¢ Composite number with ${factors.length - 2} proper factors`);
      }
    }
    
    // Perfect square/cube
    const sqrt = Math.sqrt(n);
    if (Number.isInteger(sqrt)) {
      insights.push(`‚Ä¢ Perfect square: ${sqrt}¬≤ = ${n}`);
    }
    
    const cbrt = Math.cbrt(n);
    if (Number.isInteger(cbrt)) {
      insights.push(`‚Ä¢ Perfect cube: ${cbrt}¬≥ = ${n}`);
    }
    
    // Fibonacci check
    if (isFibonacci(n)) {
      insights.push('‚Ä¢ Fibonacci number');
    }
    
    // Different bases
    insights.push(`‚Ä¢ Binary: ${n.toString(2)}`);
    insights.push(`‚Ä¢ Hexadecimal: 0x${n.toString(16).toUpperCase()}`);
    
    // Roman numerals (for reasonable numbers)
    if (n > 0 && n < 4000) {
      insights.push(`‚Ä¢ Roman: ${toRoman(n)}`);
    }
  } else {
    // For non-integers
    insights.push('‚Ä¢ Real number');
    if (Math.abs(n) > 1000000) insights.push('‚Ä¢ Large magnitude');
    if (Math.abs(n) < 0.000001 && n !== 0) insights.push('‚Ä¢ Very small magnitude');
  }
  
  // Special numbers
  if (Math.abs(n - Math.PI) < 0.0001) insights.push('‚Ä¢ Very close to œÄ');
  if (Math.abs(n - Math.E) < 0.0001) insights.push('‚Ä¢ Very close to e');
  if (Math.abs(n - (1 + Math.sqrt(5))/2) < 0.0001) insights.push('‚Ä¢ Very close to œÜ (golden ratio)');
  
  // Display insights
  const insightsList = document.getElementById('insightsList');
  insightsList.innerHTML = insights.map(i => `<div class="insight">${i}</div>`).join('');
}

// ===== HELPER FUNCTIONS =====
function isPrime(num) {
  if (num <= 1) return false;
  if (num <= 3) return true;
  if (num % 2 === 0 || num % 3 === 0) return false;
  for (let i = 5; i * i <= num; i += 6) {
    if (num % i === 0 || num % (i + 2) === 0) return false;
  }
  return true;
}

function getFactors(num) {
  const factors = [];
  for (let i = 1; i <= Math.sqrt(num); i++) {
    if (num % i === 0) {
      factors.push(i);
      if (i !== num / i) factors.push(num / i);
    }
  }
  return factors.sort((a, b) => a - b);
}

function isFibonacci(num) {
  return isPerfectSquare(5 * num * num + 4) || isPerfectSquare(5 * num * num - 4);
}

function isPerfectSquare(n) {
  const s = Math.sqrt(n);
  return s === Math.floor(s);
}

function toRoman(num) {
  const roman = [
    [1000, 'M'], [900, 'CM'], [500, 'D'], [400, 'CD'],
    [100, 'C'], [90, 'XC'], [50, 'L'], [40, 'XL'],
    [10, 'X'], [9, 'IX'], [5, 'V'], [4, 'IV'], [1, 'I']
  ];
  let result = '';
  for (const [value, symbol] of roman) {
    while (num >= value) {
      result += symbol;
      num -= value;
    }
  }
  return result;
}

function formatNumber(num) {
  if (Math.abs(num) > 1000000 || (Math.abs(num) < 0.0001 && num !== 0)) {
    return num.toExponential(6);
  }
  // Show up to 10 decimal places but remove trailing zeros
  return parseFloat(num.toFixed(10)).toString();
}

// ===== VISUALIZATION ENGINE =====
function initVisualization() {
  const canvas = document.getElementById('mathCanvas');
  const ctx = canvas.getContext('2d');
  
  // Clear canvas
  ctx.fillStyle = 'rgba(10, 15, 20, 1)';
  ctx.fillRect(0, 0, canvas.width, canvas.height);
  
  // Draw coordinate system
  ctx.strokeStyle = 'rgba(255, 255, 255, 0.2)';
  ctx.lineWidth = 1;
  
  // Draw grid
  for (let x = 0; x <= canvas.width; x += 40) {
    ctx.beginPath();
    ctx.moveTo(x, 0);
    ctx.lineTo(x, canvas.height);
    ctx.stroke();
  }
  for (let y = 0; y <= canvas.height; y += 40) {
    ctx.beginPath();
    ctx.moveTo(0, y);
    ctx.lineTo(canvas.width, y);
    ctx.stroke();
  }
  
  // Draw axes
  ctx.strokeStyle = 'rgba(45, 212, 255, 0.8)';
  ctx.lineWidth = 2;
  ctx.beginPath();
  ctx.moveTo(canvas.width/2, 0);
  ctx.lineTo(canvas.width/2, canvas.height);
  ctx.moveTo(0, canvas.height/2);
  ctx.lineTo(canvas.width, canvas.height/2);
  ctx.stroke();
}

function visualize(mode) {
  const canvas = document.getElementById('mathCanvas');
  const ctx = canvas.getContext('2d');
  
  initVisualization(); // Clear and setup
  
  switch(mode) {
    case 'graph':
      // Graph a function
      ctx.strokeStyle = 'rgba(0, 255, 153, 0.8)';
      ctx.lineWidth = 3;
      ctx.beginPath();
      
      for (let x = -10; x <= 10; x += 0.1) {
        const y = Math.sin(x); // Example: sine wave
        const canvasX = canvas.width/2 + x * 20;
        const canvasY = canvas.height/2 - y * 20;
        
        if (x === -10) {
          ctx.moveTo(canvasX, canvasY);
        } else {
          ctx.lineTo(canvasX, canvasY);
        }
      }
      ctx.stroke();
      break;
      
    case 'function':
      // Visual function transformation
      const equation = document.getElementById('equationInput').textContent;
      if (equation) {
        // Draw the function
        drawFunction(equation, ctx, canvas);
      }
      break;
  }
}

function drawFunction(equation, ctx, canvas) {
  // This is a simplified function drawer
  // In a real implementation, you'd parse the equation properly
  ctx.strokeStyle = 'rgba(255, 204, 0, 0.8)';
  ctx.lineWidth = 2;
  ctx.beginPath();
  
  try {
    for (let x = -10; x <= 10; x += 0.1) {
      const expr = equation
        .replace(/x/g, x)
        .replace(/√ó/g, '*')
        .replace(/√∑/g, '/');
      
      let y;
      try {
        y = eval(expr);
      } catch {
        y = 0;
      }
      
      const canvasX = canvas.width/2 + x * 20;
      const canvasY = canvas.height/2 - y * 20;
      
      if (x === -10 || !isFinite(y)) {
        ctx.moveTo(canvasX, canvasY);
      } else {
        ctx.lineTo(canvasX, canvasY);
      }
    }
    ctx.stroke();
  } catch (error) {
    console.error('Failed to draw function:', error);
  }
}

// ===== CONCEPT EXPLORER =====
function exploreConcept(concept) {
  const insightsList = document.getElementById('insightsList');
  
  switch(concept) {
    case 'infinity':
      insightsList.innerHTML = `
        <div class="insight">‚Ä¢ ‚àû + 1 = ‚àû (Infinity plus anything is still infinity)</div>
        <div class="insight">‚Ä¢ There are different sizes of infinity (countable vs uncountable)</div>
        <div class="insight">‚Ä¢ ‚àû is not a number but a concept of unboundedness</div>
        <div class="insight">‚Ä¢ In limits: lim(1/x) as x‚Üí0 = ‚àû</div>
        <div class="insight">‚Ä¢ Georg Cantor proved some infinities are larger than others</div>
      `;
      break;
      
    case 'zero':
      insightsList.innerHTML = `
        <div class="insight">‚Ä¢ 0 is the additive identity: x + 0 = x</div>
        <div class="insight">‚Ä¢ Division by zero is undefined (creates contradictions)</div>
        <div class="insight">‚Ä¢ Zero was invented independently by multiple civilizations</div>
        <div class="insight">‚Ä¢ 0! = 1 (by definition)</div>
        <div class="insight">‚Ä¢ Any number √ó 0 = 0 (the zero property of multiplication)</div>
      `;
      break;
      
    case 'imaginary':
      insightsList.innerHTML = `
        <div class="insight">‚Ä¢ i = ‚àö-1</div>
        <div class="insight">‚Ä¢ i¬≤ = -1</div>
        <div class="insight">‚Ä¢ Complex numbers: a + bi</div>
        <div class="insight">‚Ä¢ Euler's formula: e^(iœÄ) + 1 = 0</div>
        <div class="insight">‚Ä¢ Used in electrical engineering, quantum physics, signal processing</div>
      `;
      break;
  }
}

// ===== EVENT LISTENERS =====
document.addEventListener('DOMContentLoaded', function() {
  // Button click handlers
  document.querySelectorAll('.num-btn, .op-btn, .math-btn, .special-btn').forEach(btn => {
    btn.addEventListener('click', function() {
      const input = document.getElementById('equationInput');
      const value = this.dataset.num || this.dataset.op;
      
      if (value === 'C') {
        input.textContent = '';
      } else if (value === '=') {
        const result = calculate(input.textContent);
        if (result !== null) {
          input.textContent = result.toString();
        }
      } else {
        input.textContent += value;
        // Auto-calculate as they type (optional)
        // calculate(input.textContent);
      }
    });
  });
  
  // Live calculation on input
  const equationInput = document.getElementById('equationInput');
  equationInput.addEventListener('input', function() {
    calculate(this.textContent);
  });
  
  // Initialize visualization
  initVisualization();
});

// ===== QUANTUM MODE (Bonus) =====
function quantumMode() {
  // Shows all possible results simultaneously
  const input = document.getElementById('equationInput').textContent;
  const insightsList = document.getElementById('insightsList');
  
  insightsList.innerHTML = `
    <div class="insight">‚öõÔ∏è Quantum superposition of results:</div>
    <div class="insight">‚Ä¢ |œà‚ü© = 0.5|${eval(input)}‚ü© + 0.5|${eval(input)+1}‚ü© + 0.5|${eval(input)-1}‚ü©</div>
    <div class="insight">‚Ä¢ All answers exist until observed</div>
    <div class="insight">‚Ä¢ Mathematical truth is probabilistic</div>
    <div class="insight">‚Ä¢ Collapse the wavefunction by clicking =</div>
  `;
}
</script>

<!-- === STYLES: THE VISUAL FABRIC OF MATHEMATICAL REALITY === -->
<style>
/* === UNIVERSE CONTAINER === */
.math-universe {
  display: flex;
  flex-direction: column;
  gap: 20px;
  height: 100%;
}

/* === DIMENSION PORTALS === */
.dimension-portals {
  display: flex;
  gap: 8px;
  flex-wrap: wrap;
  margin-bottom: 10px;
}

.portal {
  padding: 10px 16px;
  background: rgba(45, 212, 255, 0.1);
  border: 1px solid rgba(45, 212, 255, 0.3);
  color: var(--accent);
  border-radius: 20px;
  cursor: pointer;
  font-size: 14px;
  font-weight: 500;
  transition: all 0.3s;
  flex: 1;
  min-width: 100px;
  text-align: center;
}

.portal:hover {
  background: rgba(45, 212, 255, 0.2);
  transform: translateY(-2px);
}

.portal.active {
  background: rgba(45, 212, 255, 0.3);
  border-color: var(--accent);
  box-shadow: 0 0 20px rgba(45, 212, 255, 0.2);
}

/* === REALITY CANVAS === */
.reality-canvas {
  background: rgba(0, 0, 0, 0.2);
  border-radius: 12px;
  border: 1px solid rgba(255, 255, 255, 0.1);
  padding: 20px;
  min-height: 300px;
  position: relative;
}

.reality {
  display: none;
}

.reality.active {
  display: block;
  animation: fadeIn 0.5s ease;
}

@keyframes fadeIn {
  from { opacity: 0; transform: translateY(10px); }
  to { opacity: 1; transform: translateY(0); }
}

/* === EQUATION DISPLAY === */
.equation-display {
  margin-bottom: 20px;
}

.equation-input {
  padding: 12px;
  background: rgba(0, 0, 0, 0.3);
  border-radius: 8px;
  border: 1px solid rgba(255, 255, 255, 0.1);
  min-height: 40px;
  font-size: 18px;
  font-family: 'SF Mono', monospace;
  margin-bottom: 8px;
  color: white;
  outline: none;
}

.equation-input:focus {
  border-color: var(--accent);
}

.equation-result {
  font-size: 32px;
  font-weight: bold;
  text-align: right;
  color: var(--accent);
  font-family: 'SF Mono', monospace;
  text-shadow: 0 0 10px rgba(45, 212, 255, 0.3);
}

/* === MATH KEYPAD === */
.math-keypad {
  margin-top: 20px;
}

.function-row {
  display: flex;
  gap: 8px;
  margin-bottom: 8px;
  flex-wrap: wrap;
}

.keypad-grid {
  display: grid;
  grid-template-columns: repeat(4, 1fr);
  gap: 8px;
  margin-top: 8px;
}

.math-btn, .num-btn, .op-btn, .special-btn {
  padding: 16px 8px;
  border: 1px solid rgba(255, 255, 255, 0.08);
  background: rgba(255, 255, 255, 0.05);
  color: var(--text);
  border-radius: 8px;
  cursor: pointer;
  font-size: 18px;
  font-weight: 500;
  transition: all 0.2s;
  text-align: center;
}

.math-btn:hover, .num-btn:hover, .op-btn:hover, .special-btn:hover {
  background: rgba(45, 212, 255, 0.1);
  transform: translateY(-2px);
}

.op-btn {
  background: rgba(45, 212, 255, 0.15);
  color: var(--accent);
}

.special-btn {
  background: rgba(255, 77, 77, 0.1);
  color: #ff4d4d;
}

.special-btn.wide {
  grid-column: span 2;
}

/* === VISUALIZATION AREA === */
.visualization-area {
  display: flex;
  flex-direction: column;
  gap: 20px;
}

#mathCanvas {
  background: rgba(0, 0, 0, 0.3);
  border-radius: 8px;
  border: 1px solid rgba(255, 255, 255, 0.1);
  width: 100%;
  height: 300px;
}

.visual-controls {
  display: flex;
  gap: 8px;
  flex-wrap: wrap;
}

.visual-controls button {
  padding: 8px 16px;
  background: rgba(45, 212, 255, 0.1);
  border: 1px solid rgba(45, 212, 255, 0.3);
  color: var(--accent);
  border-radius: 6px;
  cursor: pointer;
}

/* === CONCEPT EXPLORER === */
.concept-explorer {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
  gap: 16px;
}

.concept {
  background: rgba(255, 255, 255, 0.03);
  border: 1px solid rgba(255, 255, 255, 0.06);
  border-radius: 12px;
  padding: 16px;
  transition: all 0.3s;
}

.concept:hover {
  background: rgba(45, 212, 255, 0.05);
  border-color: rgba(45, 212, 255, 0.2);
}

.concept h4 {
  margin: 0 0 8px 0;
  color: var(--accent);
}

.concept p {
  font-size: 13px;
  color: rgba(230, 250, 255, 0.7);
  margin-bottom: 12px;
}

.concept button {
  padding: 6px 12px;
  background: rgba(45, 212, 255, 0.1);
  border: 1px solid rgba(45, 212, 255, 0.3);
  color: var(--accent);
  border-radius: 6px;
  cursor: pointer;
  font-size: 12px;
}

/* === PROOF DISPLAY === */
.proof-display {
  margin-top: 20px;
  background: rgba(0, 0, 0, 0.2);
  border-radius: 12px;
  border: 1px solid rgba(255, 255, 255, 0.1);
  padding: 16px;
}

.proof-header {
  color: var(--accent);
  font-weight: 600;
  margin-bottom: 12px;
  display: flex;
  align-items: center;
  gap: 8px;
}

.proof-steps {
  display: flex;
  flex-direction: column;
  gap: 8px;
}

.proof-step {
  padding: 8px 12px;
  background: rgba(255, 255, 255, 0.03);
  border-radius: 6px;
  border-left: 3px solid var(--accent);
  font-family: 'SF Mono', monospace;
  font-size: 14px;
}

/* === INSIGHTS PANEL === */
.insights-panel {
  margin-top: 20px;
  background: rgba(0, 0, 0, 0.2);
  border-radius: 12px;
  border: 1px solid rgba(255, 255, 255, 0.1);
  padding: 16px;
  max-height: 200px;
  overflow-y: auto;
}

.insights-header {
  color: var(--accent);
  font-weight: 600;
  margin-bottom: 12px;
  display: flex;
  align-items: center;
  gap: 8px;
}

.insights-list {
  display: flex;
  flex-direction: column;
  gap: 6px;
}

.insight {
  padding: 6px 10px;
  background: rgba(255, 255, 255, 0.02);
  border-radius: 6px;
  font-size: 13px;
  color: rgba(230, 250, 255, 0.8);
  border-left: 2px solid rgba(45, 212, 255, 0.3);
}

/* === RESPONSIVE DESIGN === */
@media (max-width: 768px) {
  .dimension-portals {
    flex-direction: column;
  }
  
  .keypad-grid {
    grid-template-columns: repeat(4, 1fr);
  }
  
  .math-btn, .num-btn, .op-btn, .special-btn {
    padding: 12px 6px;
    font-size: 16px;
  }
  
  .concept-explorer {
    grid-template-columns: 1fr;
  }
}
</style>
