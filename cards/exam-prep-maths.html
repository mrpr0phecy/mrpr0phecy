<h2 id="exam-prep-maths-title" style="margin-top:0;">Exam Prep (Maths)</h2>

<form aria-describedby="exam-prep-maths-desc">
  <p id="exam-prep-maths-desc" class="small">Generate practice exam questions in maths. Choose topic and difficulty, then view sample problems with solutions.</p>

  <div class="row" style="display:grid;grid-template-columns:1fr 1fr;gap:10px;">
    <div class="field">
      <label for="epm-topic">Topic</label>
      <select id="epm-topic" style="width:100%;">
        <option value="algebra" selected>Algebra</option>
        <option value="geometry">Geometry</option>
        <option value="calculus">Calculus</option>
        <option value="statistics">Statistics</option>
        <option value="number-theory">Number Theory</option>
      </select>
    </div>

    <div class="field">
      <label for="epm-difficulty">Difficulty</label>
      <select id="epm-difficulty" style="width:100%;">
        <option value="easy" selected>Easy</option>
        <option value="medium">Medium</option>
        <option value="hard">Hard</option>
      </select>
    </div>

    <div class="field">
      <label for="epm-show-answer">Show answer</label>
      <select id="epm-show-answer" style="width:100%;">
        <option value="yes" selected>Yes</option>
        <option value="no">No</option>
      </select>
    </div>
  </div>

  <div class="actions" style="margin-top:12px;">
    <button type="button" onclick="epmGenerate(this)">Generate Question</button>
    <button type="button" class="secondary" onclick="epmReset(this)">Reset</button>
    <button type="button" onclick="epmCopy(this)">Copy Question</button>
  </div>
</form>

<div class="results" aria-live="polite" style="margin-top:12px;">
  <h3 class="small">Exam Question</h3>
  <textarea id="epm-output" rows="10" style="width:100%;padding:10px;border-radius:8px;border:1px solid rgba(255,255,255,0.08);background:transparent;color:inherit;"></textarea>

  <div style="margin-top:8px;display:flex;gap:12px;align-items:center;">
    <div id="epm-hint" class="small" style="opacity:0.9;"></div>
  </div>
</div>

<script>
/* exam-prep-maths.html
   - Generates sample exam questions
   - Scoped with epm- prefix
*/

function epmReset(btn){
  const card=btn.closest('.card');
  card.querySelector('form').reset();
  card.querySelector('#epm-output').value="";
  card.querySelector('#epm-hint').textContent="";
}

function epmCopy(btn){
  const card=btn.closest('.card');
  const out=card.querySelector('#epm-output').value;
  if(!out.trim())return;
  navigator.clipboard?.writeText(out).then(()=>{
    const hint=card.querySelector('#epm-hint');
    hint.textContent="Copied to clipboard.";
    setTimeout(()=>{if(hint.textContent==="Copied to clipboard.")hint.textContent="";},1600);
  }).catch(()=>alert("Copy failed."));
}

function epmGenerate(btn){
  const card=btn.closest('.card');
  const topic=card.querySelector('#epm-topic').value;
  const diff=card.querySelector('#epm-difficulty').value;
  const showAns=card.querySelector('#epm-show-answer').value==="yes";
  let q="",a="";
  if(topic==="algebra"){
    q="Solve for x: 2x + 5 = 15";
    a="x = 5";
  } else if(topic==="geometry"){
    q="Find the area of a triangle with base 8 and height 6.";
    a="Area = 24";
  } else if(topic==="calculus"){
    q="Differentiate f(x) = x^3 + 2x.";
    a="fâ€²(x) = 3x^2 + 2";
  } else if(topic==="statistics"){
