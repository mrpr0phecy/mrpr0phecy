<h2 id="cat-photo-viewer" style="margin-top:0;">Cat Photo Viewer</h2>

<!--
  Manifest metadata
  id: cat-photo-viewer
  title: Cat Photo Viewer
  path: cards/cat-photo-viewer.html
  category: Fun
  version: 1.0
-->

<form aria-describedby="cpv-desc">
  <p id="cpv-desc" class="small">
    Enjoy random cat photos fetched from The Cat API.
  </p>

  <div style="margin-top:12px;">
    <button type="button" onclick="loadCat()">Refresh Cats</button>
  </div>
</form>

<div style="margin-top:12px;">
  <h3 class="small">Cats</h3>
  <div id="cpv-output" style="display:grid;grid-template-columns:repeat(auto-fit,minmax(160px,1fr));gap:12px;"></div>
</div>

<script>
async function loadCat(){
  const out=document.getElementById('cpv-output');
  out.textContent='Loading cats...';
  try{
    const r=await fetch('https://api.thecatapi.com/v1/images/search?limit=6');
    const data=await r.json();
    out.innerHTML='';
    data.forEach(cat=>{
      const img=document.createElement('img');
      img.src=cat.url;
      img.alt='Cat photo';
      img.style.width='100%';
      img.style.borderRadius='8px';
      img.style.objectFit='cover';
      out.appendChild(img);
    });
  }catch(err){
    out.textContent='Failed to load cats.';
  }
}
// Load cats on startup
loadCat();
</script>
