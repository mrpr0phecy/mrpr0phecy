<h2 id="energy-title" style="margin-top:0;">Energy Usage Calculator</h2>

<form aria-describedby="energy-desc">
  <p id="energy-desc" class="small">Estimate electricity costs for appliances.</p>

  <div class="row">
    <div class="field">
      <label for="energy-appliance">Appliance</label>
      <input id="energy-appliance" type="text" placeholder="e.g. Washing Machine" />
    </div>
    <div class="field">
      <label for="energy-power">Power (watts)</label>
      <input id="energy-power" type="number" min="1" value="1000" />
    </div>
    <div class="field">
      <label for="energy-hours">Usage time (hours)</label>
      <input id="energy-hours" type="number" min="0" step="0.1" value="2" />
    </div>
    <div class="field">
      <label for="energy-price">Price per kWh (£)</label>
      <input id="energy-price" type="number" step="0.01" value="0.30" />
    </div>
  </div>

  <div class="actions">
    <button type="button" onclick="energyCalc(this)">Calculate</button>
    <button type="button" class="secondary" onclick="energyReset(this)">Reset</button>
  </div>
</form>

<div class="results" aria-live="polite">
  <div class="result">
    <div class="label">Estimated cost</div>
    <div class="value" id="energy-res">–</div>
  </div>
</div>

<script>
function energyCalc(btn) {
  const card = btn.closest('.card');
  const power = parseFloat(card.querySelector('#energy-power').value) || 0; // watts
  const hours = parseFloat(card.querySelector('#energy-hours').value) || 0;
  const price = parseFloat(card.querySelector('#energy-price').value) || 0;

  // Convert watts to kilowatts
  const kWh = (power / 1000) * hours;
  const cost = kWh * price;

  const appliance = card.querySelector('#energy-appliance').value.trim() || "Appliance";
  card.querySelector('#energy-res').textContent =
    appliance + " cost: £" + cost.toFixed(2);
}

function energyReset(btn) {
  const card = btn.closest('.card');
  card.querySelector('form').reset();
  card.querySelector('#energy-res').textContent = '–';
}
</script>
