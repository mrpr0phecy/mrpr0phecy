<!-- cards/sl-texture-align.html -->
<div class="sl-texture-align-tool">
  <h4>SL Texture Alignment Tool</h4>
  <p class="intro">
    Calculate repeats, offsets, and rotations to align textures across prim faces in Second Life.
    <em>Disclaimer: Results are educational estimates. Always validate in‑world.</em>
  </p>

  <label>Texture Width (px): <input type="number" id="texWidth" value="512" /></label>
  <label>Texture Height (px): <input type="number" id="texHeight" value="512" /></label>
  <label>Prim Face Width (m): <input type="number" id="primWidth" step="0.01" value="1.0" /></label>
  <label>Prim Face Height (m): <input type="number" id="primHeight" step="0.01" value="1.0" /></label>
  <label>Desired Rotation (°): <input type="number" id="rotation" value="0" /></label>

  <button id="calcTexture">Calculate Alignment</button>

  <div id="texResults" class="results"></div>
</div>

<script>
document.getElementById('calcTexture').addEventListener('click', ()=>{
  const tw = parseFloat(document.getElementById('texWidth').value);
  const th = parseFloat(document.getElementById('texHeight').value);
  const pw = parseFloat(document.getElementById('primWidth').value);
  const ph = parseFloat(document.getElementById('primHeight').value);
  const rot = parseFloat(document.getElementById('rotation').value);

  if(!tw||!th||!pw||!ph){
    document.getElementById('texResults').innerHTML = "<p>Please enter valid values.</p>";
    return;
  }

  // Calculate repeats (scale factors)
  const repeatX = (pw / (tw/256)).toFixed(3);
  const repeatY = (ph / (th/256)).toFixed(3);

  // Offsets (centered by default)
  const offsetX = (0).toFixed(3);
  const offsetY = (0).toFixed(3);

  document.getElementById('texResults').innerHTML = `
    <h5>Alignment Values</h5>
    <p><strong>Repeat X:</strong> ${repeatX}</p>
    <p><strong>Repeat Y:</strong> ${repeatY}</p>
    <p><strong>Offset X:</strong> ${offsetX}</p>
    <p><strong>Offset Y:</strong> ${offsetY}</p>
    <p><strong>Rotation:</strong> ${rot}°</p>
    <p class="note">Copy these into the SL build window (Texture tab).</p>
  `;
});
</script>

<style>
.sl-texture-align-tool { font-size:0.95rem; }
.sl-texture-align-tool label { display:block; margin:6px 0; }
.sl-texture-align-tool input {
  width:100%; padding:6px; border-radius:6px;
  border:1px solid rgba(255,255,255,0.2); background:rgba(255,255,255,0.05);
  color:var(--muted);
}
.sl-texture-align-tool button {
  margin-top:10px; padding:8px 12px; border-radius:8px;
  border:1px solid var(--border); background:var(--glass-strong);
  color:var(--accent); cursor:pointer;
}
.results { margin-top:12px; padding:8px; background:rgba(255,255,255,0.05); border-radius:8px; }
.results h5 { margin:0 0 6px; color:var(--accent); }
.results p { margin:2px 0; }
.results .note { font-size:0.85rem; color:rgba(230,250,255,0.7); }
</style>
