<h2 id="tic-tac-toe" style="margin-top:0;">Tic Tac Toe</h2>

<!--
  Manifest metadata
  id: tic-tac-toe
  title: Tic Tac Toe
  path: cards/tic-tac-toe.html
  category: Games
  version: 1.0
-->

<form aria-describedby="ttt-desc">
  <p id="ttt-desc" class="small">
    Play a simple twoâ€‘player Tic Tac Toe game. Click squares to place X or O.
  </p>

  <div id="ttt-board" style="display:grid;grid-template-columns:repeat(3,80px);gap:6px;margin:12px 0;">
    <button type="button" class="ttt-cell"></button>
    <button type="button" class="ttt-cell"></button>
    <button type="button" class="ttt-cell"></button>
    <button type="button" class="ttt-cell"></button>
    <button type="button" class="ttt-cell"></button>
    <button type="button" class="ttt-cell"></button>
    <button type="button" class="ttt-cell"></button>
    <button type="button" class="ttt-cell"></button>
    <button type="button" class="ttt-cell"></button>
  </div>

  <div style="margin-top:8px;">
    <button type="button" onclick="tttReset()">Reset Game</button>
  </div>
</form>

<div style="margin-top:12px;">
  <h3 class="small">Game Status</h3>
  <div id="ttt-status" class="small" style="background:#fafafa;padding:8px;border-radius:6px;min-height:48px;">
    Player X's turn
  </div>
</div>

<script>
let tttCurrent = 'X';
let tttGameOver = false;

function tttInit(){
  const cells = document.querySelectorAll('#ttt-board .ttt-cell');
  cells.forEach((cell, idx)=>{
    cell.textContent = '';
    cell.style.height = '80px';
    cell.style.fontSize = '32px';
    cell.style.fontWeight = 'bold';
    cell.style.textAlign = 'center';
    cell.style.background = '#fff';
    cell.style.border = '1px solid #ccc';
    cell.onclick = ()=>tttMove(cell, idx);
  });
  tttCurrent = 'X';
  tttGameOver = false;
  document.getElementById('ttt-status').textContent = "Player X's turn";
}

function tttMove(cell, idx){
  if(tttGameOver || cell.textContent) return;
  cell.textContent = tttCurrent;
  if(tttCheckWin()){
    document.getElementById('ttt-status').textContent = `Player ${tttCurrent} wins!`;
    tttGameOver = true;
    return;
  }
  if(tttCheckDraw()){
    document.getElementById('ttt-status').textContent = "It's a draw!";
    tttGameOver = true;
    return;
  }
  tttCurrent = (tttCurrent==='X'?'O':'X');
  document.getElementById('ttt-status').textContent = `Player ${tttCurrent}'s turn`;
}

function tttCheckWin(){
  const cells = Array.from(document.querySelectorAll('#ttt-board .ttt-cell')).map(c=>c.textContent);
  const wins = [
    [0,1,2],[3,4,5],[6,7,8], // rows
    [0,3,6],[1,4,7],[2,5,8], // cols
    [0,4,8],[2,4,6]          // diagonals
  ];
  return wins.some(([a,b,c])=>cells[a] && cells[a]===cells[b] && cells[a]===cells[c]);
}

function tttCheckDraw(){
  const cells = Array.from(document.querySelectorAll('#ttt-board .ttt-cell')).map(c=>c.textContent);
  return cells.every(c=>c) && !tttCheckWin();
}

function tttReset(){
  tttInit();
}

tttInit();
</script>
