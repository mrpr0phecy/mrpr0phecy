<h2 id="capacitor-calculator-title" style="margin-top:0;">Capacitor Calculator</h2>

<form aria-describedby="capacitor-calculator-desc">
  <p id="capacitor-calculator-desc" class="small">
    Calculate capacitor values, RC time constants, impedance, and filter characteristics. ⚠️ Educational only — verify with datasheets and professional standards.
  </p>

  <div class="row" style="display:grid;grid-template-columns:1fr 1fr;gap:10px;">
    <div class="field">
      <label for="cap-mode">Calculation Mode</label>
      <select id="cap-mode" style="width:100%;">
        <option value="findC">Find Capacitance (R & f)</option>
        <option value="findF" selected>Find Frequency (R & C)</option>
        <option value="time-constant">Time Constant</option>
        <option value="impedance">Impedance</option>
        <option value="filter-design">Filter Design</option>
        <option value="series-parallel">Series/Parallel</option>
        <option value="energy">Energy Storage</option>
      </select>
    </div>

    <div class="field">
      <label for="cap-R">Resistance (Ω)</label>
      <input id="cap-R" type="number" placeholder="e.g. 1000" min="0" step="any" />
      <div class="small" style="margin-top:2px;">
        <span id="cap-R-prefix">Ω</span>
      </div>
    </div>

    <div class="field">
      <label for="cap-C">Capacitance</label>
      <input id="cap-C" type="number" placeholder="e.g. 0.1" min="0" step="any" />
      <div class="small" style="margin-top:2px;">
        <span id="cap-C-unit">µF</span>
        <select id="cap-C-multiplier" style="width:60px; padding:2px; margin-left:4px; font-size:0.8em;">
          <option value="1e-6">µF</option>
          <option value="1e-9">nF</option>
          <option value="1e-12">pF</option>
          <option value="1">F</option>
        </select>
      </div>
    </div>

    <div class="field">
      <label for="cap-f">Frequency (Hz)</label>
      <input id="cap-f" type="number" placeholder="e.g. 1592" min="0" step="any" />
      <div class="small" style="margin-top:2px;">
        <span id="cap-f-prefix">Hz</span>
      </div>
    </div>

    <div class="field">
      <label for="cap-voltage">Voltage (V)</label>
      <input id="cap-voltage" type="number" placeholder="e.g. 12" min="0" step="any" />
    </div>

    <div class="field">
      <label for="cap-cap2">Capacitor 2 (for series/parallel)</label>
      <input id="cap-cap2" type="number" placeholder="e.g. 0.1" min="0" step="any" />
      <div class="small" style="margin-top:2px;">
        <span id="cap-cap2-unit">µF</span>
      </div>
    </div>
  </div>

  <div class="row" style="grid-column:1/-1; margin-top:10px;">
    <div class="field">
      <label for="cap-show-advanced">Advanced Options</label>
      <select id="cap-show-advanced" style="width:100%;">
        <option value="no">Hide</option>
        <option value="yes">Show</option>
      </select>
    </div>
    
    <div id="cap-advanced-options" style="grid-column:1/-1; display:none; background:#f8f9fa; padding:12px; border-radius:6px; margin-top:8px;">
      <div style="display:grid; grid-template-columns:1fr 1fr; gap:10px;">
        <div class="field">
          <label for="cap-temperature">Temperature (°C)</label>
          <input id="cap-temperature" type="number" value="25" step="any" />
        </div>
        <div class="field">
          <label for="cap-esr">ESR (Ω)</label>
          <input id="cap-esr" type="number" placeholder="e.g. 0.1" step="any" />
        </div>
        <div class="field">
          <label for="cap-quality">Capacitor Type</label>
          <select id="cap-quality" style="width:100%;">
            <option value="ceramic">Ceramic</option>
            <option value="electrolytic">Electrolytic</option>
            <option value="film">Film</option>
            <option value="tantalum">Tantalum</option>
            <option value="mica">Mica</option>
          </select>
        </div>
        <div class="field">
          <label for="cap-tolerance">Tolerance (%)</label>
          <select id="cap-tolerance" style="width:100%;">
            <option value="1">±1%</option>
            <option value="5">±5%</option>
            <option value="10" selected>±10%</option>
            <option value="20">±20%</option>
            <option value="50">±50%</option>
          </select>
        </div>
      </div>
    </div>
  </div>

  <div class="actions" style="margin-top:12px;">
    <button type="button" onclick="capCalculate(this)">Calculate</button>
    <button type="button" class="secondary" onclick="capReset(this)">Reset</button>
    <button type="button" onclick="capCopy(this)">Copy Result</button>
    <button type="button" onclick="capSaveConfig(this)" style="background:#6f42c1;">Save Config</button>
  </div>
</form>

<div class="results" aria-live="polite" style="margin-top:12px;">
  <div style="display:flex; justify-content:space-between; align-items:center; margin-bottom:8px;">
    <h3 class="small" style="margin:0;">Results</h3>
    <div class="small" style="opacity:0.7;" id="cap-formula-display">f = 1/(2πRC)</div>
  </div>
  
  <div id="cap-output" style="background:#f8f9fa; padding:15px; border-radius:8px; min-height:100px; font-family:monospace; white-space:pre-wrap;"></div>

  <div style="margin-top:12px; display:flex; justify-content:space-between; align-items:center; flex-wrap:wrap; gap:8px;">
    <div class="small" style="display:flex; gap:16px;">
      <div>Mode: <span id="cap-mode-display">–</span></div>
      <div>Precision: <span id="cap-precision">High</span></div>
      <div>Status: <span id="cap-status">Ready</span></div>
    </div>
    <div id="cap-hint" class="small" style="opacity:0.9; text-align:right;"></div>
  </div>
</div>

<div id="cap-visualization" style="margin-top:20px; display:none;">
  <h4 class="small">Visualization</h4>
  <div style="display:grid; grid-template-columns:1fr 1fr; gap:15px; margin-top:10px;">
    <div style="background:white; padding:12px; border-radius:8px; border:1px solid #dee2e6;">
      <div class="small"><strong>RC Response</strong></div>
      <div style="height:100px; background:linear-gradient(90deg, #4dabf7 50%, #f8f9fa 50%); border-radius:4px; margin-top:8px; position:relative;">
        <div style="position:absolute; top:10px; left:10px; font-size:0.8em;">Charging: τ = <span id="cap-tau-display">–</span></div>
        <div style="position:absolute; bottom:10px; right:10px; font-size:0.8em;">63% @ 1τ</div>
      </div>
    </div>
    <div style="background:white; padding:12px; border-radius:8px; border:1px solid #dee2e6;">
      <div class="small"><strong>Frequency Response</strong></div>
      <div style="height:100px; background:linear-gradient(90deg, #51cf66 30%, #ffd43b 40%, #fa5252 30%); border-radius:4px; margin-top:8px; position:relative;">
        <div style="position:absolute; top:10px; left:10px; font-size:0.8em;">f₀ = <span id="cap-f0-display">–</span> Hz</div>
        <div style="position:absolute; bottom:10px; right:10px; font-size:0.8em;">-3dB @ f₀</div>
      </div>
    </div>
  </div>
</div>

<div id="cap-reference" style="margin-top:20px; padding:15px; background:#e7f5ff; border-radius:8px; display:none;">
  <h4 class="small">Capacitor Reference & Facts</h4>
  <div style="display:grid; grid-template-columns:repeat(auto-fit, minmax(250px, 1fr)); gap:10px; margin-top:10px;">
    <div style="background:white; padding:10px; border-radius:6px;">
      <strong>Formulas</strong>
      <div style="font-size:0.9em; margin-top:4px;">f = 1/(2πRC)</div>
      <div style="font-size:0.9em;">τ = RC</div>
      <div style="font-size:0.9em;">Xc = 1/(2πfC)</div>
      <div style="font-size:0.9em;">E = ½CV²</div>
    </div>
    <div style="background:white; padding:10px; border-radius:6px;">
      <strong>Capacitor Types</strong>
      <div style="font-size:0.9em; margin-top:4px;">• Ceramic: Small, stable</div>
      <div style="font-size:0.9em;">• Electrolytic: High C, polarized</div>
      <div style="font-size:0.9em;">• Film: Low ESR, precise</div>
      <div style="font-size:0.9em;">• Tantalum: Small, reliable</div>
    </div>
    <div style="background:white; padding:10px; border-radius:6px;">
      <strong>Applications</strong>
      <div style="font-size:0.9em; margin-top:4px;">• Filtering</div>
      <div style="font-size:0.9em;">• Timing circuits</div>
      <div style="font-size:0.9em;">• Power supply smoothing</div>
      <div style="font-size:0.9em;">• Coupling/decoupling</div>
    </div>
    <div style="background:white; padding:10px; border-radius:6px;">
      <strong>Safety Notes</strong>
      <div style="font-size:0.9em; margin-top:4px;">⚠️ Respect voltage ratings</div>
      <div style="font-size:0.9em;">⚠️ Electrolytics have polarity</div>
      <div style="font-size:0.9em;">⚠️ Discharge before handling</div>
      <div style="font-size:0.9em;">⚠️ Check temperature ratings</div>
    </div>
  </div>
</div>

<script>
/* Enhanced Capacitor Calculator
   - Multiple calculation modes
   - Unit conversion and prefixes
   - Visualization of RC behavior
   - Config saving and loading
   - Reference information
*/

let capConfigs = JSON.parse(localStorage.getItem('capConfigs') || '[]');

// Initialize event listeners
document.addEventListener('DOMContentLoaded', function() {
  // Mode change handler
  const modeSelect = document.getElementById('cap-mode');
  if(modeSelect) {
    modeSelect.addEventListener('change', updateCapMode);
    updateCapMode(); // Initial update
  }
  
  // Advanced options toggle
  const advSelect = document.getElementById('cap-show-advanced');
  const advDiv = document.getElementById('cap-advanced-options');
  if(advSelect && advDiv) {
    advSelect.addEventListener('change', function() {
      advDiv.style.display = this.value === 'yes' ? 'block' : 'none';
    });
  }
  
  // Capacitance unit converter
  const cMultiplier = document.getElementById('cap-C-multiplier');
  if(cMultiplier) {
    cMultiplier.addEventListener('change', function() {
      const cInput = document.getElementById('cap-C');
      const cUnit = document.getElementById('cap-C-unit');
      const cap2Unit = document.getElementById('cap-cap2-unit');
      
      if(cUnit) cUnit.textContent = this.options[this.selectedIndex].text;
      if(cap2Unit) cap2Unit.textContent = this.options[this.selectedIndex].text;
    });
  }
  
  // Resistance prefix handler
  const rInput = document.getElementById('cap-R');
  const rPrefix = document.getElementById('cap-R-prefix');
  if(rInput && rPrefix) {
    rInput.addEventListener('input', function() {
      const value = parseFloat(this.value) || 0;
      if(value >= 1e6) {
        rPrefix.textContent = "MΩ";
      } else if(value >= 1e3) {
        rPrefix.textContent = "kΩ";
      } else {
        rPrefix.textContent = "Ω";
      }
    });
  }
  
  // Frequency prefix handler
  const fInput = document.getElementById('cap-f');
  const fPrefix = document.getElementById('cap-f-prefix');
  if(fInput && fPrefix) {
    fInput.addEventListener('input', function() {
      const value = parseFloat(this.value) || 0;
      if(value >= 1e6) {
        fPrefix.textContent = "MHz";
      } else if(value >= 1e3) {
        fPrefix.textContent = "kHz";
      } else {
        fPrefix.textContent = "Hz";
      }
    });
  }
  
  // Show reference on first load
  document.getElementById('cap-reference').style.display = 'block';
});

function updateCapMode() {
  const mode = document.getElementById('cap-mode').value;
  const formulaDisplay = document.getElementById('cap-formula-display');
  const modeDisplay = document.getElementById('cap-mode-display');
  
  let formula = "";
  let displayName = "";
  
  switch(mode) {
    case 'findC':
      formula = "C = 1/(2πRf)";
      displayName = "Find Capacitance";
      break;
    case 'findF':
      formula = "f = 1/(2πRC)";
      displayName = "Find Frequency";
      break;
    case 'time-constant':
      formula = "τ = RC";
      displayName = "Time Constant";
      break;
    case 'impedance':
      formula = "Xc = 1/(2πfC)";
      displayName = "Capacitive Reactance";
      break;
    case 'filter-design':
      formula = "f = 1/(2πRC)";
      displayName = "Filter Design";
      break;
    case 'series-parallel':
      formula = "Ceq = ...";
      displayName = "Series/Parallel";
      break;
    case 'energy':
      formula = "E = ½CV²";
      displayName = "Energy Storage";
      break;
  }
  
  if(formulaDisplay) formulaDisplay.textContent = formula;
  if(modeDisplay) modeDisplay.textContent = displayName;
}

function capReset(btn){
  const card = btn.closest('.card') || document;
  card.querySelector('form').reset();
  card.querySelector('#cap-output').textContent = "";
  card.querySelector('#cap-hint').textContent = "";
  card.querySelector('#cap-status').textContent = "Ready";
  card.querySelector('#cap-visualization').style.display = "none";
  
  // Reset displays
  card.querySelector('#cap-tau-display').textContent = "–";
  card.querySelector('#cap-f0-display').textContent = "–";
  
  // Update mode display
  updateCapMode();
}

function capCopy(btn){
  const card = btn.closest('.card') || document;
  const out = card.querySelector('#cap-output').textContent;
  if(!out.trim()) return;
  
  navigator.clipboard?.writeText(out).then(() => {
    const hint = card.querySelector('#cap-hint');
    hint.textContent = "✓ Copied to clipboard";
    hint.style.color = "#28a745";
    setTimeout(() => { 
      hint.textContent = ""; 
      hint.style.color = "";
    }, 2000);
  }).catch(() => {
    alert("Copy failed — select the text and copy manually.");
  });
}

function capCalculate(btn){
  const card = btn.closest('.card') || document;
  const mode = card.querySelector('#cap-mode').value;
  
  // Get and parse inputs
  const R = parseFloat(card.querySelector('#cap-R').value);
  const C_input = parseFloat(card.querySelector('#cap-C').value);
  const C_multiplier = parseFloat(card.querySelector('#cap-C-multiplier').value);
  const C = C_input * C_multiplier; // Convert to Farads
  const f = parseFloat(card.querySelector('#cap-f').value);
  const V = parseFloat(card.querySelector('#cap-voltage').value) || 0;
  const C2_input = parseFloat(card.querySelector('#cap-cap2').value) || 0;
  const C2 = C2_input * C_multiplier;
  
  // Get advanced options
  const temp = parseFloat(card.querySelector('#cap-temperature').value) || 25;
  const esr = parseFloat(card.querySelector('#cap-esr').value) || 0;
  const type = card.querySelector('#cap-quality').value;
  const tolerance = parseInt(card.querySelector('#cap-tolerance').value);
  
  card.querySelector('#cap-status').textContent = "Calculating...";
  card.querySelector('#cap-status').style.color = "#fd7e14";
  
  let result = "";
  let tau = 0;
  let f0 = 0;
  let xc = 0;
  let energy = 0;
  
  try {
    switch(mode) {
      case 'findC':
        if(R > 0 && f > 0) {
          const C_needed = 1 / (2 * Math.PI * R * f);
          result = `Required Capacitance:\n`;
          result += `C = 1 / (2π × ${R}Ω × ${f}Hz)\n`;
          result += `C = ${C_needed.toExponential(3)} F\n`;
          result += `= ${(C_needed * 1e6).toFixed(3)} µF\n`;
          result += `= ${(C_needed * 1e9).toFixed(3)} nF\n`;
          result += `= ${(C_needed * 1e12).toFixed(0)} pF\n\n`;
          result += `With ${tolerance}% tolerance: ${(C_needed * 1e6 * (1 - tolerance/100)).toFixed(3)} to ${(C_needed * 1e6 * (1 + tolerance/100)).toFixed(3)} µF`;
          f0 = f;
          tau = R * C_needed;
        } else {
          throw new Error("Enter R and f values");
        }
        break;
        
      case 'findF':
        if(R > 0 && C > 0) {
          f0 = 1 / (2 * Math.PI * R * C);
          result = `Cutoff Frequency (-3dB point):\n`;
          result += `f = 1 / (2π × ${R}Ω × ${C.toExponential(3)} F)\n`;
          result += `f = ${f0.toFixed(2)} Hz\n`;
          if(f0 >= 1e6) result += `= ${(f0/1e6).toFixed(4)} MHz\n`;
          else if(f0 >= 1e3) result += `= ${(f0/1e3).toFixed(2)} kHz\n`;
          result += `\nTime constant: τ = ${(R * C * 1000).toFixed(2)} ms`;
          result += `\n63% charge/discharge in ${(R * C * 1000).toFixed(2)} ms`;
          tau = R * C;
        } else {
          throw new Error("Enter R and C values");
        }
        break;
        
      case 'time-constant':
        if(R > 0 && C > 0) {
          tau = R * C;
          result = `RC Time Constant:\n`;
          result += `τ = R × C = ${R}Ω × ${C.toExponential(3)} F\n`;
          result += `τ = ${tau} seconds\n\n`;
          result += `Time to reach:\n`;
          result += `63%: ${(tau * 1000).toFixed(1)} ms\n`;
          result += `95%: ${(tau * 3 * 1000).toFixed(1)} ms (3τ)\n`;
          result += `99%: ${(tau * 5 * 1000).toFixed(1)} ms (5τ)\n\n`;
          f0 = 1 / (2 * Math.PI * R * C);
          result += `Corresponding -3dB frequency: ${f0.toFixed(2)} Hz`;
        } else {
          throw new Error("Enter R and C values");
        }
        break;
        
      case 'impedance':
        if(C > 0 && f > 0) {
          xc = 1 / (2 * Math.PI * f * C);
          result = `Capacitive Reactance:\n`;
          result += `Xc = 1 / (2π × ${f}Hz × ${C.toExponential(3)} F)\n`;
          result += `Xc = ${xc.toFixed(2)} Ω\n\n`;
          result += `At ${f} Hz, capacitor acts as:\n`;
          if(xc < 10) result += `→ Low impedance (≈ short circuit)\n`;
          else if(xc > 1e6) result += `→ High impedance (≈ open circuit)\n`;
          else result += `→ ${xc.toFixed(0)} Ω resistance equivalent`;
          
          if(esr > 0) {
            result += `\n\nIncluding ESR (${esr} Ω):\n`;
            result += `Total impedance: ${Math.sqrt(xc*xc + esr*esr).toFixed(2)} Ω\n`;
            result += `Phase angle: ${Math.atan2(esr, xc) * 180 / Math.PI}°`;
          }
        } else {
          throw new Error("Enter C and f values");
        }
        break;
        
      case 'filter-design':
        if(R > 0 && C > 0) {
          f0 = 1 / (2 * Math.PI * R * C);
          result = `Low-Pass Filter Design:\n`;
          result += `Cutoff: ${f0.toFixed(2)} Hz\n`;
          result += `R = ${R} Ω, C = ${(C*1e6).toFixed(2)} µF\n\n`;
          result += `Attenuation:\n`;
          result += `@ ${(f0/10).toFixed(0)} Hz: -0.04 dB\n`;
          result += `@ ${f0.toFixed(0)} Hz: -3 dB\n`;
          result += `@ ${(f0*10).toFixed(0)} Hz: -20 dB\n`;
          result += `@ ${(f0*100).toFixed(0)} Hz: -40 dB\n\n`;
          result += `Rolloff: 20 dB/decade (6 dB/octave)`;
          tau = R * C;
        } else {
          throw new Error("Enter R and C values");
        }
        break;
        
      case 'series-parallel':
        if(C > 0 && C2 > 0) {
          // Series calculation
          const C_series = (C * C2) / (C + C2);
          // Parallel calculation
          const C_parallel = C + C2;
          
          result = `Series Connection:\n`;
          result += `C_series = (C1 × C2) / (C1 + C2)\n`;
          result += `= ${C_series.toExponential(3)} F\n`;
          result += `= ${(C_series * 1e6).toFixed(3)} µF\n\n`;
          
          result += `Parallel Connection:\n`;
          result += `C_parallel = C1 + C2\n`;
          result += `= ${C_parallel.toExponential(3)} F\n`;
          result += `= ${(C_parallel * 1e6).toFixed(3)} µF\n\n`;
          
          result += `Note: Series reduces capacitance\n`;
          result += `Parallel increases capacitance`;
        } else {
          throw new Error("Enter both capacitor values");
        }
        break;
        
      case 'energy':
        if(C > 0 && V > 0) {
          energy = 0.5 * C * V * V;
          result = `Stored Energy:\n`;
          result += `E = ½ × C × V²\n`;
          result += `E = ½ × ${C.toExponential(3)} F × (${V} V)²\n`;
          result += `E = ${energy.toExponential(3)} Joules\n\n`;
          
          if(energy > 0.001) result += `= ${(energy * 1000).toFixed(3)} mJ\n`;
          result += `= ${(energy * 1e6).toFixed(3)} µJ\n\n`;
          
          // Calculate equivalent power
          if(tau > 0) {
            const power = energy / tau;
            result += `Average discharge power: ${power.toFixed(3)} W\n`;
            result += `Peak current: ${(V / R || 0).toFixed(3)} A`;
          }
        } else {
          throw new Error("Enter C and V values");
        }
        break;
    }
    
    // Add capacitor type notes
    if(type && result) {
      result += `\n\n---\nCapacitor Type: ${type.charAt(0).toUpperCase() + type.slice(1)}`;
      const notes = {
        ceramic: "Good for high frequency, small size, non-polarized",
        electrolytic: "High capacitance, polarized, moderate ESR",
        film: "Low ESR, precise, good for audio",
        tantalum: "Small size, reliable, polarized",
        mica: "Very stable, high precision, expensive"
      };
      result += `\n${notes[type] || "General purpose capacitor"}`;
    }
    
    // Add temperature note
    if(temp !== 25) {
      result += `\nTemperature: ${temp}°C (typical ratings @ 25°C)`;
    }
    
    // Update display
    card.querySelector('#cap-output').textContent = result;
    card.querySelector('#cap-status').textContent = "Completed";
    card.querySelector('#cap-status').style.color = "#28a745";
    card.querySelector('#cap-hint').textContent = "Calculation successful";
    card.querySelector('#cap-hint').style.color = "";
    
    // Update visualization
    if(tau > 0 || f0 > 0) {
      card.querySelector('#cap-visualization').style.display = 'block';
      if(tau > 0) card.querySelector('#cap-tau-display').textContent = `${(tau * 1000).toFixed(1)} ms`;
      if(f0 > 0) card.querySelector('#cap-f0-display').textContent = f0.toFixed(0);
    }
    
    // Show reference
    card.querySelector('#cap-reference').style.display = 'block';
    
  } catch(e) {
    showCapError(card, e.message);
  }
}

function capSaveConfig(btn){
  const card = btn.closest('.card') || document;
  const name = prompt("Save this configuration as:");
  
  if(!name) return;
  
  const config = {
    id: Date.now(),
    name: name,
    mode: card.querySelector('#cap-mode').value,
    R: card.querySelector('#cap-R').value,
    C: card.querySelector('#cap-C').value,
    C_multiplier: card.querySelector('#cap-C-multiplier').value,
    f: card.querySelector('#cap-f').value,
    voltage: card.querySelector('#cap-voltage').value,
    cap2: card.querySelector('#cap-cap2').value,
    temperature: card.querySelector('#cap-temperature').value,
    esr: card.querySelector('#cap-esr').value,
    type: card.querySelector('#cap-quality').value,
    tolerance: card.querySelector('#cap-tolerance').value,
    timestamp: new Date().toLocaleString()
  };
  
  capConfigs.push(config);
  localStorage.setItem('capConfigs', JSON.stringify(capConfigs));
  
  const hint = card.querySelector('#cap-hint');
  hint.textContent = `✓ Config "${name}" saved`;
  hint.style.color = "#28a745";
  setTimeout(() => { hint.textContent = ""; }, 2000);
}

function showCapError(card, message){
  card.querySelector('#cap-output').textContent = `Error: ${message}\n\nPlease check inputs and try again.`;
  card.querySelector('#cap-status').textContent = "Error";
  card.querySelector('#cap-status').style.color = "#dc3545";
  card.querySelector('#cap-hint').textContent = message;
  card.querySelector('#cap-hint').style.color = "#dc3545";
}
</script>

<style>
/* Additional styling */
#cap-output {
  font-family: 'Consolas', 'Monaco', monospace;
  line-height: 1.5;
  overflow-y: auto;
  max-height: 400px;
  border: 1px solid #dee2e6 !important;
}

#cap-visualization div[style*="background:white"] {
  transition: transform 0.2s;
}

#cap-visualization div[style*="background:white"]:hover {
  transform: translateY(-2px);
  box-shadow: 0 4px 8px rgba(0,0,0,0.1);
}

#cap-reference div[style*="background:white"] {
  font-size: 0.9em;
  line-height: 1.4;
}

.actions button {
  transition: all 0.2s;
}

.actions button:hover {
  transform: translateY(-1px);
  box-shadow: 0 2px 4px rgba(0,0,0,0.1);
}

.field input, .field select {
  transition: border-color 0.2s;
}

.field input:focus, .field select:focus {
  border-color: #4dabf7 !important;
  outline: none;
}

#cap-advanced-options {
  border: 1px solid #dee2e6;
}
</style>
