<h2 id="youtube-dj-title" style="margin-top:0;color:var(--accent);">üéõÔ∏è YouTube DJ Mixer</h2>

<form aria-describedby="youtube-dj-desc">
  <p id="youtube-dj-desc" class="small" style="color:var(--muted);margin-bottom:20px;">
    Mix YouTube videos live like a professional DJ. Crossfade between tracks, apply effects, and create seamless mixes.
    <span style="color:var(--accent);display:block;margin-top:4px;">üéß Live mixing ‚Ä¢ Crossfader ‚Ä¢ EQ ‚Ä¢ Effects ‚Ä¢ YouTube integration</span>
  </p>

  <!-- MAIN CONTROLS -->
  <div style="background:rgba(255,255,255,0.02);border-radius:12px;padding:20px;border:1px solid rgba(255,255,255,0.05);margin-bottom:20px;">
    <!-- YouTube URL Inputs -->
    <div style="display:grid;grid-template-columns:1fr 1fr;gap:16px;margin-bottom:16px;">
      <div>
        <label for="dj-deck-a-url" style="display:block;margin-bottom:8px;color:var(--accent);font-weight:500;font-size:14px;">
          üéµ Deck A - YouTube URL
        </label>
        <div style="display:flex;gap:8px;">
          <input 
            id="dj-deck-a-url" 
            type="text" 
            placeholder="https://www.youtube.com/watch?v=..."
            style="flex:1;padding:12px;border-radius:8px;border:1px solid rgba(45,212,255,0.3);background:rgba(45,212,255,0.05);color:inherit;font-size:14px;"
          />
          <button 
            onclick="djLoadDeck('a')"
            style="padding:12px 16px;background:rgba(45,212,255,0.2);border:1px solid rgba(45,212,255,0.4);border-radius:8px;color:var(--accent);cursor:pointer;font-weight:500;white-space:nowrap;">
            ‚ñ∂Ô∏è Load
          </button>
        </div>
      </div>

      <div>
        <label for="dj-deck-b-url" style="display:block;margin-bottom:8px;color:var(--accent);font-weight:500;font-size:14px;">
          üéµ Deck B - YouTube URL
        </label>
        <div style="display:flex;gap:8px;">
          <input 
            id="dj-deck-b-url" 
            type="text" 
            placeholder="https://www.youtube.com/watch?v=..."
            style="flex:1;padding:12px;border-radius:8px;border:1px solid rgba(45,212,255,0.3);background:rgba(45,212,255,0.05);color:inherit;font-size:14px;"
          />
          <button 
            onclick="djLoadDeck('b')"
            style="padding:12px 16px;background:rgba(45,212,255,0.2);border:1px solid rgba(45,212,255,0.4);border-radius:8px;color:var(--accent);cursor:pointer;font-weight:500;white-space:nowrap;">
            ‚ñ∂Ô∏è Load
          </button>
        </div>
      </div>
    </div>

    <!-- Quick Example Tracks -->
    <div style="margin-bottom:16px;">
      <div style="color:rgba(230,250,255,0.7);margin-bottom:8px;font-size:13px;">Quick Example Tracks:</div>
      <div style="display:flex;gap:8px;flex-wrap:wrap;">
        <button 
          onclick="djLoadExample('electronic')"
          style="padding:6px 12px;background:rgba(45,212,255,0.1);border:1px solid rgba(45,212,255,0.3);border-radius:6px;color:var(--accent);cursor:pointer;font-size:12px;font-weight:500;">
          üéπ Electronic
        </button>
        <button 
          onclick="djLoadExample('hiphop')"
          style="padding:6px 12px;background:rgba(255,45,85,0.1);border:1px solid rgba(255,45,85,0.3);border-radius:6px;color:#ff2d55;cursor:pointer;font-size:12px;font-weight:500;">
          üé§ Hip Hop
        </button>
        <button 
          onclick="djLoadExample('rock')"
          style="padding:6px 12px;background:rgba(57,255,20,0.1);border:1px solid rgba(57,255,20,0.3);border-radius:6px;color:#39ff14;cursor:pointer;font-size:12px;font-weight:500;">
          üé∏ Rock
        </button>
        <button 
          onclick="djLoadExample('ambient')"
          style="padding:6px 12px;background:rgba(255,204,0,0.1);border:1px solid rgba(255,204,0,0.3);border-radius:6px;color:#ffcc00;cursor:pointer;font-size:12px;font-weight:500;">
          üåå Ambient
        </button>
        <button 
          onclick="djClearDecks()"
          style="padding:6px 12px;background:rgba(255,77,77,0.1);border:1px solid rgba(255,77,77,0.3);border-radius:6px;color:#ff4d4d;cursor:pointer;font-size:12px;font-weight:500;">
          üóëÔ∏è Clear Decks
        </button>
      </div>
    </div>
  </div>

  <!-- DJ DECK VISUALIZATION -->
  <div style="display:grid;grid-template-columns:1fr 1fr;gap:20px;margin-bottom:20px;">
    <!-- Deck A -->
    <div style="background:linear-gradient(135deg, rgba(45,212,255,0.05), rgba(45,212,255,0.02));border-radius:12px;padding:20px;border:1px solid rgba(45,212,255,0.15);">
      <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:16px;">
        <div style="color:var(--accent);font-weight:600;font-size:16px;">üéõÔ∏è DECK A</div>
        <div id="dj-deck-a-status" style="color:rgba(230,250,255,0.7);font-size:12px;">Empty</div>
      </div>
      
      <!-- Waveform Visualization -->
      <div id="dj-deck-a-waveform" style="height:60px;background:rgba(0,0,0,0.2);border-radius:8px;margin-bottom:16px;overflow:hidden;position:relative;">
        <div id="dj-deck-a-wave" style="height:100%;width:100%;"></div>
        <div id="dj-deck-a-progress" style="position:absolute;top:0;left:0;width:0%;height:100%;background:rgba(45,212,255,0.3);"></div>
      </div>
      
      <!-- Deck Controls -->
      <div style="display:grid;grid-template-columns:1fr 1fr;gap:12px;margin-bottom:16px;">
        <button id="dj-deck-a-play" onclick="djPlayPause('a')" style="padding:12px;background:rgba(57,255,20,0.1);border:1px solid rgba(57,255,20,0.3);border-radius:8px;color:#39ff14;cursor:pointer;font-weight:500;">
          ‚ñ∂Ô∏è Play
        </button>
        <button id="dj-deck-a-cue" onclick="djCue('a')" style="padding:12px;background:rgba(255,204,0,0.1);border:1px solid rgba(255,204,0,0.3);border-radius:8px;color:#ffcc00;cursor:pointer;font-weight:500;">
          ‚ö° Cue
        </button>
      </div>
      
      <!-- EQ Controls -->
      <div style="margin-bottom:16px;">
        <div style="color:rgba(230,250,255,0.7);margin-bottom:8px;font-size:13px;">EQ:</div>
        <div style="display:grid;grid-template-columns:1fr 1fr 1fr;gap:8px;">
          <div>
            <div style="text-align:center;color:rgba(230,250,255,0.7);font-size:12px;">Low</div>
            <input type="range" id="dj-deck-a-eq-low" min="-12" max="12" value="0" step="0.5" style="width:100%;" oninput="djUpdateEQ('a', 'low')">
            <div id="dj-deck-a-eq-low-value" style="text-align:center;color:var(--accent);font-size:12px;">0 dB</div>
          </div>
          <div>
            <div style="text-align:center;color:rgba(230,250,255,0.7);font-size:12px;">Mid</div>
            <input type="range" id="dj-deck-a-eq-mid" min="-12" max="12" value="0" step="0.5" style="width:100%;" oninput="djUpdateEQ('a', 'mid')">
            <div id="dj-deck-a-eq-mid-value" style="text-align:center;color:var(--accent);font-size:12px;">0 dB</div>
          </div>
          <div>
            <div style="text-align:center;color:rgba(230,250,255,0.7);font-size:12px;">High</div>
            <input type="range" id="dj-deck-a-eq-high" min="-12" max="12" value="0" step="0.5" style="width:100%;" oninput="djUpdateEQ('a', 'high')">
            <div id="dj-deck-a-eq-high-value" style="text-align:center;color:var(--accent);font-size:12px;">0 dB</div>
          </div>
        </div>
      </div>
      
      <!-- Volume -->
      <div>
        <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:6px;">
          <div style="color:rgba(230,250,255,0.7);font-size:13px;">Volume:</div>
          <div id="dj-deck-a-volume-value" style="color:var(--accent);font-size:12px;">100%</div>
        </div>
        <input type="range" id="dj-deck-a-volume" min="0" max="100" value="100" step="1" style="width:100%;" oninput="djUpdateVolume('a')">
      </div>
    </div>

    <!-- Deck B -->
    <div style="background:linear-gradient(135deg, rgba(157,78,221,0.05), rgba(157,78,221,0.02));border-radius:12px;padding:20px;border:1px solid rgba(157,78,221,0.15);">
      <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:16px;">
        <div style="color:#9d4edd;font-weight:600;font-size:16px;">üéõÔ∏è DECK B</div>
        <div id="dj-deck-b-status" style="color:rgba(230,250,255,0.7);font-size:12px;">Empty</div>
      </div>
      
      <!-- Waveform Visualization -->
      <div id="dj-deck-b-waveform" style="height:60px;background:rgba(0,0,0,0.2);border-radius:8px;margin-bottom:16px;overflow:hidden;position:relative;">
        <div id="dj-deck-b-wave" style="height:100%;width:100%;"></div>
        <div id="dj-deck-b-progress" style="position:absolute;top:0;left:0;width:0%;height:100%;background:rgba(157,78,221,0.3);"></div>
      </div>
      
      <!-- Deck Controls -->
      <div style="display:grid;grid-template-columns:1fr 1fr;gap:12px;margin-bottom:16px;">
        <button id="dj-deck-b-play" onclick="djPlayPause('b')" style="padding:12px;background:rgba(57,255,20,0.1);border:1px solid rgba(57,255,20,0.3);border-radius:8px;color:#39ff14;cursor:pointer;font-weight:500;">
          ‚ñ∂Ô∏è Play
        </button>
        <button id="dj-deck-b-cue" onclick="djCue('b')" style="padding:12px;background:rgba(255,204,0,0.1);border:1px solid rgba(255,204,0,0.3);border-radius:8px;color:#ffcc00;cursor:pointer;font-weight:500;">
          ‚ö° Cue
        </button>
      </div>
      
      <!-- EQ Controls -->
      <div style="margin-bottom:16px;">
        <div style="color:rgba(230,250,255,0.7);margin-bottom:8px;font-size:13px;">EQ:</div>
        <div style="display:grid;grid-template-columns:1fr 1fr 1fr;gap:8px;">
          <div>
            <div style="text-align:center;color:rgba(230,250,255,0.7);font-size:12px;">Low</div>
            <input type="range" id="dj-deck-b-eq-low" min="-12" max="12" value="0" step="0.5" style="width:100%;" oninput="djUpdateEQ('b', 'low')">
            <div id="dj-deck-b-eq-low-value" style="text-align:center;color:#9d4edd;font-size:12px;">0 dB</div>
          </div>
          <div>
            <div style="text-align:center;color:rgba(230,250,255,0.7);font-size:12px;">Mid</div>
            <input type="range" id="dj-deck-b-eq-mid" min="-12" max="12" value="0" step="0.5" style="width:100%;" oninput="djUpdateEQ('b', 'mid')">
            <div id="dj-deck-b-eq-mid-value" style="text-align:center;color:#9d4edd;font-size:12px;">0 dB</div>
          </div>
          <div>
            <div style="text-align:center;color:rgba(230,250,255,0.7);font-size:12px;">High</div>
            <input type="range" id="dj-deck-b-eq-high" min="-12" max="12" value="0" step="0.5" style="width:100%;" oninput="djUpdateEQ('b', 'high')">
            <div id="dj-deck-b-eq-high-value" style="text-align:center;color:#9d4edd;font-size:12px;">0 dB</div>
          </div>
        </div>
      </div>
      
      <!-- Volume -->
      <div>
        <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:6px;">
          <div style="color:rgba(230,250,255,0.7);font-size:13px;">Volume:</div>
          <div id="dj-deck-b-volume-value" style="color:#9d4edd;font-size:12px;">100%</div>
        </div>
        <input type="range" id="dj-deck-b-volume" min="0" max="100" value="100" step="1" style="width:100%;" oninput="djUpdateVolume('b')">
      </div>
    </div>
  </div>

  <!-- CROSSFADER AND MASTER CONTROLS -->
  <div style="background:rgba(255,255,255,0.02);border-radius:12px;padding:20px;border:1px solid rgba(255,255,255,0.05);margin-bottom:20px;">
    <div style="display:grid;grid-template-columns:1fr 1fr 1fr;gap:16px;">
      <!-- Crossfader -->
      <div style="text-align:center;">
        <div style="color:var(--accent);font-weight:600;margin-bottom:12px;font-size:16px;">üéöÔ∏è Crossfader</div>
        <input type="range" id="dj-crossfader" min="0" max="100" value="50" step="1" 
               style="width:100%;height:40px;transform:rotate(-90deg);margin:40px 0;"
               oninput="djUpdateCrossfader()">
        <div id="dj-crossfader-value" style="color:rgba(230,250,255,0.7);font-size:13px;">Center</div>
      </div>

      <!-- Master Controls -->
      <div>
        <div style="color:var(--accent);font-weight:600;margin-bottom:12px;font-size:16px;">üéõÔ∏è Master Controls</div>
        <div style="display:grid;gap:12px;">
          <div>
            <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:6px;">
              <div style="color:rgba(230,250,255,0.7);font-size:13px;">Master Volume:</div>
              <div id="dj-master-volume-value" style="color:var(--accent);font-size:12px;">100%</div>
            </div>
            <input type="range" id="dj-master-volume" min="0" max="100" value="100" step="1" style="width:100%;" oninput="djUpdateMasterVolume()">
          </div>
          
          <div>
            <div style="color:rgba(230,250,255,0.7);margin-bottom:8px;font-size:13px;">Effects:</div>
            <div style="display:flex;gap:8px;">
              <button onclick="djApplyEffect('reverb')" style="flex:1;padding:10px;background:rgba(45,212,255,0.1);border:1px solid rgba(45,212,255,0.3);border-radius:6px;color:var(--accent);cursor:pointer;font-size:12px;">
                üèîÔ∏è Reverb
              </button>
              <button onclick="djApplyEffect('delay')" style="flex:1;padding:10px;background:rgba(255,45,85,0.1);border:1px solid rgba(255,45,85,0.3);border-radius:6px;color:#ff2d55;cursor:pointer;font-size:12px;">
                üîÅ Delay
              </button>
              <button onclick="djApplyEffect('filter')" style="flex:1;padding:10px;background:rgba(57,255,20,0.1);border:1px solid rgba(57,255,20,0.3);border-radius:6px;color:#39ff14;cursor:pointer;font-size:12px;">
                üéõÔ∏è Filter
              </button>
            </div>
          </div>
        </div>
      </div>

      <!-- BPM and Tempo -->
      <div>
        <div style="color:var(--accent);font-weight:600;margin-bottom:12px;font-size:16px;">‚è±Ô∏è Tempo Control</div>
        <div style="display:grid;gap:12px;">
          <div>
            <label for="dj-tempo" style="display:block;margin-bottom:6px;color:rgba(230,250,255,0.7);font-size:13px;">Tempo (BPM):</label>
            <div style="display:flex;align-items:center;gap:8px;">
              <input type="range" id="dj-tempo" min="60" max="180" value="120" step="1" style="flex:1;" oninput="djUpdateTempo()">
              <div id="dj-tempo-value" style="color:var(--accent);font-weight:600;font-size:16px;min-width:40px;">120</div>
            </div>
          </div>
          
          <div>
            <div style="color:rgba(230,250,255,0.7);margin-bottom:8px;font-size:13px;">Sync:</div>
            <div style="display:flex;gap:8px;">
              <button onclick="djSyncTempo()" style="flex:1;padding:10px;background:rgba(255,204,0,0.1);border:1px solid rgba(255,204,0,0.3);border-radius:6px;color:#ffcc00;cursor:pointer;font-size:12px;">
                üîó Sync BPM
              </button>
              <button onclick="djBeatMatch()" style="flex:1;padding:10px;background:rgba(157,78,221,0.1);border:1px solid rgba(157,78,221,0.3);border-radius:6px;color:#9d4edd;cursor:pointer;font-size:12px;">
                ü•Å Beat Match
              </button>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- ACTION BUTTONS -->
  <div style="display:flex;gap:12px;margin-bottom:20px;">
    <button onclick="djStartMixing()" 
            style="flex:2;padding:14px;background:linear-gradient(135deg, rgba(45,212,255,0.2), rgba(45,212,255,0.1));border:1px solid rgba(45,212,255,0.4);border-radius:8px;color:var(--accent);cursor:pointer;font-weight:600;font-size:16px;">
      üéß Start Live Mix
    </button>
    <button onclick="djStopAll()"
            style="flex:1;padding:14px;background:rgba(255,77,77,0.1);border:1px solid rgba(255,77,77,0.3);border-radius:8px;color:#ff4d4d;cursor:pointer;font-weight:500;">
      ‚èπÔ∏è Stop All
    </button>
    <button onclick="djRecordMix()"
            style="flex:1;padding:14px;background:rgba(57,255,20,0.1);border:1px solid rgba(57,255,20,0.3);border-radius:8px;color:#39ff14;cursor:pointer;font-weight:500;">
      üî¥ Record
    </button>
  </div>
</form>

<!-- MIXING VISUALIZATION AND OUTPUT -->
<div class="results" aria-live="polite" style="margin-top:20px;">
  <!-- Mix Output -->
  <div style="background:linear-gradient(135deg, rgba(255,255,255,0.03), rgba(255,255,255,0.01));border-radius:12px;border:1px solid rgba(255,255,255,0.08);padding:24px;margin-bottom:20px;">
    <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:16px;">
      <div style="color:var(--accent);font-weight:600;font-size:16px;">üéöÔ∏è Mix Output</div>
      <div id="dj-mix-status" style="color:rgba(230,250,255,0.7);font-size:13px;">Ready to mix</div>
    </div>
    
    <!-- Audio Visualization -->
    <div id="dj-mix-visualizer" style="height:100px;background:rgba(0,0,0,0.2);border-radius:8px;margin-bottom:16px;overflow:hidden;position:relative;">
      <canvas id="dj-visualizer-canvas" style="width:100%;height:100%;"></canvas>
    </div>
    
    <!-- Mix Info -->
    <div id="dj-mix-info" style="color:rgba(230,250,255,0.9);font-size:14px;line-height:1.6;">
      Load YouTube tracks to start mixing. Use crossfader to blend between decks.
    </div>
  </div>

  <!-- DJ TIPS AND TECHNIQUES -->
  <div style="background:rgba(255,255,255,0.02);border-radius:12px;padding:20px;border:1px solid rgba(255,255,255,0.05);">
    <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:16px;">
      <div style="color:var(--accent);font-weight:600;font-size:16px;">üéì DJ Techniques & Tips</div>
      <button onclick="djNewTip()" style="padding:6px 12px;background:rgba(45,212,255,0.1);border:1px solid rgba(45,212,255,0.3);border-radius:6px;color:var(--accent);cursor:pointer;font-size:12px;font-weight:500;">
        üîÑ New Tip
      </button>
    </div>
    
    <div id="dj-tips-container" style="display:grid;grid-template-columns:repeat(auto-fit, minmax(280px, 1fr));gap:12px;">
      <!-- Tips will be inserted here -->
    </div>
  </div>
</div>

<!-- YouTube Player Containers (Hidden) -->
<div style="display:none;">
  <div id="dj-youtube-player-a"></div>
  <div id="dj-youtube-player-b"></div>
</div>

<!-- RECORDING MODAL -->
<div id="dj-record-modal" style="display:none;position:fixed;top:0;left:0;right:0;bottom:0;background:rgba(0,0,0,0.85);z-index:10000;align-items:center;justify-content:center;backdrop-filter:blur(5px);">
  <div style="background:var(--panel);border-radius:12px;padding:24px;max-width:500px;width:90%;border:1px solid var(--border);box-shadow:0 20px 60px rgba(0,0,0,0.5);">
    <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:24px;">
      <h3 style="color:var(--accent);margin:0;font-size:18px;">üî¥ Recording Mix</h3>
      <button onclick="djCloseRecordModal()" style="background:transparent;border:0;color:var(--muted);cursor:pointer;font-size:20px;">‚úï</button>
    </div>
    
    <div style="text-align:center;margin-bottom:24px;">
      <div style="font-size:48px;margin-bottom:16px;">‚è∫Ô∏è</div>
      <div id="dj-record-timer" style="font-size:32px;color:var(--accent);margin-bottom:16px;font-weight:600;font-family:monospace;">
        00:00
      </div>
      <div style="color:rgba(230,250,255,0.7);font-size:14px;">
        Mix is being recorded. Keep mixing as usual!
      </div>
    </div>
    
    <div style="display:flex;gap:12px;">
      <button onclick="djStopRecording()" 
              style="flex:1;padding:14px;background:rgba(255,77,77,0.2);border:1px solid rgba(255,77,77,0.4);border-radius:8px;color:#ff4d4d;cursor:pointer;font-weight:600;">
        ‚èπÔ∏è Stop Recording
      </button>
      <button onclick="djPauseRecording()"
              style="flex:1;padding:14px;background:rgba(255,204,0,0.2);border:1px solid rgba(255,204,0,0.4);border-radius:8px;color:#ffcc00;cursor:pointer;font-weight:600;">
        ‚è∏Ô∏è Pause
      </button>
    </div>
  </div>
</div>

<script>
/* youtube-dj-mixer.html
   Complete YouTube DJ mixer with live mixing capabilities
   Scoped with 'dj' prefix
*/

// DJ APPLICATION STATE
let djState = {
  deckA: {
    player: null,
    loaded: false,
    playing: false,
    volume: 100,
    eq: { low: 0, mid: 0, high: 0 },
    cuePoint: 0,
    currentTime: 0,
    duration: 0,
    videoId: null,
    title: 'Empty'
  },
  deckB: {
    player: null,
    loaded: false,
    playing: false,
    volume: 100,
    eq: { low: 0, mid: 0, high: 0 },
    cuePoint: 0,
    currentTime: 0,
    duration: 0,
    videoId: null,
    title: 'Empty'
  },
  master: {
    volume: 100,
    crossfader: 50,
    tempo: 120,
    effects: [],
    recording: false,
    recordStart: null,
    recordPaused: false
  },
  visualization: {
    ctx: null,
    analyser: null,
    dataArray: null,
    animationId: null
  }
};

// DJ TIPS DATABASE
const djTips = [
  {
    title: "üéöÔ∏è Crossfader Technique",
    content: "Use the crossfader to smoothly transition between tracks. Start with Deck A, gradually move to center, then to Deck B.",
    category: "Basic"
  },
  {
    title: "üéõÔ∏è EQ Mixing",
    content: "Cut the bass on outgoing track before bringing in new track's bass. This prevents frequency clashes.",
    category: "Advanced"
  },
  {
    title: "‚è±Ô∏è Beat Matching",
    content: "Sync BPM of both tracks. Use the beat match button to align beats perfectly for seamless transitions.",
    category: "Intermediate"
  },
  {
    title: "üèîÔ∏è Reverb Effects",
    content: "Add reverb to outgoing track during transition for smooth fade-out. Keep it subtle.",
    category: "Effects"
  },
  {
    title: "‚ö° Cue Points",
    content: "Set cue points at the beginning of drops or choruses for quick access during live mixing.",
    category: "Workflow"
  },
  {
    title: "üéß Headphone Mixing",
    content: "Preview next track in headphones while current track plays through speakers. Essential for live DJing.",
    category: "Professional"
  },
  {
    title: "üîÅ Loop Creation",
    content: "Create loops on breakdowns to extend mixing time. Perfect for building tension.",
    category: "Creative"
  },
  {
    title: "üìà Energy Management",
    content: "Build energy gradually. Start with lower BPM tracks, gradually increase tempo throughout your set.",
    category: "Performance"
  }
];

// EXAMPLE YOUTUBE TRACKS (Music only, no vocals for copyright)
const djExamples = {
  electronic: [
    { id: "j9F3gQ8Lc9I", title: "Electronic Chill Mix" },
    { id: "XZNrBr1lx6k", title: "Synthwave Retro" }
  ],
  hiphop: [
    { id: "6TgK8XHb_5I", title: "Lo-Fi Hip Hop" },
    { id: "5qap5aO4i9A", title: "Chill Hop Radio" }
  ],
  rock: [
    { id: "fJ9rUzIMcZQ", title: "Classic Rock Instrumental" },
    { id: "tAGnKpE4NCI", title: "Rock Anthems Mix" }
  ],
  ambient: [
    { id: "7NOSDKb0HlU", title: "Ambient Space Music" },
    { id: "5JV-lGd6igM", title: "Meditation Ambient" }
  ]
};

// Initialize YouTube API
function djInitializeYouTubeAPI() {
  // Check if YouTube API is already loaded
  if (window.YT && window.YT.Player) {
    djSetupPlayers();
    return;
  }
  
  // Load YouTube API
  const tag = document.createElement('script');
  tag.src = "https://www.youtube.com/iframe_api";
  const firstScriptTag = document.getElementsByTagName('script')[0];
  firstScriptTag.parentNode.insertBefore(tag, firstScriptTag);
  
  // Setup callback
  window.onYouTubeIframeAPIReady = djSetupPlayers;
}

// Setup YouTube players
function djSetupPlayers() {
  // Create Deck A player
  djState.deckA.player = new YT.Player('dj-youtube-player-a', {
    height: '0',
    width: '0',
    videoId: '',
    playerVars: {
      'autoplay': 0,
      'controls': 0,
      'disablekb': 1,
      'fs': 0,
      'iv_load_policy': 3,
      'modestbranding': 1,
      'playsinline': 1,
      'rel': 0
    },
    events: {
      'onReady': (event) => djOnPlayerReady(event, 'a'),
      'onStateChange': (event) => djOnPlayerStateChange(event, 'a'),
      'onError': (event) => djOnPlayerError(event, 'a')
    }
  });
  
  // Create Deck B player
  djState.deckB.player = new YT.Player('dj-youtube-player-b', {
    height: '0',
    width: '0',
    videoId: '',
    playerVars: {
      'autoplay': 0,
      'controls': 0,
      'disablekb': 1,
      'fs': 0,
      'iv_load_policy': 3,
      'modestbranding': 1,
      'playsinline': 1,
      'rel': 0
    },
    events: {
      'onReady': (event) => djOnPlayerReady(event, 'b'),
      'onStateChange': (event) => djOnPlayerStateChange(event, 'b'),
      'onError': (event) => djOnPlayerError(event, 'b')
    }
  });
  
  // Initialize visualization
  djInitializeVisualization();
  
  // Show initial tips
  djShowTips(3);
}

// Player event handlers
function djOnPlayerReady(event, deck) {
  console.log(`Deck ${deck.toUpperCase()} ready`);
  djState[`deck${deck.toUpperCase()}`].loaded = true;
  djUpdateDeckStatus(deck, 'Ready');
  
  // Generate waveform visualization
  djGenerateWaveform(deck);
}

function djOnPlayerStateChange(event, deck) {
  const deckObj = djState[`deck${deck.toUpperCase()}`];
  
  switch(event.data) {
    case YT.PlayerState.PLAYING:
      deckObj.playing = true;
      document.getElementById(`dj-deck-${deck}-play`).innerHTML = '‚è∏Ô∏è Pause';
      break;
      
    case YT.PlayerState.PAUSED:
      deckObj.playing = false;
      document.getElementById(`dj-deck-${deck}-play`).innerHTML = '‚ñ∂Ô∏è Play';
      break;
      
    case YT.PlayerState.ENDED:
      deckObj.playing = false;
      document.getElementById(`dj-deck-${deck}-play`).innerHTML = '‚ñ∂Ô∏è Play';
      break;
  }
  
  // Update progress visualization
  djUpdateProgress(deck);
}

function djOnPlayerError(event, deck) {
  console.error(`Deck ${deck} error:`, event.data);
  djUpdateDeckStatus(deck, 'Error loading');
  djUpdateMixInfo(`Error loading track on Deck ${deck.toUpperCase()}`);
}

// Load YouTube track to deck
function djLoadDeck(deck) {
  const input = document.getElementById(`dj-deck-${deck}-url`);
  const url = input.value.trim();
  
  if (!url) {
    djUpdateMixInfo(`Please enter a YouTube URL for Deck ${deck.toUpperCase()}`);
    return;
  }
  
  // Extract video ID from URL
  const videoId = djExtractVideoId(url);
  if (!videoId) {
    djUpdateMixInfo('Invalid YouTube URL');
    return;
  }
  
  // Load video into player
  const deckObj = djState[`deck${deck.toUpperCase()}`];
  if (deckObj.player) {
    deckObj.player.loadVideoById(videoId);
    deckObj.videoId = videoId;
    deckObj.loaded = true;
    deckObj.title = `Loading...`;
    
    // Update status
    djUpdateDeckStatus(deck, 'Loading...');
    djUpdateMixInfo(`Loading track to Deck ${deck.toUpperCase()}...`);
    
    // Reset EQ and volume
    djResetDeckControls(deck);
  }
}

// Extract YouTube video ID from URL
function djExtractVideoId(url) {
  const patterns = [
    /(?:youtube\.com\/watch\?v=|youtu\.be\/)([^&\n?#]+)/,
    /youtube\.com\/embed\/([^&\n?#]+)/,
    /youtube\.com\/v\/([^&\n?#]+)/
  ];
  
  for (const pattern of patterns) {
    const match = url.match(pattern);
    if (match && match[1]) {
      return match[1];
    }
  }
  
  return null;
}

// Load example tracks
function djLoadExample(genre) {
  const examples = djExamples[genre];
  if (!examples || examples.length < 2) return;
  
  // Load to Deck A
  const deckAExample = examples[0];
  djState.deckA.player.loadVideoById(deckAExample.id);
  djState.deckA.videoId = deckAExample.id;
  djState.deckA.title = deckAExample.title;
  document.getElementById('dj-deck-a-url').value = `https://www.youtube.com/watch?v=${deckAExample.id}`;
  djUpdateDeckStatus('a', deckAExample.title);
  
  // Load to Deck B
  const deckBExample = examples[1];
  djState.deckB.player.loadVideoById(deckBExample.id);
  djState.deckB.videoId = deckBExample.id;
  djState.deckB.title = deckBExample.title;
  document.getElementById('dj-deck-b-url').value = `https://www.youtube.com/watch?v=${deckBExample.id}`;
  djUpdateDeckStatus('b', deckBExample.title);
  
  djUpdateMixInfo(`Loaded ${genre} examples to both decks. Start mixing!`);
  djResetDeckControls('a');
  djResetDeckControls('b');
}

// Clear both decks
function djClearDecks() {
  if (djState.deckA.player) {
    djState.deckA.player.stopVideo();
    djState.deckA.loaded = false;
    djState.deckA.title = 'Empty';
  }
  
  if (djState.deckB.player) {
    djState.deckB.player.stopVideo();
    djState.deckB.loaded = false;
    djState.deckB.title = 'Empty';
  }
  
  document.getElementById('dj-deck-a-url').value = '';
  document.getElementById('dj-deck-b-url').value = '';
  
  djUpdateDeckStatus('a', 'Empty');
  djUpdateDeckStatus('b', 'Empty');
  djUpdateMixInfo('Decks cleared. Load new tracks to continue.');
}

// Play/Pause deck
function djPlayPause(deck) {
  const deckObj = djState[`deck${deck.toUpperCase()}`];
  
  if (!deckObj.loaded) {
    djUpdateMixInfo(`Load a track to Deck ${deck.toUpperCase()} first`);
    return;
  }
  
  if (deckObj.playing) {
    deckObj.player.pauseVideo();
  } else {
    deckObj.player.playVideo();
    
    // Apply current volume and EQ settings
    djUpdateVolume(deck);
  }
}

// Set cue point
function djCue(deck) {
  const deckObj = djState[`deck${deck.toUpperCase()}`];
  
  if (!deckObj.loaded) return;
  
  deckObj.cuePoint = deckObj.player.getCurrentTime();
  djUpdateMixInfo(`Cue point set at ${deckObj.cuePoint.toFixed(1)}s on Deck ${deck.toUpperCase()}`);
  
  // Visual feedback
  const btn = document.getElementById(`dj-deck-${deck}-cue`);
  btn.innerHTML = '‚úÖ Cued';
  setTimeout(() => {
    btn.innerHTML = '‚ö° Cue';
  }, 1000);
}

// Update deck volume
function djUpdateVolume(deck) {
  const deckObj = djState[`deck${deck.toUpperCase()}`];
  const volumeSlider = document.getElementById(`dj-deck-${deck}-volume`);
  const volumeValue = document.getElementById(`dj-deck-${deck}-volume-value`);
  
  deckObj.volume = parseInt(volumeSlider.value);
  volumeValue.textContent = `${deckObj.volume}%`;
  
  // Apply crossfader effect
  const crossfaderValue = djState.master.crossfader;
  let effectiveVolume = deckObj.volume;
  
  if (deck === 'a') {
    effectiveVolume *= (crossfaderValue <= 50 ? 1 : (100 - crossfaderValue) / 50);
  } else {
    effectiveVolume *= (crossfaderValue >= 50 ? 1 : crossfaderValue / 50);
  }
  
  // Apply master volume
  effectiveVolume = effectiveVolume * (djState.master.volume / 100);
  
  if (deckObj.player && deckObj.loaded) {
    deckObj.player.setVolume(Math.round(effectiveVolume));
  }
}

// Update deck EQ
function djUpdateEQ(deck, band) {
  const deckObj = djState[`deck${deck.toUpperCase()}`];
  const slider = document.getElementById(`dj-deck-${deck}-eq-${band}`);
  const valueDisplay = document.getElementById(`dj-deck-${deck}-eq-${band}-value`);
  
  const value = parseFloat(slider.value);
  deckObj.eq[band] = value;
  valueDisplay.textContent = `${value > 0 ? '+' : ''}${value} dB`;
  
  // In a real implementation, this would apply actual EQ filtering
  // For this demo, we'll just update the display
  djUpdateMixInfo(`Deck ${deck.toUpperCase()} ${band} EQ set to ${value} dB`);
}

// Update crossfader
function djUpdateCrossfader() {
  const slider = document.getElementById('dj-crossfader');
  const display = document.getElementById('dj-crossfader-value');
  const value = parseInt(slider.value);
  
  djState.master.crossfader = value;
  
  let positionText;
  if (value < 40) positionText = '‚Üê Deck A';
  else if (value > 60) positionText = 'Deck B ‚Üí';
  else positionText = 'Center';
  
  display.textContent = positionText;
  
  // Update volumes based on crossfader
  djUpdateVolume('a');
  djUpdateVolume('b');
}

// Update master volume
function djUpdateMasterVolume() {
  const slider = document.getElementById('dj-master-volume');
  const display = document.getElementById('dj-master-volume-value');
  
  djState.master.volume = parseInt(slider.value);
  display.textContent = `${djState.master.volume}%`;
  
  // Apply to both decks
  djUpdateVolume('a');
  djUpdateVolume('b');
}

// Update tempo
function djUpdateTempo() {
  const slider = document.getElementById('dj-tempo');
  const display = document.getElementById('dj-tempo-value');
  
  djState.master.tempo = parseInt(slider.value);
  display.textContent = djState.master.tempo;
  
  // In a real implementation, this would change playback rate
  djUpdateMixInfo(`Tempo set to ${djState.master.tempo} BPM`);
}

// Sync tempo between decks
function djSyncTempo() {
  // This would sync playback rates in a real implementation
  djUpdateMixInfo('Tempo sync activated. Both decks now at same BPM.');
  
  // Visual feedback
  const display = document.getElementById('dj-tempo-value');
  display.style.animation = 'pulse 0.5s';
  setTimeout(() => {
    display.style.animation = '';
  }, 500);
}

// Beat match function
function djBeatMatch() {
  // This would analyze and match beats in a real implementation
  djUpdateMixInfo('Beat matching in progress... analyzing track structure.');
  
  // Simulate beat matching
  setTimeout(() => {
    djUpdateMixInfo('Beats matched! Tracks are now synchronized.');
  }, 1500);
}

// Apply effects
function djApplyEffect(effect) {
  djState.master.effects.push({
    type: effect,
    time: Date.now(),
    deck: djState.master.crossfader < 50 ? 'a' : 'b'
  });
  
  let effectName;
  switch(effect) {
    case 'reverb': effectName = 'Reverb'; break;
    case 'delay': effectName = 'Delay'; break;
    case 'filter': effectName = 'Filter'; break;
  }
  
  djUpdateMixInfo(`${effectName} effect applied to current deck.`);
  
  // Visual feedback
  const buttons = document.querySelectorAll(`[onclick="djApplyEffect('${effect}')"]`);
  buttons.forEach(btn => {
    btn.style.animation = 'pulse 0.5s';
    setTimeout(() => {
      btn.style.animation = '';
    }, 500);
  });
}

// Start mixing session
function djStartMixing() {
  if (!djState.deckA.loaded && !djState.deckB.loaded) {
    djUpdateMixInfo('Load tracks to both decks before starting mix.');
    return;
  }
  
  djUpdateMixInfo('üéß Live mix started! Use crossfader and EQ to blend tracks.');
  document.getElementById('dj-mix-status').textContent = 'Live Mixing';
  
  // Start visualization
  djStartVisualization();
  
  // Start progress updates
  djStartProgressUpdates();
}

// Stop all playback
function djStopAll() {
  if (djState.deckA.player) djState.deckA.player.stopVideo();
  if (djState.deckB.player) djState.deckB.player.stopVideo();
  
  djState.deckA.playing = false;
  djState.deckB.playing = false;
  
  document.getElementById('dj-deck-a-play').innerHTML = '‚ñ∂Ô∏è Play';
  document.getElementById('dj-deck-b-play').innerHTML = '‚ñ∂Ô∏è Play';
  
  djUpdateMixInfo('All playback stopped.');
  document.getElementById('dj-mix-status').textContent = 'Stopped';
  
  // Stop visualization
  djStopVisualization();
}

// Recording functions
function djRecordMix() {
  djState.master.recording = true;
  djState.master.recordStart = Date.now();
  djState.master.recordPaused = false;
  
  // Show recording modal
  document.getElementById('dj-record-modal').style.display = 'flex';
  
  // Start recording timer
  djUpdateRecordTimer();
}

function djUpdateRecordTimer() {
  if (!djState.master.recording) return;
  
  const timerElement = document.getElementById('dj-record-timer');
  const elapsed = Math.floor((Date.now() - djState.master.recordStart) / 1000);
  const minutes = Math.floor(elapsed / 60).toString().padStart(2, '0');
  const seconds = (elapsed % 60).toString().padStart(2, '0');
  
  timerElement.textContent = `${minutes}:${seconds}`;
  
  if (!djState.master.recordPaused) {
    setTimeout(djUpdateRecordTimer, 1000);
  }
}

function djStopRecording() {
  djState.master.recording = false;
  djCloseRecordModal();
  
  // In a real implementation, this would save the recorded mix
  djUpdateMixInfo('Mix recording saved! (Simulated)');
}

function djPauseRecording() {
  djState.master.recordPaused = !djState.master.recordPaused;
  const btn = document.querySelector('[onclick="djPauseRecording()"]');
  btn.innerHTML = djState.master.recordPaused ? '‚ñ∂Ô∏è Resume' : '‚è∏Ô∏è Pause';
}

function djCloseRecordModal() {
  document.getElementById('dj-record-modal').style.display = 'none';
}

// Visualization functions
function djInitializeVisualization() {
  const canvas = document.getElementById('dj-visualizer-canvas');
  if (!canvas) return;
  
  const ctx = canvas.getContext('2d');
  canvas.width = canvas.offsetWidth;
  canvas.height = canvas.offsetHeight;
  
  djState.visualization.ctx = ctx;
}

function djStartVisualization() {
  if (djState.visualization.animationId) {
    cancelAnimationFrame(djState.visualization.animationId);
  }
  
  function draw() {
    const canvas = document.getElementById('dj-visualizer-canvas');
    const ctx = djState.visualization.ctx;
    
    if (!ctx || !canvas) return;
    
    // Clear canvas
    ctx.fillStyle = 'rgba(0, 0, 0, 0.1)';
    ctx.fillRect(0, 0, canvas.width, canvas.height);
    
    // Get which deck is active based on crossfader
    const activeDeck = djState.master.crossfader < 50 ? 'a' : 'b';
    const deckColor = activeDeck === 'a' ? 'rgba(45,212,255,0.6)' : 'rgba(157,78,221,0.6)';
    
    // Draw waveform visualization
    const bars = 64;
    const barWidth = canvas.width / bars;
    
    for (let i = 0; i < bars; i++) {
      // Simulate audio data (in real implementation, use Web Audio API)
      const height = Math.random() * canvas.height * 0.8;
      const x = i * barWidth;
      const y = (canvas.height - height) / 2;
      
      // Create gradient
      const gradient = ctx.createLinearGradient(x, 0, x + barWidth, canvas.height);
      gradient.addColorStop(0, deckColor);
      gradient.addColorStop(1, 'rgba(255,255,255,0.3)');
      
      ctx.fillStyle = gradient;
      ctx.fillRect(x, y, barWidth - 1, height);
    }
    
    // Draw center line
    ctx.strokeStyle = 'rgba(255,255,255,0.2)';
    ctx.lineWidth = 1;
    ctx.beginPath();
    ctx.moveTo(canvas.width / 2, 0);
    ctx.lineTo(canvas.width / 2, canvas.height);
    ctx.stroke();
    
    djState.visualization.animationId = requestAnimationFrame(draw);
  }
  
  draw();
}

function djStopVisualization() {
  if (djState.visualization.animationId) {
    cancelAnimationFrame(djState.visualization.animationId);
    djState.visualization.animationId = null;
  }
  
  // Clear canvas
  const canvas = document.getElementById('dj-visualizer-canvas');
  const ctx = djState.visualization.ctx;
  if (ctx && canvas) {
    ctx.clearRect(0, 0, canvas.width, canvas.height);
  }
}

// Generate fake waveform for visualization
function djGenerateWaveform(deck) {
  const waveElement = document.getElementById(`dj-deck-${deck}-wave`);
  if (!waveElement) return;
  
  waveElement.innerHTML = '';
  const bars = 32;
  
  for (let i = 0; i < bars; i++) {
    const bar = document.createElement('div');
    bar.style.cssText = `
      display: inline-block;
      width: 2px;
      height: ${20 + Math.random() * 40}px;
      background: ${deck === 'a' ? 'rgba(45,212,255,0.4)' : 'rgba(157,78,221,0.4)'};
      margin-right: 1px;
      vertical-align: bottom;
    `;
    waveElement.appendChild(bar);
  }
}

// Update deck progress visualization
function djUpdateProgress(deck) {
  const deckObj = djState[`deck${deck.toUpperCase()}`];
  if (!deckObj.player || !deckObj.loaded) return;
  
  const progressElement = document.getElementById(`dj-deck-${deck}-progress`);
  if (!progressElement) return;
  
  try {
    const currentTime = deckObj.player.getCurrentTime();
    const duration = deckObj.player.getDuration();
    
    if (duration > 0) {
      const progress = (currentTime / duration) * 100;
      progressElement.style.width = `${progress}%`;
    }
  } catch (e) {
    // YouTube API might not be ready yet
  }
}

function djStartProgressUpdates() {
  function update() {
    djUpdateProgress('a');
    djUpdateProgress('b');
    requestAnimationFrame(update);
  }
  update();
}

// Show DJ tips
function djShowTips(count = 3) {
  const container = document.getElementById('dj-tips-container');
  if (!container) return;
  
  container.innerHTML = '';
  
  // Get random tips
  const shuffled = [...djTips].sort(() => 0.5 - Math.random());
  const selected = shuffled.slice(0, count);
  
  selected.forEach(tip => {
    const tipCard = document.createElement('div');
    tipCard.style.cssText = `
      background: linear-gradient(135deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
      border: 1px solid rgba(255,255,255,0.05);
      border-radius: 8px;
      padding: 16px;
      transition: all 0.3s ease;
    `;
    
    tipCard.innerHTML = `
      <div style="display:flex;align-items:center;gap:8px;margin-bottom:8px;">
        <div style="color:var(--accent);font-weight:600;font-size:14px;">${tip.title}</div>
        <div style="margin-left:auto;font-size:11px;color:rgba(230,250,255,0.6);background:rgba(255,255,255,0.05);padding:2px 6px;border-radius:4px;">
          ${tip.category}
        </div>
      </div>
      <div style="color:rgba(230,250,255,0.8);font-size:13px;line-height:1.5;">
        ${tip.content}
      </div>
    `;
    
    tipCard.addEventListener('mouseenter', () => {
      tipCard.style.transform = 'translateY(-2px)';
      tipCard.style.boxShadow = '0 6px 12px rgba(0,0,0,0.2)';
      tipCard.style.borderColor = 'rgba(45,212,255,0.2)';
    });
    
    tipCard.addEventListener('mouseleave', () => {
      tipCard.style.transform = '';
      tipCard.style.boxShadow = '';
      tipCard.style.borderColor = 'rgba(255,255,255,0.05)';
    });
    
    container.appendChild(tipCard);
  });
}

function djNewTip() {
  djShowTips(3);
  
  // Visual feedback
  const btn = document.querySelector('[onclick="djNewTip()"]');
  btn.innerHTML = 'üîÑ Loading...';
  setTimeout(() => {
    btn.innerHTML = 'üîÑ New Tip';
  }, 500);
}

// Utility functions
function djUpdateDeckStatus(deck, status) {
  const element = document.getElementById(`dj-deck-${deck}-status`);
  if (element) {
    element.textContent = status;
  }
}

function djUpdateMixInfo(message) {
  const element = document.getElementById('dj-mix-info');
  if (element) {
    element.textContent = message;
    element.style.animation = 'pulse 0.5s';
    setTimeout(() => {
      element.style.animation = '';
    }, 500);
  }
}

function djResetDeckControls(deck) {
  // Reset volume
  document.getElementById(`dj-deck-${deck}-volume`).value = 100;
  document.getElementById(`dj-deck-${deck}-volume-value`).textContent = '100%';
  
  // Reset EQ
  ['low', 'mid', 'high'].forEach(band => {
    document.getElementById(`dj-deck-${deck}-eq-${band}`).value = 0;
    document.getElementById(`dj-deck-${deck}-eq-${band}-value`).textContent = '0 dB';
  });
}

// Initialize on load
if (document.readyState === 'loading') {
  document.addEventListener('DOMContentLoaded', function() {
    djInitializeYouTubeAPI();
    console.log('YouTube DJ Mixer initialized');
  });
} else {
  djInitializeYouTubeAPI();
}
</script>

<!-- CUSTOM STYLES -->
<style>
#youtube-dj-title {
  background: linear-gradient(135deg, var(--accent), #9d4edd);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
  margin-bottom: 8px;
}

/* Animations */
@keyframes pulse {
  0% { opacity: 1; }
  50% { opacity: 0.7; }
  100% { opacity: 1; }
}

@keyframes slideIn {
  from {
    opacity: 0;
    transform: translateY(20px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes glow {
  0% { box-shadow: 0 0 5px var(--accent); }
  50% { box-shadow: 0 0 20px var(--accent); }
  100% { box-shadow: 0 0 5px var(--accent); }
}

/* DJ deck animations */
.deck-active {
  animation: glow 2s infinite;
}

/* Custom range slider styles */
input[type="range"] {
  -webkit-appearance: none;
  appearance: none;
  background: transparent;
  cursor: pointer;
}

input[type="range"]::-webkit-slider-track {
  background: rgba(255,255,255,0.1);
  border-radius: 4px;
  height: 6px;
}

input[type="range"]::-webkit-slider-thumb {
  -webkit-appearance: none;
  appearance: none;
  height: 16px;
  width: 16px;
  border-radius: 50%;
  background: var(--accent);
  cursor: pointer;
  border: 2px solid rgba(255,255,255,0.2);
}

input[type="range"]::-moz-range-track {
  background: rgba(255,255,255,0.1);
  border-radius: 4px;
  height: 6px;
}

input[type="range"]::-moz-range-thumb {
  height: 16px;
  width: 16px;
  border-radius: 50%;
  background: var(--accent);
  cursor: pointer;
  border: 2px solid rgba(255,255,255,0.2);
}

/* Special crossfader styling */
#dj-crossfader {
  background: linear-gradient(90deg, 
    rgba(45,212,255,0.3), 
    rgba(157,78,221,0.3));
}

/* Responsive design */
@media (max-width: 1024px) {
  #dj-decks-container {
    grid-template-columns: 1fr !important;
    gap: 16px !important;
  }
  
  #dj-controls-container {
    grid-template-columns: 1fr !important;
    gap: 24px !important;
  }
  
  #dj-crossfader {
    transform: rotate(0deg) !important;
    margin: 20px 0 !important;
    height: 30px !important;
  }
}

@media (max-width: 768px) {
  #dj-tips-container {
    grid-template-columns: 1fr !important;
  }
  
  .actions {
    flex-direction: column !important;
  }
  
  .actions button {
    width: 100% !important;
    margin: 4px 0 !important;
  }
}

/* Deck hover effects */
#dj-deck-a, #dj-deck-b {
  transition: all 0.3s ease;
}

#dj-deck-a:hover {
  border-color: rgba(45,212,255,0.3) !important;
  box-shadow: 0 8px 24px rgba(45,212,255,0.1);
}

#dj-deck-b:hover {
  border-color: rgba(157,78,221,0.3) !important;
  box-shadow: 0 8px 24px rgba(157,78,221,0.1);
}

/* Button animations */
button:active {
  transform: scale(0.98);
}

/* Loading animation */
@keyframes loading {
  0% { transform: rotate(0deg); }
  100% { transform: rotate(360deg); }
}

.loading {
  animation: loading 1s linear infinite;
}

/* Visualizer effects */
#dj-visualizer-canvas {
  transition: opacity 0.3s ease;
}

/* Modal animations */
#dj-record-modal {
  animation: slideIn 0.3s ease-out;
}

/* Progress bar animation */
#dj-deck-a-progress, #dj-deck-b-progress {
  transition: width 0.1s linear;
}

/* EQ indicator colors */
#dj-deck-a-eq-low-value,
#dj-deck-a-eq-mid-value,
#dj-deck-a-eq-high-value {
  color: var(--accent) !important;
}

#dj-deck-b-eq-low-value,
#dj-deck-b-eq-mid-value,
#dj-deck-b-eq-high-value {
  color: #9d4edd !important;
}

/* Status indicators */
#dj-deck-a-status, #dj-deck-b-status {
  transition: color 0.3s ease;
}

#dj-mix-status {
  font-weight: 500;
}
</style>
