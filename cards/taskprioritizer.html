<h2 id="taskprioritizer-title" style="margin-top:0;">Task Prioritizer</h2>

<form aria-describedby="taskprioritizer-desc">
  <p id="taskprioritizer-desc" class="small">Rank tasks by urgency and importance.</p>

  <div class="row">
    <div class="field">
      <label for="taskprioritizer-task">Task name</label>
      <input id="taskprioritizer-task" type="text" placeholder="e.g. Finish report" />
    </div>
    <div class="field">
      <label for="taskprioritizer-urgency">Urgency (1–5)</label>
      <input id="taskprioritizer-urgency" type="number" min="1" max="5" value="3" />
    </div>
    <div class="field">
      <label for="taskprioritizer-importance">Importance (1–5)</label>
      <input id="taskprioritizer-importance" type="number" min="1" max="5" value="3" />
    </div>
  </div>

  <div class="actions">
    <button type="button" onclick="taskprioritizerAdd(this)">Add Task</button>
    <button type="button" class="secondary" onclick="taskprioritizerReset(this)">Reset</button>
  </div>
</form>

<div class="results" aria-live="polite">
  <ul id="taskprioritizer-list" class="small"></ul>
</div>

<details class="small" style="margin-top:12px;">
  <summary>How it works</summary>
  <p>
    Score = Urgency × Importance.  
    Higher score → higher priority.  
    Helps you decide what to do first.
  </p>
</details>

<script>
function taskprioritizerAdd(btn) {
  const card = btn.closest('.card');
  const task = card.querySelector('#taskprioritizer-task').value.trim();
  const urgency = parseInt(card.querySelector('#taskprioritizer-urgency').value) || 0;
  const importance = parseInt(card.querySelector('#taskprioritizer-importance').value) || 0;

  if (!task) return;

  const score = urgency * importance;
  const list = card.querySelector('#taskprioritizer-list');
  const item = document.createElement('li');
  item.textContent = task + " — Score: " + score;
  list.appendChild(item);

  // Sort list by score descending
  const items = Array.from(list.children);
  items.sort((a, b) => {
    const sa = parseInt(a.textContent.split("Score: ")[1]);
    const sb = parseInt(b.textContent.split("Score: ")[1]);
    return sb - sa;
  });
  list.innerHTML = "";
  items.forEach(i => list.appendChild(i));
}

function taskprioritizerReset(btn) {
  const card = btn.closest('.card');
  card.querySelector('form').reset();
  card.querySelector('#taskprioritizer-list').innerHTML = "";
}
</script>
