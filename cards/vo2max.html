<h2 id="vo2max-title" style="margin-top:0;">VO₂ Max Calculator</h2>

<form aria-describedby="vo2max-desc">
  <p id="vo2max-desc" class="small">Estimate your VO₂ Max — a measure of aerobic fitness.</p>

  <div class="row">
    <div class="field">
      <label for="vo2max-age">Age</label>
      <input id="vo2max-age" type="number" min="1" value="30" />
    </div>
    <div class="field">
      <label for="vo2max-resting">Resting heart rate (bpm)</label>
      <input id="vo2max-resting" type="number" min="30" value="60" />
    </div>
  </div>

  <div class="actions">
    <button type="button" onclick="vo2maxCalc(this)">Calculate</button>
    <button type="button" class="secondary" onclick="vo2maxReset(this)">Reset</button>
  </div>
</form>

<div class="results" aria-live="polite">
  <div class="result">
    <div class="label">VO₂ Max</div>
    <div class="value" id="vo2max-res">–</div>
  </div>
</div>

<details class="small" style="margin-top:12px;">
  <summary>How it works</summary>
  <p>
    A simple estimate: VO₂ Max = 15 × (HRmax ÷ HRrest).  
    HRmax ≈ 220 − age.
  </p>
</details>

<script>
function vo2maxCalc(btn) {
  const card = btn.closest('.card');
  const age = parseInt(card.querySelector('#vo2max-age').value, 10) || 0;
  const hrRest = parseInt(card.querySelector('#vo2max-resting').value, 10) || 60;

  const hrMax = 220 - age;
  const vo2 = 15 * (hrMax / hrRest);

  card.querySelector('#vo2max-res').textContent = vo2.toFixed(1) + " ml/kg/min";
}

function vo2maxReset(btn) {
  const card = btn.closest('.card');
  card.querySelector('form').reset();
  card.querySelector('#vo2max-res').textContent = '–';
}
</script>
