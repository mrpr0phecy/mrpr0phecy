  <h2 class="card-title">Password Generator</h2>
  
  <div class="card-content">
    <p class="card-description">Create strong, random passwords instantly. Customize length and character sets.</p>
    
    <form class="card-form">
      <div class="form-field">
        <label for="pw-length" class="field-label">Password Length</label>
        <div class="length-control">
          <input type="range" id="pw-length-slider" min="6" max="32" value="12" class="slider">
          <div class="length-display">
            <input type="number" id="pw-length" min="6" max="64" value="12" class="length-input">
            <span class="length-unit">characters</span>
          </div>
        </div>
      </div>
      
      <div class="character-options">
        <div class="option-group">
          <div class="option-title">Character Sets</div>
          <div class="options-grid">
            <label class="option-toggle">
              <input type="checkbox" id="pw-lowercase" checked>
              <span class="toggle-slider"></span>
              <span class="option-label">
                <span class="icon">a</span>
                Lowercase
              </span>
            </label>
            <label class="option-toggle">
              <input type="checkbox" id="pw-uppercase" checked>
              <span class="toggle-slider"></span>
              <span class="option-label">
                <span class="icon">A</span>
                Uppercase
              </span>
            </label>
            <label class="option-toggle">
              <input type="checkbox" id="pw-numbers" checked>
              <span class="toggle-slider"></span>
              <span class="option-label">
                <span class="icon">1</span>
                Numbers
              </span>
            </label>
            <label class="option-toggle">
              <input type="checkbox" id="pw-symbols" checked>
              <span class="toggle-slider"></span>
              <span class="option-label">
                <span class="icon">#</span>
                Symbols
              </span>
            </label>
          </div>
        </div>
      </div>
      
      <div class="strength-meter">
        <div class="strength-header">
          <span class="strength-label">Password Strength</span>
          <span class="strength-value" id="strength-value">‚Äì</span>
        </div>
        <div class="strength-bar">
          <div class="strength-fill" id="strength-fill"></div>
        </div>
      </div>
      
      <div class="card-actions">
        <button type="button" class="card-btn primary" onclick="pwGenerate()">
          <span class="btn-icon">üîê</span>
          Generate Password
        </button>
        <button type="button" class="card-btn secondary" onclick="pwReset()">
          <span class="btn-icon">üîÑ</span>
          Reset
        </button>
      </div>
    </form>
    
    <div class="password-display">
      <div class="password-header">
        <span class="password-label">Generated Password</span>
        <button class="refresh-btn" onclick="pwGenerate()" title="Generate new password">
          <span>üîÑ</span>
        </button>
      </div>
      <div class="password-output">
        <div id="pw-output" class="password-text">‚Äì</div>
        <button class="copy-btn" onclick="pwCopy()" title="Copy to clipboard">
          <span class="copy-icon">üìã</span>
          <span class="copy-text">Copy</span>
        </button>
      </div>
      <div id="copy-feedback" class="copy-feedback"></div>
    </div>
    
    <div class="card-tips">
      <details>
        <summary class="tips-title">
          <span class="tips-icon">üí°</span>
          Password Tips
        </summary>
        <div class="tips-content">
          <ul>
            <li>Use passwords longer than 12 characters for better security</li>
            <li>Include a mix of character types (uppercase, lowercase, numbers, symbols)</li>
            <li>Never reuse passwords across different websites</li>
            <li>Consider using a password manager to store your passwords securely</li>
            <li>Change passwords immediately if a service reports a data breach</li>
          </ul>
        </div>
      </details>
    </div>
  </div>
</div>

<style>
.card {
  background: white;
  border-radius: 12px;
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
  padding: 24px;
  max-width: 500px;
  margin: 0 auto;
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
}

.card-title {
  margin: 0 0 16px 0;
  color: #2d3748;
  font-size: 24px;
  font-weight: 600;
  display: flex;
  align-items: center;
  gap: 10px;
}

.card-title:before {
  content: "üîê";
  font-size: 28px;
}

.card-description {
  color: #718096;
  font-size: 14px;
  margin: 0 0 24px 0;
  line-height: 1.5;
}

.form-field {
  margin-bottom: 24px;
}

.field-label {
  display: block;
  font-size: 14px;
  font-weight: 500;
  color: #4a5568;
  margin-bottom: 12px;
}

.length-control {
  display: flex;
  flex-direction: column;
  gap: 12px;
}

.slider {
  width: 100%;
  height: 6px;
  -webkit-appearance: none;
  appearance: none;
  background: #e2e8f0;
  border-radius: 3px;
  outline: none;
}

.slider::-webkit-slider-thumb {
  -webkit-appearance: none;
  appearance: none;
  width: 20px;
  height: 20px;
  border-radius: 50%;
  background: #4299e1;
  cursor: pointer;
  border: 3px solid white;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
}

.slider::-moz-range-thumb {
  width: 20px;
  height: 20px;
  border-radius: 50%;
  background: #4299e1;
  cursor: pointer;
  border: 3px solid white;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
}

.length-display {
  display: flex;
  align-items: center;
  gap: 8px;
}

.length-input {
  width: 70px;
  padding: 8px 12px;
  border: 2px solid #e2e8f0;
  border-radius: 8px;
  font-size: 16px;
  font-weight: 600;
  color: #2d3748;
  text-align: center;
  transition: all 0.2s;
}

.length-input:focus {
  outline: none;
  border-color: #4299e1;
  box-shadow: 0 0 0 3px rgba(66, 153, 225, 0.15);
}

.length-unit {
  font-size: 14px;
  color: #718096;
}

.character-options {
  margin-bottom: 24px;
}

.option-title {
  font-size: 14px;
  font-weight: 500;
  color: #4a5568;
  margin-bottom: 12px;
}

.options-grid {
  display: grid;
  grid-template-columns: repeat(2, 1fr);
  gap: 12px;
}

@media (max-width: 480px) {
  .options-grid {
    grid-template-columns: 1fr;
  }
}

.option-toggle {
  display: flex;
  align-items: center;
  gap: 12px;
  padding: 12px;
  background: #f8fafc;
  border-radius: 8px;
  border: 2px solid transparent;
  cursor: pointer;
  transition: all 0.2s;
  user-select: none;
}

.option-toggle:hover {
  background: #edf2f7;
  border-color: #e2e8f0;
}

.option-toggle input[type="checkbox"] {
  display: none;
}

.toggle-slider {
  width: 44px;
  height: 24px;
  background: #cbd5e0;
  border-radius: 12px;
  position: relative;
  transition: all 0.2s;
  flex-shrink: 0;
}

.toggle-slider:after {
  content: '';
  position: absolute;
  width: 20px;
  height: 20px;
  border-radius: 50%;
  background: white;
  top: 2px;
  left: 2px;
  transition: all 0.2s;
}

.option-toggle input:checked + .toggle-slider {
  background: #48bb78;
}

.option-toggle input:checked + .toggle-slider:after {
  left: 22px;
}

.option-label {
  font-size: 14px;
  color: #4a5568;
  font-weight: 500;
  display: flex;
  align-items: center;
  gap: 8px;
}

.option-label .icon {
  width: 24px;
  height: 24px;
  background: #e2e8f0;
  border-radius: 6px;
  display: flex;
  align-items: center;
  justify-content: center;
  font-weight: 600;
  font-size: 12px;
}

.strength-meter {
  margin-bottom: 24px;
}

.strength-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 8px;
}

.strength-label {
  font-size: 14px;
  font-weight: 500;
  color: #4a5568;
}

.strength-value {
  font-size: 14px;
  font-weight: 600;
}

.strength-bar {
  height: 8px;
  background: #e2e8f0;
  border-radius: 4px;
  overflow: hidden;
}

.strength-fill {
  height: 100%;
  width: 0%;
  background: #e53e3e;
  border-radius: 4px;
  transition: all 0.3s ease;
}

.card-actions {
  display: flex;
  gap: 12px;
  margin-bottom: 24px;
}

.card-btn {
  padding: 12px 20px;
  border-radius: 8px;
  font-size: 14px;
  font-weight: 500;
  border: none;
  cursor: pointer;
  transition: all 0.2s;
  flex: 1;
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 8px;
}

.card-btn:hover {
  transform: translateY(-1px);
  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
}

.card-btn:active {
  transform: translateY(0);
}

.card-btn.primary {
  background: #4299e1;
  color: white;
}

.card-btn.primary:hover {
  background: #3182ce;
}

.card-btn.secondary {
  background: #edf2f7;
  color: #4a5568;
}

.card-btn.secondary:hover {
  background: #e2e8f0;
}

.btn-icon {
  font-size: 16px;
}

.password-display {
  background: #f8fafc;
  border-radius: 8px;
  padding: 20px;
  margin-bottom: 20px;
}

.password-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 12px;
}

.password-label {
  font-size: 14px;
  font-weight: 500;
  color: #4a5568;
}

.refresh-btn {
  background: none;
  border: none;
  color: #718096;
  cursor: pointer;
  padding: 4px;
  border-radius: 4px;
  font-size: 18px;
  line-height: 1;
  transition: all 0.2s;
}

.refresh-btn:hover {
  color: #4299e1;
  background: rgba(66, 153, 225, 0.1);
  transform: rotate(90deg);
}

.password-output {
  display: flex;
  gap: 12px;
  align-items: center;
}

.password-text {
  flex: 1;
  padding: 14px 16px;
  background: white;
  border: 2px solid #e2e8f0;
  border-radius: 8px;
  font-family: 'Courier New', monospace;
  font-size: 16px;
  letter-spacing: 1px;
  color: #2d3748;
  word-break: break-all;
  min-height: 52px;
  display: flex;
  align-items: center;
}

.copy-btn {
  padding: 12px 20px;
  background: #edf2f7;
  border: 2px solid #e2e8f0;
  border-radius: 8px;
  color: #4a5568;
  font-size: 14px;
  font-weight: 500;
  cursor: pointer;
  transition: all 0.2s;
  display: flex;
  align-items: center;
  gap: 8px;
  white-space: nowrap;
}

.copy-btn:hover {
  background: #e2e8f0;
  border-color: #cbd5e0;
}

.copy-feedback {
  height: 20px;
  font-size: 12px;
  color: #48bb78;
  text-align: center;
  margin-top: 8px;
  opacity: 0;
  transition: opacity 0.2s;
}

.copy-feedback.show {
  opacity: 1;
}

.card-tips {
  border-top: 1px solid #e2e8f0;
  padding-top: 20px;
}

.tips-title {
  font-size: 14px;
  font-weight: 500;
  color: #4a5568;
  cursor: pointer;
  display: flex;
  align-items: center;
  gap: 8px;
  list-style: none;
}

.tips-title::-webkit-details-marker {
  display: none;
}

.tips-title:after {
  content: '‚ñ∂';
  font-size: 10px;
  transition: transform 0.2s;
  margin-left: auto;
}

details[open] .tips-title:after {
  transform: rotate(90deg);
}

.tips-icon {
  font-size: 16px;
}

.tips-content {
  margin-top: 12px;
  padding-left: 24px;
}

.tips-content ul {
  margin: 0;
  padding: 0;
}

.tips-content li {
  font-size: 13px;
  color: #718096;
  margin-bottom: 8px;
  line-height: 1.5;
}

.tips-content li:last-child {
  margin-bottom: 0;
}
</style>

<script>
let generatedPassword = '';

function pwGenerate() {
  const length = parseInt(document.getElementById('pw-length').value, 10) || 12;
  const useLowercase = document.getElementById('pw-lowercase').checked;
  const useUppercase = document.getElementById('pw-uppercase').checked;
  const useNumbers = document.getElementById('pw-numbers').checked;
  const useSymbols = document.getElementById('pw-symbols').checked;

  // Build character set
  let chars = '';
  if (useLowercase) chars += 'abcdefghijklmnopqrstuvwxyz';
  if (useUppercase) chars += 'ABCDEFGHIJKLMNOPQRSTUVWXYZ';
  if (useNumbers) chars += '0123456789';
  if (useSymbols) chars += '!@#$%^&*()_+-=[]{}|;:,.<>?';

  // Check if at least one character set is selected
  if (chars.length === 0) {
    alert('Please select at least one character set');
    return;
  }

  // Generate password
  let password = '';
  const array = new Uint32Array(length);
  crypto.getRandomValues(array);
  
  for (let i = 0; i < length; i++) {
    password += chars[array[i] % chars.length];
  }

  // Ensure at least one character from each selected set
  if (useLowercase && !/[a-z]/.test(password)) {
    password = password.slice(0, -1) + chars.match(/[a-z]/)[0];
  }
  if (useUppercase && !/[A-Z]/.test(password)) {
    password = password.slice(0, -2) + chars.match(/[A-Z]/)[0] + password.slice(-1);
  }
  if (useNumbers && !/[0-9]/.test(password)) {
    password = password.slice(0, -3) + chars.match(/[0-9]/)[0] + password.slice(-2);
  }
  if (useSymbols && !/[!@#$%^&*()_+\-=\[\]{}|;:,.<>?]/.test(password)) {
    password = password.slice(0, -4) + chars.match(/[!@#$%^&*()_+\-=\[\]{}|;:,.<>?]/)[0] + password.slice(-3);
  }

  // Store and display password
  generatedPassword = password;
  document.getElementById('pw-output').textContent = password;
  
  // Update strength meter
  updateStrengthMeter(password);
}

function pwReset() {
  if (confirm('Reset all settings to defaults?')) {
    document.getElementById('pw-length').value = 12;
    document.getElementById('pw-length-slider').value = 12;
    document.getElementById('pw-lowercase').checked = true;
    document.getElementById('pw-uppercase').checked = true;
    document.getElementById('pw-numbers').checked = true;
    document.getElementById('pw-symbols').checked = true;
    document.getElementById('pw-output').textContent = '‚Äì';
    document.getElementById('strength-value').textContent = '‚Äì';
    document.getElementById('strength-fill').style.width = '0%';
    generatedPassword = '';
  }
}

function pwCopy() {
  if (generatedPassword && generatedPassword !== '‚Äì') {
    navigator.clipboard.writeText(generatedPassword).then(() => {
      const feedback = document.getElementById('copy-feedback');
      feedback.textContent = '‚úì Password copied to clipboard!';
      feedback.classList.add('show');
      
      setTimeout(() => {
        feedback.classList.remove('show');
      }, 2000);
    }).catch(err => {
      console.error('Failed to copy: ', err);
      alert('Failed to copy password to clipboard');
    });
  } else {
    alert('Please generate a password first');
  }
}

function updateStrengthMeter(password) {
  let strength = 0;
  
  // Length score
  if (password.length >= 8) strength += 1;
  if (password.length >= 12) strength += 1;
  if (password.length >= 16) strength += 1;
  
  // Character variety score
  if (/[a-z]/.test(password)) strength += 1;
  if (/[A-Z]/.test(password)) strength += 1;
  if (/[0-9]/.test(password)) strength += 1;
  if (/[^a-zA-Z0-9]/.test(password)) strength += 1;
  
  // Calculate percentage and update display
  const percentage = Math.min(100, (strength / 7) * 100);
  const strengthFill = document.getElementById('strength-fill');
  const strengthValue = document.getElementById('strength-value');
  
  strengthFill.style.width = `${percentage}%`;
  
  // Set color and label based on strength
  if (percentage < 40) {
    strengthFill.style.background = '#e53e3e';
    strengthValue.textContent = 'Weak';
    strengthValue.style.color = '#e53e3e';
  } else if (percentage < 70) {
    strengthFill.style.background = '#d69e2e';
    strengthValue.textContent = 'Fair';
    strengthValue.style.color = '#d69e2e';
  } else if (percentage < 90) {
    strengthFill.style.background = '#38a169';
    strengthValue.textContent = 'Good';
    strengthValue.style.color = '#38a169';
  } else {
    strengthFill.style.background = '#276749';
    strengthValue.textContent = 'Strong';
    strengthValue.style.color = '#276749';
  }
}

// Initialize event listeners
document.addEventListener('DOMContentLoaded', () => {
  // Sync slider and number input
  const slider = document.getElementById('pw-length-slider');
  const numberInput = document.getElementById('pw-length');
  
  slider.addEventListener('input', () => {
    numberInput.value = slider.value;
    if (generatedPassword) {
      pwGenerate();
    }
  });
  
  numberInput.addEventListener('input', () => {
    let value = parseInt(numberInput.value, 10);
    if (value < 6) value = 6;
    if (value > 64) value = 64;
    numberInput.value = value;
    slider.value = Math.min(value, 32);
    if (generatedPassword) {
      pwGenerate();
    }
  });
  
  // Auto-generate when character options change
  const checkboxes = document.querySelectorAll('.character-options input[type="checkbox"]');
  checkboxes.forEach(checkbox => {
    checkbox.addEventListener('change', () => {
      if (generatedPassword) {
        pwGenerate();
      }
    });
  });
  
  // Generate initial password
  pwGenerate();
});
</script>
