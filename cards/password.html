<h2 id="password-title" style="margin-top:0;">Password Generator</h2>

<form aria-describedby="password-desc">
  <p id="password-desc" class="small">Create strong, random passwords instantly. Customize length and character sets.</p>

  <div class="row">
    <div class="field">
      <label for="pw-length">Length</label>
      <div class="input"><input id="pw-length" type="number" min="6" max="64" value="12" /></div>
    </div>
    <div class="field">
      <label><input type="checkbox" id="pw-numbers" checked /> Include numbers</label>
    </div>
    <div class="field">
      <label><input type="checkbox" id="pw-symbols" checked /> Include symbols</label>
    </div>
  </div>

  <div class="actions">
    <button type="button" onclick="pwGenerate(this)">Generate</button>
    <button type="button" class="secondary" onclick="pwReset(this)">Reset</button>
  </div>
</form>

<div class="results" aria-live="polite" style="margin-top:20px;">
  <div class="result">
    <div class="label">Generated password</div>
    <div class="value" id="pw-output">–</div>
  </div>
  <button type="button" onclick="pwCopy(this)" style="margin-top:10px;">Copy to clipboard</button>
</div>

<details class="small" style="margin-top:12px;">
  <summary>Tips</summary>
  <p>
    Use long, random passwords for maximum security.  
    Store them in a password manager instead of memorizing.
  </p>
</details>

<script>
function pwGenerate(btn) {
  const card = btn.closest('.card');
  const length = parseInt(card.querySelector('#pw-length').value, 10) || 12;
  const useNumbers = card.querySelector('#pw-numbers').checked;
  const useSymbols = card.querySelector('#pw-symbols').checked;

  let chars = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";
  if (useNumbers) chars += "0123456789";
  if (useSymbols) chars += "!@#$%^&*()-_=+[]{};:,.<>?";

  let password = "";
  for (let i = 0; i < length; i++) {
    password += chars.charAt(Math.floor(Math.random() * chars.length));
  }

  card.querySelector('#pw-output').textContent = password;
}

function pwReset(btn) {
  const card = btn.closest('.card');
  card.querySelector('form').reset();
  card.querySelector('#pw-output').textContent = '–';
}

function pwCopy(btn) {
  const card = btn.closest('.card');
  const output = card.querySelector('#pw-output').textContent;
  if (output && output !== '–') {
    navigator.clipboard.writeText(output).then(() => {
      btn.textContent = "Copied!";
      setTimeout(() => btn.textContent = "Copy to clipboard", 1500);
    });
  }
}
</script>
