<h2 id="experiment-ideas-title" style="margin-top:0;">Experiment Ideas</h2>

<form aria-describedby="experiment-ideas-desc">
  <p id="experiment-ideas-desc" class="small">Generate simple science experiment ideas. Choose subject and difficulty, then view a suggested experiment.</p>

  <div class="row" style="display:grid;grid-template-columns:1fr 1fr;gap:10px;">
    <div class="field">
      <label for="exp-subject">Subject</label>
      <select id="exp-subject" style="width:100%;">
        <option value="physics" selected>Physics</option>
        <option value="chemistry">Chemistry</option>
        <option value="biology">Biology</option>
        <option value="earth-science">Earth Science</option>
      </select>
    </div>

    <div class="field">
      <label for="exp-difficulty">Difficulty</label>
      <select id="exp-difficulty" style="width:100%;">
        <option value="easy" selected>Easy</option>
        <option value="medium">Medium</option>
        <option value="hard">Hard</option>
      </select>
    </div>

    <div class="field">
      <label for="exp-show-summary">Show summary</label>
      <select id="exp-show-summary" style="width:100%;">
        <option value="yes" selected>Yes</option>
        <option value="no">No</option>
      </select>
    </div>
  </div>

  <div class="actions" style="margin-top:12px;">
    <button type="button" onclick="expGenerate(this)">Generate Idea</button>
    <button type="button" class="secondary" onclick="expReset(this)">Reset</button>
    <button type="button" onclick="expCopy(this)">Copy Idea</button>
  </div>
</form>

<div class="results" aria-live="polite" style="margin-top:12px;">
  <h3 class="small">Experiment Idea</h3>
  <textarea id="exp-output" rows="10" style="width:100%;padding:10px;border-radius:8px;border:1px solid rgba(255,255,255,0.08);background:transparent;color:inherit;"></textarea>

  <div style="margin-top:8px;display:flex;gap:12px;align-items:center;">
    <div id="exp-hint" class="small" style="opacity:0.9;"></div>
  </div>
</div>

<script>
/* experiment-ideas.html
   - Generates simple science experiment ideas
   - Scoped with exp- prefix
*/

function expReset(btn){
  const card=btn.closest('.card');
  card.querySelector('form').reset();
  card.querySelector('#exp-output').value="";
  card.querySelector('#exp-hint').textContent="";
}

function expCopy(btn){
  const card=btn.closest('.card');
  const out=card.querySelector('#exp-output').value;
  if(!out.trim())return;
  navigator.clipboard?.writeText(out).then(()=>{
    const hint=card.querySelector('#exp-hint');
    hint.textContent="Copied to clipboard.";
    setTimeout(()=>{if(hint.textContent==="Copied to clipboard.")hint.textContent="";},1600);
  }).catch(()=>alert("Copy failed."));
}

function expGenerate(btn){
  const card=btn.closest('.card');
  const subject=card.querySelector('#exp-subject').value;
  const diff=card.querySelector('#exp-difficulty').value;
  const showSummary=card.querySelector('#exp-show-summary').value==="yes";
  let idea="",summary="";
  if(subject==="physics"){
    idea="Build a simple pendulum and measure how length affects period.";
    summary="Shows relationship between pendulum length and oscillation time.";
  } else if(subject==="chemistry"){
    idea="Mix vinegar and baking soda to observe gas production.";
    summary="Demonstrates acid-base reaction producing COâ‚‚.";
  } else if(subject==="biology"){
    idea="Grow seeds in light vs. dark to compare germination.";
    summary="Tests effect of light on plant growth.";
  } else if(subject==="earth-science"){
    idea="Create a mini volcano with baking soda and vinegar.";
    summary="Models volcanic eruption with safe materials.";
  }
  let output=idea;
  if(showSummary)output+=`\n\nSummary: ${summary}`;
  card.querySelector('#exp-output').value=output;
  card.querySelector('#exp-hint').textContent="Idea generated.";
}
</script>
