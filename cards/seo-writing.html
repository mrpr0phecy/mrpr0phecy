<h2 id="seo-writing-title">âœï¸ SEO Writing Assistant</h2>

<form aria-describedby="seo-writing-desc">
Â  <p id="seo-writing-desc" class="small">Optimize text for search engines. Paste your draft, choose focus keywords, and get suggestions for keyword density, headings, meta description, and readability improvements.</p>

Â  Â  <div class="field" style="margin-bottom:12px;">
Â  Â  <label for="seo-text" style="display:block;margin-bottom:6px;color:var(--accent);font-weight:500;">Text to Optimize</label>
Â  Â  <textarea id="seo-text" rows="12"
Â  Â  Â  Â  Â  Â  style="width:100%;padding:10px;border-radius:8px;border:1px solid var(--border);background:var(--glass);color:var(--text);"
Â  Â  Â  Â  Â  Â  placeholder="Paste your article or blog draft here..."></textarea>
Â  </div>

Â  <div style="display:grid;grid-template-columns:3fr 2fr;gap:12px;margin-bottom:16px;">
Â  Â  <div class="field">
Â  Â  Â  <label for="seo-keywords" style="display:block;margin-bottom:6px;color:var(--accent);font-weight:500;">Focus Keywords (comma-separated)</label>
Â  Â  Â  <input id="seo-keywords" type="text" placeholder="e.g. productivity, time management strategies"
Â  Â  Â  Â  Â  Â  Â  Â style="width:100%;padding:10px;border-radius:8px;border:1px solid var(--border);background:var(--glass);color:var(--text);" />
Â  Â  </div>

Â  Â  <div class="field">
Â  Â  Â  <label for="seo-max-density" style="display:block;margin-bottom:6px;color:var(--accent);font-weight:500;">Max Keyword Density (%)</label>
Â  Â  Â  <input id="seo-max-density" type="number" min="1" max="10" value="3.0" step="0.1"
Â  Â  Â  Â  Â  Â  Â  Â style="width:100%;padding:10px;border-radius:8px;border:1px solid var(--border);background:var(--glass);color:var(--text);text-align:center;" />
Â  Â  </div>
Â  </div>

Â  Â  <div class="actions" style="margin-top:10px;display:flex;gap:10px;">
Â  Â  <button type="button" onclick="seoCheck(this)"
Â  Â  Â  Â  Â  Â  style="flex:2;padding:12px;background:linear-gradient(135deg, rgba(45,212,255,0.2), rgba(45,212,255,0.1));border:1px solid rgba(45,212,255,0.4);border-radius:8px;color:var(--accent);cursor:pointer;font-weight:600;">
Â  Â  Â  Check SEO
Â  Â  </button>
Â  Â  <button type="button" onclick="seoReset(this)"
Â  Â  Â  Â  Â  Â  style="flex:1;padding:12px;background:rgba(255,255,255,0.05);border:1px solid rgba(255,255,255,0.1);border-radius:8px;color:inherit;cursor:pointer;">
Â  Â  Â  Reset
Â  Â  </button>
Â  Â  <button type="button" onclick="seoCopy(this)"
Â  Â  Â  Â  Â  Â  style="flex:1;padding:12px;background:rgba(255,255,255,0.05);border:1px solid rgba(255,255,255,0.1);border-radius:8px;color:inherit;cursor:pointer;">
Â  Â  Â  Copy Text
Â  Â  </button>
Â  </div>
</form>

<div class="results" aria-live="polite" style="margin-top:16px;padding:16px;background:var(--glass);border-radius:8px;border:1px solid var(--border);">
Â  <h3 class="small" style="color:var(--accent);margin-bottom:8px;">ğŸ¯ Analysis Summary</h3>
Â  <div class="value small" id="seo-summary" style="padding:4px 0;">No check performed yet.</div>

Â  <h3 class="small" style="margin-top:12px;color:var(--accent);">ğŸ› ï¸ Suggestions & Details</h3>
Â  <ul id="seo-suggestions" class="small" style="list-style:disc;padding-left:20px;margin-top:8px;max-height:280px;overflow:auto;">
Â  Â  <li style="margin-bottom:4px;opacity:0.7;">Fill in the text and keywords above to get started.</li>
Â  </ul>

Â  <h3 class="small" style="margin-top:16px;">ğŸ“š SEO Quick Reference</h3>
Â  <div class="small" style="opacity:0.8;line-height:1.5;">
Â  Â  â€¢ **Title & Intro**: Keywords must appear in the first 100 words and page title.<br/>
Â  Â  â€¢ **Density**: Target is **1.5% to 3.0%**. Over-optimization is penalized.<br/>
Â  Â  â€¢ **Headings**: Use descriptive H2/H3 tags to break up text and include keywords.<br/>
Â  Â  â€¢ **Meta Description**: Aim for **150-160 characters** with a strong call-to-action.<br/>
Â  Â  â€¢ **Readability**: Target **Flesch-Kincaid Grade Level 6â€“8**. Use short sentences and simple words.
Â  </div>
</div>

<script>
/* seo-writing-assistant.html
Â  Â - Client-side SEO checker
Â  Â - Scoped with seo- prefix
Â  Â - Added more robust analysis and readability checks
*/

// Helper function to simplify word checking (basic stemming/plural handling)
function seoNormalizeWord(word) {
Â  return word.toLowerCase().replace(/[^a-z0-9]/g, '');
}

function seoReset(btn) {
Â  const card = btn.closest('.card') || document;
Â  card.querySelector('#seo-text').value = "";
Â  card.querySelector('#seo-keywords').value = "";
Â  card.querySelector('#seo-suggestions').innerHTML = '<li style="margin-bottom:4px;opacity:0.7;">Fill in the text and keywords above to get started.</li>';
Â  card.querySelector('#seo-summary').textContent = "Cleared.";
}

function seoCopy(btn) {
Â  const card = btn.closest('.card') || document;
Â  const text = card.querySelector('#seo-text').value || "";
Â  if (!text.trim()) return;
Â  navigator.clipboard?.writeText(text).then(() => {
Â  Â  const prev = card.querySelector('#seo-summary').textContent;
Â  Â  card.querySelector('#seo-summary').textContent = "Copied to clipboard! ğŸ“‹";
Â  Â  setTimeout(() => { card.querySelector('#seo-summary').textContent = prev; }, 1500);
Â  }).catch(() => alert("Copy failed."));
}

function seoCheck(btn) {
Â  const card = btn.closest('.card') || document;
Â  const text = (card.querySelector('#seo-text').value || "").trim();
Â  let keywords = (card.querySelector('#seo-keywords').value || "").split(',').map(s => s.trim().toLowerCase()).filter(Boolean);
Â  const maxDensity = parseFloat(card.querySelector('#seo-max-density').value) || 3.0;

Â  if (!text) { card.querySelector('#seo-summary').textContent = "Paste text to check."; return; }

Â  const rawWords = text.match(/\b\w+\b/g) || [];
Â  const totalWords = rawWords.length;
Â  const normalizedWords = rawWords.map(seoNormalizeWord);
Â  const suggestions = [];

Â  if (totalWords < 300) { suggestions.push({ reason: `Word count (${totalWords}) is low. Aim for 300+ words for better SEO performance.` }); }

Â  // --- 1. Keyword Density Check ---
Â  keywords.forEach(keyword => {
Â  Â  const normalizedKeyword = seoNormalizeWord(keyword);
Â  Â  let count = 0;
Â  Â  
Â  Â  // Check for exact matches and simple variations (e.g., plurals by substring check)
Â  Â  for (const word of normalizedWords) {
Â  Â  Â  if (word.includes(normalizedKeyword)) { // Simple check for plural/stem variation
Â  Â  Â  Â  count++;
Â  Â  Â  }
Â  Â  }

Â  Â  const density = totalWords > 0 ? (count / totalWords * 100) : 0;
Â  Â  const densityDisplay = density.toFixed(2);
Â  Â  const idealMin = 1.5;

Â  Â  if (count === 0) {
Â  Â  Â  suggestions.push({ reason: `ğŸ”´ Keyword "${keyword}" not found. **Crucial:** Add it to the title and introductory paragraph.` });
Â  Â  } else if (density > maxDensity) {
Â  Â  Â  suggestions.push({ reason: `ğŸŸ  Keyword "${keyword}" density is ${densityDisplay}% (Max is ${maxDensity}%). **Reduce usage** to avoid keyword stuffing.` });
Â  Â  } else if (density < idealMin) {
Â  Â  Â  suggestions.push({ reason: `ğŸŸ¡ Keyword "${keyword}" density is ${densityDisplay}% (Ideal min ${idealMin}%). Consider **adding more occurrences** naturally.` });
Â  Â  } else {
Â  Â  Â  suggestions.push({ reason: `ğŸŸ¢ Keyword "${keyword}" density is ${densityDisplay}%. Excellent!` });
Â  Â  }

Â  Â  // Check keyword in first 100 words
Â  Â  const introText = normalizedWords.slice(0, 100).join(' ');
Â  Â  if (!introText.includes(normalizedKeyword) && count > 0) {
Â  Â  Â  suggestions.push({ reason: `ğŸŸ¡ Keyword "${keyword}" is missing from the **first 100 words**. Move it higher for better relevance.` });
Â  Â  }
Â  });

Â  // --- 2. Structural Checks (Headings, Meta) ---
Â  if (!/meta\s+name=["']description["']/i.test(text) && !/meta\s+content=["'][^"']{150,160}["']/i.test(text)) {
Â  Â  suggestions.push({ reason: "ğŸ”´ Meta description is missing or too long/short. Aim for 150-160 characters." });
Â  }
Â  if (!/<h[2-3]/i.test(text)) {
Â  Â  suggestions.push({ reason: "ğŸŸ¡ No subheadings (H2/H3) detected. Use them to break up text and improve flow." });
Â  } else {
Â  Â  // Check if H2/H3 contain keywords (simple check)
Â  Â  const headings = (text.match(/<h[2-3].*?>(.*?)<\/h[2-3]>/g) || []).map(h => seoNormalizeWord(h));
Â  Â  const keywordFoundInHeading = keywords.some(k => headings.some(h => h.includes(seoNormalizeWord(k))));
Â  Â  if (!keywordFoundInHeading) {
Â  Â  Â  suggestions.push({ reason: "ğŸŸ¡ Subheadings are present, but **none contain focus keywords**. Revise H2/H3 tags." });
Â  Â  }
Â  }

Â  // --- 3. Readability Check (Flesch-Kincaid Grade Level) ---
Â  const sentences = text.match(/[^.!?]+/g) || [];
Â  const totalSentences = sentences.length;
Â  const totalSyllables = sentences.reduce((sum, s) => sum + (s.match(/[aeiouy]{1,2}/gi) || []).length, 0); // Crude syllable count

Â  if (totalWords > 0 && totalSentences > 0) {
Â  Â  // Formula: 0.39 * (words/sentences) + 11.8 * (syllables/words) - 15.59
Â  Â  const avgWordsPerSentence = totalWords / totalSentences;
Â  Â  const avgSyllablesPerWord = totalSyllables / totalWords;
Â  Â  const fkgl = (0.39 * avgWordsPerSentence + 11.8 * avgSyllablesPerWord - 15.59).toFixed(1);

Â  Â  if (fkgl > 9) {
Â  Â  Â  suggestions.push({ reason: `ğŸŸ  Readability Grade Level: ${fkgl}. **High.** Use shorter sentences and simpler vocabulary.` });
Â  Â  } else if (fkgl < 6) {
Â  Â  Â  suggestions.push({ reason: `ğŸŸ¡ Readability Grade Level: ${fkgl}. May be too simple. Ensure content depth is sufficient.` });
Â  Â  } else {
Â  Â  Â  suggestions.push({ reason: `ğŸŸ¢ Readability Grade Level: ${fkgl}. **Excellent for web content.**` });
Â  Â  }
Â  }
Â  
Â  seoRender(card, suggestions, totalWords);
}

function seoRender(card, suggestions, totalWords) {
Â  const list = card.querySelector('#seo-suggestions');
Â  const summary = card.querySelector('#seo-summary');
Â  list.innerHTML = "";
Â  
Â  if (totalWords === 0) {
Â  Â  summary.textContent = "Please enter text to begin analysis.";
Â  Â  list.innerHTML = '<li style="margin-bottom:4px;opacity:0.7;">Fill in the text and keywords above to get started.</li>';
Â  Â  return;
Â  }

Â  let score = 100;
Â  let redCount = 0;
Â  let orangeCount = 0;
Â  let greenCount = 0;

Â  suggestions.forEach(s => {
Â  Â  const li = document.createElement('li');
Â  Â  li.style.marginBottom = "6px";
Â  Â  li.style.fontWeight = s.reason.includes('ğŸ”´') ? 'bold' : 'normal';
Â  Â  li.innerHTML = s.reason.replace('ğŸ”´', 'ğŸ”¥').replace('ğŸŸ ', 'âš ï¸').replace('ğŸŸ¡', 'ğŸ’¡').replace('ğŸŸ¢', 'âœ…');
Â  Â  
Â  Â  if (s.reason.includes('ğŸ”´')) { score -= 30; redCount++; }
Â  Â  else if (s.reason.includes('ğŸŸ ')) { score -= 15; orangeCount++; }
Â  Â  else if (s.reason.includes('ğŸŸ¡')) { score -= 5; }
Â  Â  else if (s.reason.includes('ğŸŸ¢')) { greenCount++; }

Â  Â  list.appendChild(li);
Â  });

Â  score = Math.max(0, Math.min(100, score + (greenCount * 2)));

Â  summary.innerHTML = `**${totalWords} words** analyzed. **Score: ${score}/100**. ${redCount} critical, ${orangeCount} warnings, ${greenCount} optimized.`;
Â  
Â  if (score > 85) {
Â  Â  summary.innerHTML += ' Great job!';
Â  } else if (score < 50) {
Â  Â  summary.innerHTML += ' Needs significant work.';
Â  }
}

// Initial setup (Optional: You can add an event listener here to trigger seoCheck on input change)
if (document.readyState === 'loading') {
Â  Â  document.addEventListener('DOMContentLoaded', function() {
Â  Â  Â  Â  // Optional initialization code
Â  Â  });
}
</script>

<style>
/* Card-specific styles only */
#seo-writing-title {
Â  Â  color: var(--accent);
Â  Â  margin-top: 0;
}

#seo-suggestions li {
Â  Â  color: var(--text);
Â  Â  border-bottom: 1px solid rgba(255,255,255,0.03);
Â  Â  padding-bottom: 4px;
}

.result .value {
Â  Â  font-weight: 600;
Â  Â  color: #39ff14; /* Default success color */
}
</style>
