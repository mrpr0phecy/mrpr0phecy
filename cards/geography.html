<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Geography Helper - Study List Builder</title>
    <style>
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background-color: #f5f7fa;
            color: #333;
            line-height: 1.6;
            padding: 20px;
            max-width: 1200px;
            margin: 0 auto;
        }
        
        .container {
            display: flex;
            flex-direction: column;
            gap: 30px;
        }
        
        header {
            text-align: center;
            padding: 20px;
            background: linear-gradient(135deg, #2c3e50, #4a6491);
            color: white;
            border-radius: 10px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
        }
        
        h1 {
            font-size: 2.5rem;
            margin-bottom: 10px;
        }
        
        .subtitle {
            font-size: 1.1rem;
            opacity: 0.9;
            max-width: 700px;
            margin: 0 auto;
        }
        
        .card {
            background-color: white;
            border-radius: 10px;
            padding: 25px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
        }
        
        .card h2 {
            margin-top: 0;
            color: #2c3e50;
            border-bottom: 2px solid #eaeaea;
            padding-bottom: 15px;
            margin-bottom: 20px;
        }
        
        .small {
            font-size: 0.95rem;
            color: #666;
        }
        
        .row {
            display: flex;
            flex-wrap: wrap;
            gap: 20px;
            margin-bottom: 20px;
        }
        
        .field {
            flex: 1;
            min-width: 200px;
        }
        
        label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            color: #2c3e50;
        }
        
        input[type="text"] {
            width: 100%;
            padding: 12px 15px;
            border: 2px solid #ddd;
            border-radius: 6px;
            font-size: 1rem;
            transition: border-color 0.3s;
        }
        
        input[type="text"]:focus {
            outline: none;
            border-color: #4a6491;
        }
        
        .actions {
            display: flex;
            gap: 15px;
            flex-wrap: wrap;
        }
        
        button {
            padding: 12px 24px;
            border: none;
            border-radius: 6px;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
        }
        
        button[type="button"] {
            background-color: #3498db;
            color: white;
        }
        
        button[type="button"]:hover {
            background-color: #2980b9;
            transform: translateY(-2px);
        }
        
        button.secondary {
            background-color: #7f8c8d;
        }
        
        button.secondary:hover {
            background-color: #6c7b7d;
        }
        
        .danger {
            background-color: #e74c3c;
        }
        
        .danger:hover {
            background-color: #c0392b;
        }
        
        .results {
            margin-top: 20px;
        }
        
        .results h3 {
            color: #2c3e50;
            margin-bottom: 15px;
            font-size: 1.3rem;
        }
        
        #geography-list {
            list-style-type: none;
        }
        
        #geography-list li {
            background-color: #f8f9fa;
            margin-bottom: 15px;
            padding: 18px;
            border-radius: 8px;
            border-left: 5px solid #3498db;
            display: flex;
            justify-content: space-between;
            align-items: center;
            transition: transform 0.2s;
        }
        
        #geography-list li:hover {
            transform: translateX(5px);
            box-shadow: 0 3px 8px rgba(0, 0, 0, 0.1);
        }
        
        .entry-content {
            flex: 1;
        }
        
        .entry-content strong {
            color: #2c3e50;
            font-size: 1.1rem;
        }
        
        .entry-actions {
            display: flex;
            gap: 10px;
        }
        
        .entry-actions button {
            padding: 6px 12px;
            font-size: 0.9rem;
        }
        
        .empty-state {
            text-align: center;
            padding: 40px 20px;
            color: #7f8c8d;
            font-style: italic;
        }
        
        .stats {
            display: flex;
            gap: 20px;
            margin-top: 15px;
            flex-wrap: wrap;
        }
        
        .stat-box {
            background-color: #ecf0f1;
            padding: 15px;
            border-radius: 8px;
            min-width: 150px;
            text-align: center;
        }
        
        .stat-value {
            font-size: 2rem;
            font-weight: 700;
            color: #2c3e50;
        }
        
        .stat-label {
            font-size: 0.9rem;
            color: #7f8c8d;
        }
        
        .study-actions {
            display: flex;
            gap: 15px;
            margin-top: 20px;
            flex-wrap: wrap;
        }
        
        .study-actions button {
            background-color: #2ecc71;
        }
        
        .study-actions button:hover {
            background-color: #27ae60;
        }
        
        footer {
            text-align: center;
            padding: 20px;
            color: #7f8c8d;
            font-size: 0.9rem;
            border-top: 1px solid #eee;
            margin-top: 30px;
        }
        
        @media (max-width: 768px) {
            .row {
                flex-direction: column;
            }
            
            .field {
                min-width: 100%;
            }
            
            .actions, .study-actions, .entry-actions {
                flex-direction: column;
            }
            
            button {
                width: 100%;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>Geography Helper</h1>
            <p class="subtitle">Build your custom geography study list by adding countries, capitals, and notes. Track your progress and test your knowledge!</p>
        </header>
        
        <main class="card">
            <h2>Add Geography Entry</h2>
            <p id="geography-desc" class="small">Add countries, capitals, and notes to build your geography study list.</p>
            
            <form id="geography-form" aria-describedby="geography-desc">
                <div class="row">
                    <div class="field">
                        <label for="geography-country">Country *</label>
                        <input id="geography-country" type="text" placeholder="e.g. France" required />
                    </div>
                    <div class="field">
                        <label for="geography-capital">Capital</label>
                        <input id="geography-capital" type="text" placeholder="e.g. Paris" />
                    </div>
                    <div class="field" style="flex:2;">
                        <label for="geography-notes">Notes</label>
                        <input id="geography-notes" type="text" placeholder="e.g. Known for the Eiffel Tower" />
                    </div>
                </div>

                <div class="actions">
                    <button type="button" id="add-btn">Add Entry</button>
                    <button type="button" class="secondary" id="reset-btn">Reset Form</button>
                    <button type="button" class="danger" id="clear-all-btn">Clear All Entries</button>
                </div>
            </form>
            
            <div class="stats">
                <div class="stat-box">
                    <div class="stat-value" id="country-count">0</div>
                    <div class="stat-label">Countries</div>
                </div>
                <div class="stat-box">
                    <div class="stat-value" id="capital-count">0</div>
                    <div class="stat-label">Capitals Added</div>
                </div>
                <div class="stat-box">
                    <div class="stat-value" id="note-count">0</div>
                    <div class="stat-label">Entries with Notes</div>
                </div>
            </div>
            
            <div class="study-actions">
                <button type="button" id="quiz-btn">Start Quiz</button>
                <button type="button" id="export-btn">Export List</button>
                <button type="button" id="sort-btn">Sort Alphabetically</button>
            </div>
            
            <div class="results" aria-live="polite">
                <h3>Geography List <span class="small">(Click on an entry to edit)</span></h3>
                <ul id="geography-list"></ul>
                <div id="empty-state" class="empty-state">No geography entries yet. Add your first country above!</div>
            </div>
        </main>
        
        <footer>
            <p>Geography Helper &copy; 2023 | Study Tool for Geography Enthusiasts</p>
        </footer>
    </div>

    <script>
        let geographyItems = [];
        let editIndex = -1;

        // DOM elements
        const countryInput = document.getElementById('geography-country');
        const capitalInput = document.getElementById('geography-capital');
        const notesInput = document.getElementById('geography-notes');
        const addBtn = document.getElementById('add-btn');
        const resetBtn = document.getElementById('reset-btn');
        const clearAllBtn = document.getElementById('clear-all-btn');
        const quizBtn = document.getElementById('quiz-btn');
        const exportBtn = document.getElementById('export-btn');
        const sortBtn = document.getElementById('sort-btn');
        const geographyList = document.getElementById('geography-list');
        const emptyState = document.getElementById('empty-state');
        const countryCount = document.getElementById('country-count');
        const capitalCount = document.getElementById('capital-count');
        const noteCount = document.getElementById('note-count');

        // Load saved items from localStorage
        function loadFromStorage() {
            const savedItems = localStorage.getItem('geographyItems');
            if (savedItems) {
                geographyItems = JSON.parse(savedItems);
                renderGeography();
                updateStats();
            }
        }

        // Save items to localStorage
        function saveToStorage() {
            localStorage.setItem('geographyItems', JSON.stringify(geographyItems));
        }

        // Add or update geography entry
        function geographyAdd() {
            const country = countryInput.value.trim();
            const capital = capitalInput.value.trim();
            const notes = notesInput.value.trim();

            if (!country) {
                alert("Please enter a country name");
                return;
            }

            if (editIndex >= 0) {
                // Update existing entry
                geographyItems[editIndex] = { country, capital, notes };
                editIndex = -1;
                addBtn.textContent = "Add Entry";
            } else {
                // Add new entry
                geographyItems.push({ country, capital, notes });
            }

            renderGeography();
            updateStats();
            saveToStorage();
            document.getElementById('geography-form').reset();
            countryInput.focus();
        }

        // Render the geography list
        function renderGeography() {
            geographyList.innerHTML = "";
            
            if (geographyItems.length === 0) {
                emptyState.style.display = "block";
                return;
            }
            
            emptyState.style.display = "none";
            
            geographyItems.forEach((g, index) => {
                const li = document.createElement('li');
                
                const content = document.createElement('div');
                content.className = 'entry-content';
                content.innerHTML = `
                    <strong>${g.country}</strong>
                    ${g.capital ? `<div>Capital: ${g.capital}</div>` : ""}
                    ${g.notes ? `<div class="small">${g.notes}</div>` : ""}
                `;
                
                const actions = document.createElement('div');
                actions.className = 'entry-actions';
                
                const editBtn = document.createElement('button');
                editBtn.textContent = "Edit";
                editBtn.className = "secondary";
                editBtn.onclick = () => editEntry(index);
                
                const deleteBtn = document.createElement('button');
                deleteBtn.textContent = "Delete";
                deleteBtn.className = "danger";
                deleteBtn.onclick = () => deleteEntry(index);
                
                actions.appendChild(editBtn);
                actions.appendChild(deleteBtn);
                
                li.appendChild(content);
                li.appendChild(actions);
                
                // Click on the entire entry to edit
                li.addEventListener('click', (e) => {
                    if (!e.target.closest('.entry-actions')) {
                        editEntry(index);
                    }
                });
                
                geographyList.appendChild(li);
            });
        }

        // Edit an entry
        function editEntry(index) {
            const item = geographyItems[index];
            countryInput.value = item.country;
            capitalInput.value = item.capital;
            notesInput.value = item.notes;
            
            editIndex = index;
            addBtn.textContent = "Update Entry";
            countryInput.focus();
        }

        // Delete an entry
        function deleteEntry(index) {
            if (confirm("Are you sure you want to delete this entry?")) {
                geographyItems.splice(index, 1);
                renderGeography();
                updateStats();
                saveToStorage();
                
                // If we were editing this entry, reset the form
                if (editIndex === index) {
                    editIndex = -1;
                    addBtn.textContent = "Add Entry";
                    document.getElementById('geography-form').reset();
                }
            }
        }

        // Update statistics
        function updateStats() {
            countryCount.textContent = geographyItems.length;
            
            const capitals = geographyItems.filter(item => item.capital.trim() !== "").length;
            capitalCount.textContent = capitals;
            
            const notes = geographyItems.filter(item => item.notes.trim() !== "").length;
            noteCount.textContent = notes;
        }

        // Reset the form
        function geographyReset() {
            document.getElementById('geography-form').reset();
            editIndex = -1;
            addBtn.textContent = "Add Entry";
            countryInput.focus();
        }

        // Clear all entries
        function clearAllEntries() {
            if (geographyItems.length === 0) {
                alert("The list is already empty.");
                return;
            }
            
            if (confirm("Are you sure you want to delete ALL entries? This cannot be undone.")) {
                geographyItems = [];
                renderGeography();
                updateStats();
                saveToStorage();
                geographyReset();
            }
        }

        // Sort entries alphabetically
        function sortEntries() {
            geographyItems.sort((a, b) => a.country.localeCompare(b.country));
            renderGeography();
            saveToStorage();
        }

        // Start a quiz
        function startQuiz() {
            if (geographyItems.length === 0) {
                alert("Please add some entries before starting a quiz.");
                return;
            }
            
            const withCapitals = geographyItems.filter(item => item.capital.trim() !== "");
            if (withCapitals.length === 0) {
                alert("Please add capitals to at least one entry to start a quiz.");
                return;
            }
            
            // Simple quiz: pick a random country and ask for its capital
            const randomItem = withCapitals[Math.floor(Math.random() * withCapitals.length)];
            const userAnswer = prompt(`What is the capital of ${randomItem.country}?`);
            
            if (userAnswer === null) return; // User cancelled
            
            if (userAnswer.trim().toLowerCase() === randomItem.capital.toLowerCase()) {
                alert(`Correct! The capital of ${randomItem.country} is ${randomItem.capital}.`);
            } else {
                alert(`Incorrect. The capital of ${randomItem.country} is ${randomItem.capital}.`);
            }
        }

        // Export list as text
        function exportList() {
            if (geographyItems.length === 0) {
                alert("No entries to export.");
                return;
            }
            
            let exportText = "Geography Study List\n====================\n\n";
            
            geographyItems.forEach((item, index) => {
                exportText += `${index + 1}. ${item.country}\n`;
                if (item.capital) exportText += `   Capital: ${item.capital}\n`;
                if (item.notes) exportText += `   Notes: ${item.notes}\n`;
                exportText += "\n";
            });
            
            // Create a blob and download link
            const blob = new Blob([exportText], { type: 'text/plain' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = 'geography-list.txt';
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
            URL.revokeObjectURL(url);
            
            alert("Geography list exported successfully!");
        }

        // Event listeners
        addBtn.addEventListener('click', geographyAdd);
        resetBtn.addEventListener('click', geographyReset);
        clearAllBtn.addEventListener('click', clearAllEntries);
        quizBtn.addEventListener('click', startQuiz);
        exportBtn.addEventListener('click', exportList);
        sortBtn.addEventListener('click', sortEntries);

        // Allow Enter key to submit form
        document.getElementById('geography-form').addEventListener('keypress', function(e) {
            if (e.key === 'Enter') {
                e.preventDefault();
                geographyAdd();
            }
        });

        // Initialize the app
        loadFromStorage();
    </script>
</body>
</html>
