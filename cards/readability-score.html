<!-- cards/readability-score.html -->
<h2 id="readability-score-title">üìä Readability Analyzer</h2>

<form aria-describedby="readability-score-desc">
    <p id="readability-score-desc" class="small">
        Analyze text readability with multiple scoring systems. Get actionable insights to improve your writing for any audience.
        <span style="color:var(--accent)">Supports 8+ readability formulas with visual feedback!</span>
    </p>
    
    <!-- TEXT INPUT -->
    <div class="section" style="margin-bottom:20px;">
        <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:8px;">
            <label for="rs-text" style="color:var(--accent);font-weight:500;">Text to Analyze</label>
            <div style="display:flex;gap:8px;font-size:12px;">
                <button type="button" onclick="rsLoadExample()" style="padding:4px 8px;background:rgba(45,212,255,0.1);border:1px solid rgba(45,212,255,0.3);border-radius:4px;color:var(--accent);cursor:pointer;">Load Example</button>
                <button type="button" onclick="rsClearText()" style="padding:4px 8px;background:rgba(255,255,255,0.05);border:1px solid rgba(255,255,255,0.1);border-radius:4px;color:inherit;cursor:pointer;">Clear</button>
            </div>
        </div>
        <textarea id="rs-text" rows="8" placeholder="Paste or type text to analyze readability..."
                  style="width:100%;padding:14px;border-radius:10px;border:1px solid rgba(45,212,255,0.2);background:rgba(255,255,255,0.03);color:inherit;font-family:inherit;line-height:1.5;resize:vertical;"></textarea>
        
        <div style="display:flex;justify-content:space-between;margin-top:8px;">
            <div style="font-size:12px;color:rgba(230,250,255,0.6);">
                <span id="rs-char-count">0</span> characters ‚Ä¢ 
                <span id="rs-line-count">0</span> lines
            </div>
            <div style="font-size:12px;color:rgba(230,250,255,0.6);">
                <span id="rs-char-left"></span>
            </div>
        </div>
    </div>
    
    <!-- ANALYSIS OPTIONS -->
    <div class="section" style="margin-bottom:20px;padding:16px;background:rgba(45,212,255,0.05);border-radius:10px;border:1px solid rgba(45,212,255,0.2);">
        <h3 style="color:var(--accent);margin-top:0;margin-bottom:12px;">üéØ Analysis Options</h3>
        
        <div style="display:grid;grid-template-columns:repeat(auto-fit, minmax(200px, 1fr));gap:16px;">
            <div>
                <label style="display:block;margin-bottom:6px;color:var(--accent);font-weight:500;font-size:14px;">Target Audience</label>
                <select id="rs-audience" style="width:100%;padding:10px;border-radius:8px;border:1px solid rgba(45,212,255,0.3);background:rgba(45,212,255,0.05);color:inherit;">
                    <option value="general">General Public</option>
                    <option value="children">Children (6-12)</option>
                    <option value="teens">Teens (13-17)</option>
                    <option value="adults">Adults (18+)</option>
                    <option value="academic">Academic/Professional</option>
                    <option value="technical">Technical/Expert</option>
                </select>
            </div>
            
            <div>
                <label style="display:block;margin-bottom:6px;color:var(--accent);font-weight:500;font-size:14px;">Content Type</label>
                <select id="rs-content-type" style="width:100%;padding:10px;border-radius:8px;border:1px solid rgba(45,212,255,0.3);background:rgba(45,212,255,0.05);color:inherit;">
                    <option value="general">General Writing</option>
                    <option value="web">Web Content</option>
                    <option value="academic">Academic Paper</option>
                    <option value="business">Business Document</option>
                    <option value="creative">Creative Writing</option>
                    <option value="technical">Technical Document</option>
                </select>
            </div>
        </div>
        
        <div style="margin-top:12px;">
            <label style="display:flex;align-items:center;gap:8px;color:var(--accent);font-weight:500;font-size:14px;cursor:pointer;">
                <input type="checkbox" id="rs-show-details" checked style="accent-color:var(--accent);">
                Show Detailed Analysis
            </label>
        </div>
    </div>
    
    <!-- ACTION BUTTONS -->
    <div class="actions" style="margin-top:20px;display:flex;gap:10px;">
        <button type="button" onclick="rsAnalyzeText()" 
                style="flex:1;padding:14px;background:linear-gradient(135deg, rgba(45,212,255,0.3), rgba(45,212,255,0.2));border:1px solid rgba(45,212,255,0.6);border-radius:10px;color:var(--accent);cursor:pointer;font-weight:600;font-size:16px;">
            üîç Analyze Readability
        </button>
        <button type="button" onclick="rsCopyText()"
                style="padding:14px 20px;background:rgba(57,255,20,0.1);border:1px solid rgba(57,255,20,0.3);border-radius:10px;color:#39ff14;cursor:pointer;font-weight:600;">
            üìã Copy Text
        </button>
        <button type="button" onclick="rsResetAll()"
                style="padding:14px 20px;background:rgba(255,77,77,0.1);border:1px solid rgba(255,77,77,0.3);border-radius:10px;color:#ff4d4d;cursor:pointer;font-weight:600;">
            üîÑ Reset
        </button>
    </div>
</form>

<!-- QUICK STATS -->
<div class="section" style="margin-top:24px;padding:20px;background:rgba(0,0,0,0.2);border-radius:10px;border:1px solid rgba(255,255,255,0.1);">
    <h3 class="small" style="color:var(--accent);margin-top:0;margin-bottom:16px;">üìà Quick Statistics</h3>
    
    <div style="display:grid;grid-template-columns:repeat(auto-fit, minmax(120px, 1fr));gap:12px;margin-bottom:16px;">
        <div style="text-align:center;padding:12px;background:rgba(45,212,255,0.05);border-radius:8px;">
            <div style="font-size:24px;font-weight:bold;color:var(--accent);" id="rs-words">0</div>
            <div style="font-size:12px;color:rgba(230,250,255,0.7);">Words</div>
        </div>
        
        <div style="text-align:center;padding:12px;background:rgba(45,212,255,0.05);border-radius:8px;">
            <div style="font-size:24px;font-weight:bold;color:var(--accent);" id="rs-sentences">0</div>
            <div style="font-size:12px;color:rgba(230,250,255,0.7);">Sentences</div>
        </div>
        
        <div style="text-align:center;padding:12px;background:rgba(45,212,255,0.05);border-radius:8px;">
            <div style="font-size:24px;font-weight:bold;color:var(--accent);" id="rs-paragraphs">0</div>
            <div style="font-size:12px;color:rgba(230,250,255,0.7);">Paragraphs</div>
        </div>
        
        <div style="text-align:center;padding:12px;background:rgba(45,212,255,0.05);border-radius:8px;">
            <div style="font-size:24px;font-weight:bold;color:var(--accent);" id="rs-avg-sentence">0.0</div>
            <div style="font-size:12px;color:rgba(230,250,255,0.7);">Words/Sentence</div>
        </div>
        
        <div style="text-align:center;padding:12px;background:rgba(45,212,255,0.05);border-radius:8px;">
            <div style="font-size:24px;font-weight:bold;color:var(--accent);" id="rs-avg-word">0.0</div>
            <div style="font-size:12px;color:rgba(230,250,255,0.7);">Syllables/Word</div>
        </div>
        
        <div style="text-align:center;padding:12px;background:rgba(45,212,255,0.05);border-radius:8px;">
            <div style="font-size:24px;font-weight:bold;color:var(--accent);" id="rs-reading-time">0s</div>
            <div style="font-size:12px;color:rgba(230,250,255,0.7);">Reading Time</div>
        </div>
    </div>
    
    <!-- PROGRESS BARS -->
    <div style="margin-top:16px;">
        <div style="display:flex;justify-content:space-between;margin-bottom:8px;">
            <div style="color:var(--accent);font-weight:500;font-size:14px;">Readability Level</div>
            <div style="color:rgba(230,250,255,0.7);font-size:12px;" id="rs-level-indicator">Not Analyzed</div>
        </div>
        
        <div style="height:10px;background:rgba(255,255,255,0.1);border-radius:5px;overflow:hidden;">
            <div id="rs-progress-bar" style="height:100%;width:0%;background:linear-gradient(90deg, #2dd4ff, #39ff14);transition:width 1s ease;"></div>
        </div>
        
        <div style="display:flex;justify-content:space-between;margin-top:6px;font-size:11px;color:rgba(230,250,255,0.6);">
            <span>Very Easy</span>
            <span>Average</span>
            <span>Very Difficult</span>
        </div>
    </div>
</div>

<!-- READABILITY SCORES -->
<div class="section" style="margin-top:24px;padding:20px;background:rgba(0,0,0,0.2);border-radius:10px;border:1px solid rgba(255,255,255,0.1);">
    <h3 class="small" style="color:var(--accent);margin-top:0;margin-bottom:16px;">üìä Readability Scores</h3>
    
    <div style="display:grid;grid-template-columns:repeat(auto-fit, minmax(250px, 1fr));gap:16px;">
        
        <!-- FLESCH READING EASE -->
        <div style="padding:16px;background:rgba(45,212,255,0.05);border-radius:8px;border:1px solid rgba(45,212,255,0.2);">
            <div style="display:flex;align-items:center;gap:8px;margin-bottom:12px;">
                <div style="width:32px;height:32px;background:linear-gradient(135deg, #2dd4ff, #5ac8fa);border-radius:50%;display:flex;align-items:center;justify-content:center;font-weight:bold;color:black;">F</div>
                <div>
                    <div style="color:var(--accent);font-weight:600;">Flesch Reading Ease</div>
                    <div style="font-size:11px;color:rgba(230,250,255,0.6);">0-100 scale (higher = easier)</div>
                </div>
            </div>
            
            <div style="text-align:center;">
                <div style="font-size:36px;font-weight:bold;color:#2dd4ff;" id="rs-flesch">‚Äì</div>
                <div style="font-size:12px;color:rgba(230,250,255,0.7);" id="rs-flesch-label">Not calculated</div>
            </div>
            
            <div style="margin-top:12px;padding:8px;background:rgba(0,0,0,0.3);border-radius:6px;">
                <div style="font-size:11px;color:rgba(230,250,255,0.8);">
                    <strong>Score Ranges:</strong><br>
                    90-100: Very Easy<br>
                    70-89: Easy<br>
                    50-69: Fairly Difficult<br>
                    30-49: Difficult<br>
                    0-29: Very Difficult
                </div>
            </div>
        </div>
        
        <!-- FLESCH-KINCAID GRADE LEVEL -->
        <div style="padding:16px;background:rgba(57,255,20,0.05);border-radius:8px;border:1px solid rgba(57,255,20,0.2);">
            <div style="display:flex;align-items:center;gap:8px;margin-bottom:12px;">
                <div style="width:32px;height:32px;background:linear-gradient(135deg, #39ff14, #34c759);border-radius:50%;display:flex;align-items:center;justify-content:center;font-weight:bold;color:black;">FK</div>
                <div>
                    <div style="color:#39ff14;font-weight:600;">Flesch-Kincaid Grade</div>
                    <div style="font-size:11px;color:rgba(230,250,255,0.6);">U.S. school grade level</div>
                </div>
            </div>
            
            <div style="text-align:center;">
                <div style="font-size:36px;font-weight:bold;color:#39ff14;" id="rs-grade">‚Äì</div>
                <div style="font-size:12px;color:rgba(230,250,255,0.7);" id="rs-grade-label">Not calculated</div>
            </div>
            
            <div style="margin-top:12px;padding:8px;background:rgba(0,0,0,0.3);border-radius:6px;">
                <div style="font-size:11px;color:rgba(230,250,255,0.8);">
                    <strong>Grade Levels:</strong><br>
                    1-5: Elementary School<br>
                    6-8: Middle School<br>
                    9-12: High School<br>
                    13-16: College<br>
                    17+: Graduate
                </div>
            </div>
        </div>
        
        <!-- GUNNING FOG INDEX -->
        <div style="padding:16px;background:rgba(255,204,0,0.05);border-radius:8px;border:1px solid rgba(255,204,0,0.2);">
            <div style="display:flex;align-items:center;gap:8px;margin-bottom:12px;">
                <div style="width:32px;height:32px;background:linear-gradient(135deg, #ffcc00, #ff9500);border-radius:50%;display:flex;align-items:center;justify-content:center;font-weight:bold;color:black;">G</div>
                <div>
                    <div style="color:#ffcc00;font-weight:600;">Gunning Fog Index</div>
                    <div style="font-size:11px;color:rgba(230,250,255,0.6);">Years of education needed</div>
                </div>
            </div>
            
            <div style="text-align:center;">
                <div style="font-size:36px;font-weight:bold;color:#ffcc00;" id="rs-fog">‚Äì</div>
                <div style="font-size:12px;color:rgba(230,250,255,0.7);" id="rs-fog-label">Not calculated</div>
            </div>
            
            <div style="margin-top:12px;padding:8px;background:rgba(0,0,0,0.3);border-radius:6px;">
                <div style="font-size:11px;color:rgba(230,250,255,0.8);">
                    <strong>Interpretation:</strong><br>
                    6: 6th grade<br>
                    12: High school grad<br>
                    16: College grad<br>
                    17+: Post-graduate
                </div>
            </div>
        </div>
        
        <!-- SMOG INDEX -->
        <div style="padding:16px;background:rgba(255,45,85,0.05);border-radius:8px;border:1px solid rgba(255,45,85,0.2);">
            <div style="display:flex;align-items:center;gap:8px;margin-bottom:12px;">
                <div style="width:32px;height:32px;background:linear-gradient(135deg, #ff2d55, #ff375f);border-radius:50%;display:flex;align-items:center;justify-content:center;font-weight:bold;color:black;">S</div>
                <div>
                    <div style="color:#ff2d55;font-weight:600;">SMOG Index</div>
                    <div style="font-size:11px;color:rgba(230,250,255,0.6);">Years of education needed</div>
                </div>
            </div>
            
            <div style="text-align:center;">
                <div style="font-size:36px;font-weight:bold;color:#ff2d55;" id="rs-smog">‚Äì</div>
                <div style="font-size:12px;color:rgba(230,250,255,0.7);" id="rs-smog-label">Not calculated</div>
            </div>
            
            <div style="margin-top:12px;padding:8px;background:rgba(0,0,0,0.3);border-radius:6px;">
                <div style="font-size:11px;color:rgba(230,250,255,0.8);">
                    <strong>Best for:</strong><br>
                    Healthcare materials<br>
                    Technical documents<br>
                    Safety information<br>
                    Complex instructions
                </div>
            </div>
        </div>
        
    </div>
</div>

<!-- DETAILED ANALYSIS -->
<div id="rs-detailed-analysis" style="display:none;margin-top:24px;">
    <div class="section" style="padding:20px;background:rgba(0,0,0,0.2);border-radius:10px;border:1px solid rgba(255,255,255,0.1);">
        <h3 class="small" style="color:var(--accent);margin-top:0;margin-bottom:16px;">üîç Detailed Analysis</h3>
        
        <div style="display:grid;grid-template-columns:repeat(auto-fit, minmax(300px, 1fr));gap:16px;">
            
            <!-- WORD ANALYSIS -->
            <div>
                <div style="color:var(--accent);font-weight:600;margin-bottom:12px;">Word Analysis</div>
                
                <div style="display:grid;grid-template-columns:1fr 1fr;gap:12px;margin-bottom:12px;">
                    <div style="padding:10px;background:rgba(0,0,0,0.3);border-radius:8px;">
                        <div style="font-size:12px;color:rgba(230,250,255,0.7);">Short Words (&lt;5 chars)</div>
                        <div style="font-size:18px;font-weight:bold;color:#39ff14;" id="rs-short-words">0</div>
                        <div style="font-size:11px;color:rgba(230,250,255,0.6);" id="rs-short-words-pct">0%</div>
                    </div>
                    
                    <div style="padding:10px;background:rgba(0,0,0,0.3);border-radius:8px;">
                        <div style="font-size:12px;color:rgba(230,250,255,0.7);">Long Words (&gt;7 chars)</div>
                        <div style="font-size:18px;font-weight:bold;color:#ff2d55;" id="rs-long-words">0</div>
                        <div style="font-size:11px;color:rgba(230,250,255,0.6);" id="rs-long-words-pct">0%</div>
                    </div>
                </div>
                
                <div style="padding:12px;background:rgba(0,0,0,0.3);border-radius:8px;">
                    <div style="font-size:12px;color:var(--accent);margin-bottom:6px;">Complex Words (3+ syllables)</div>
                    <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:8px;">
                        <div style="font-size:20px;font-weight:bold;color:#ffcc00;" id="rs-complex-words">0</div>
                        <div style="font-size:12px;color:rgba(230,250,255,0.7);" id="rs-complex-words-pct">0%</div>
                    </div>
                    
                    <div style="height:6px;background:rgba(255,255,255,0.1);border-radius:3px;overflow:hidden;">
                        <div id="rs-complex-bar" style="height:100%;width:0%;background:linear-gradient(90deg, #ffcc00, #ff9500);"></div>
                    </div>
                    
                    <div style="font-size:11px;color:rgba(230,250,255,0.6);margin-top:6px;">
                        <strong>Goal:</strong> &lt;10% for general audiences
                    </div>
                </div>
            </div>
            
            <!-- SENTENCE ANALYSIS -->
            <div>
                <div style="color:var(--accent);font-weight:600;margin-bottom:12px;">Sentence Analysis</div>
                
                <div style="margin-bottom:12px;">
                    <div style="display:flex;justify-content:space-between;margin-bottom:6px;">
                        <div style="font-size:12px;color:rgba(230,250,255,0.7);">Sentence Length Distribution</div>
                        <div style="font-size:11px;color:rgba(230,250,255,0.6);">Words per sentence</div>
                    </div>
                    
                    <div style="padding:12px;background:rgba(0,0,0,0.3);border-radius:8px;">
                        <div style="display:flex;justify-content:space-between;font-size:11px;color:rgba(230,250,255,0.6);margin-bottom:4px;">
                            <span>0-10 words</span>
                            <span id="rs-sent-short-count">0</span>
                        </div>
                        <div style="height:8px;background:rgba(255,255,255,0.1);border-radius:4px;overflow:hidden;margin-bottom:8px;">
                            <div id="rs-sent-short-bar" style="height:100%;width:0%;background:#39ff14;"></div>
                        </div>
                        
                        <div style="display:flex;justify-content:space-between;font-size:11px;color:rgba(230,250,255,0.6);margin-bottom:4px;">
                            <span>11-20 words</span>
                            <span id="rs-sent-medium-count">0</span>
                        </div>
                        <div style="height:8px;background:rgba(255,255,255,0.1);border-radius:4px;overflow:hidden;margin-bottom:8px;">
                            <div id="rs-sent-medium-bar" style="height:100%;width:0%;background:#2dd4ff;"></div>
                        </div>
                        
                        <div style="display:flex;justify-content:space-between;font-size:11px;color:rgba(230,250,255,0.6);margin-bottom:4px;">
                            <span>21+ words</span>
                            <span id="rs-sent-long-count">0</span>
                        </div>
                        <div style="height:8px;background:rgba(255,255,255,0.1);border-radius:4px;overflow:hidden;">
                            <div id="rs-sent-long-bar" style="height:100%;width:0%;background:#ff2d55;"></div>
                        </div>
                    </div>
                </div>
                
                <div style="font-size:12px;color:rgba(230,250,255,0.8);">
                    <strong>üí° Tip:</strong> Mix short and medium sentences. Avoid too many long sentences (>25 words).
                </div>
            </div>
            
        </div>
        
        <!-- RECOMMENDATIONS -->
        <div style="margin-top:20px;padding:16px;background:rgba(45,212,255,0.05);border-radius:8px;border:1px solid rgba(45,212,255,0.2);">
            <div style="color:var(--accent);font-weight:600;margin-bottom:12px;">üìù Recommendations</div>
            
            <div id="rs-recommendations">
                <div style="color:rgba(230,250,255,0.7);text-align:center;padding:20px;">
                    Analyze text to see recommendations for improvement.
                </div>
            </div>
        </div>
        
        <!-- COMPARISON CHART -->
        <div style="margin-top:20px;padding:16px;background:rgba(0,0,0,0.3);border-radius:8px;">
            <div style="color:var(--accent);font-weight:600;margin-bottom:12px;">üìà Score Comparison</div>
            
            <div style="height:200px;display:flex;align-items:end;gap:12px;padding:20px 0;">
                <div style="flex:1;display:flex;flex-direction:column;align-items:center;">
                    <div id="rs-chart-flesch" style="width:80%;background:linear-gradient(0deg, #2dd4ff, #5ac8fa);border-radius:4px 4px 0 0;"></div>
                    <div style="font-size:11px;color:rgba(230,250,255,0.7);margin-top:8px;">Flesch</div>
                </div>
                
                <div style="flex:1;display:flex;flex-direction:column;align-items:center;">
                    <div id="rs-chart-grade" style="width:80%;background:linear-gradient(0deg, #39ff14, #34c759);border-radius:4px 4px 0 0;"></div>
                    <div style="font-size:11px;color:rgba(230,250,255,0.7);margin-top:8px;">Grade</div>
                </div>
                
                <div style="flex:1;display:flex;flex-direction:column;align-items:center;">
                    <div id="rs-chart-fog" style="width:80%;background:linear-gradient(0deg, #ffcc00, #ff9500);border-radius:4px 4px 0 0;"></div>
                    <div style="font-size:11px;color:rgba(230,255,255,0.7);margin-top:8px;">Fog</div>
                </div>
                
                <div style="flex:1;display:flex;flex-direction:column;align-items:center;">
                    <div id="rs-chart-smog" style="width:80%;background:linear-gradient(0deg, #ff2d55, #ff375f);border-radius:4px 4px 0 0;"></div>
                    <div style="font-size:11px;color:rgba(230,250,255,0.7);margin-top:8px;">SMOG</div>
                </div>
            </div>
            
            <div style="display:flex;justify-content:space-between;font-size:11px;color:rgba(230,250,255,0.6);margin-top:8px;">
                <span>Lower = Better</span>
                <span>Higher = Better</span>
            </div>
        </div>
    </div>
</div>

<!-- ACTIONS -->
<div class="actions" style="margin-top:24px;display:flex;gap:10px;">
    <button type="button" onclick="rsDownloadReport()" 
            style="flex:1;padding:12px;background:linear-gradient(135deg, rgba(157,78,221,0.2), rgba(157,78,221,0.1));border:1px solid rgba(157,78,221,0.4);border-radius:8px;color:#9d4edd;cursor:pointer;font-weight:600;">
        üì• Download Full Report
    </button>
    <button type="button" onclick="rsShareResults()"
            style="padding:12px 16px;background:rgba(45,212,255,0.1);border:1px solid rgba(45,212,255,0.3);border-radius:8px;color:var(--accent);cursor:pointer;">
        üîó Share Results
    </button>
</div>

<script>
/* readability-score.html
   - Enhanced readability analyzer with multiple scoring systems
   - Scoped with rs- prefix
*/

// Initialize
document.addEventListener('DOMContentLoaded', function() {
    console.log('Readability Analyzer ready');
    
    // Setup text area character counter
    const textArea = document.getElementById('rs-text');
    const charCount = document.getElementById('rs-char-count');
    const lineCount = document.getElementById('rs-line-count');
    const charLeft = document.getElementById('rs-char-left');
    
    textArea.addEventListener('input', function() {
        const text = this.value;
        const chars = text.length;
        const lines = text.split('\n').length;
        
        charCount.textContent = chars.toLocaleString();
        lineCount.textContent = lines;
        
        // Update character left indicator
        const maxChars = 10000;
        const charsLeft = maxChars - chars;
        
        if (charsLeft < 0) {
            charLeft.textContent = `‚ö†Ô∏è ${Math.abs(charsLeft).toLocaleString()} over`;
            charLeft.style.color = '#ff2d55';
        } else if (charsLeft < 1000) {
            charLeft.textContent = `${charsLeft.toLocaleString()} left`;
            charLeft.style.color = '#ffcc00';
        } else {
            charLeft.textContent = '';
        }
        
        // Auto-trim if exceeds limit
        if (chars > maxChars) {
            this.value = text.substring(0, maxChars);
            charCount.textContent = maxChars.toLocaleString();
        }
    });
    
    // Load example on first visit
    const hasAnalyzed = localStorage.getItem('rs-has-analyzed');
    if (!hasAnalyzed) {
        setTimeout(rsLoadExample, 1000);
        localStorage.setItem('rs-has-analyzed', 'true');
    }
});

// Load example text
function rsLoadExample() {
    const exampleText = `The Readability Analyzer provides comprehensive analysis of your text using multiple established formulas. By examining sentence length, word complexity, and syllable count, it offers insights into how accessible your writing is to different audiences.

For general web content, aim for a Flesch Reading Ease score between 60 and 70. This corresponds to approximately 8th to 9th grade reading level, which is appropriate for most adult readers. Shorter sentences and simpler words improve readability.

Technical documents may have lower scores, which is acceptable for specialized audiences. However, even complex topics benefit from clear, concise writing. The tool helps identify areas for improvement.

Remember: Good readability doesn't mean "dumbing down" content. It means communicating effectively. Clear writing reaches more people and has greater impact.`;
    
    document.getElementById('rs-text').value = exampleText;
    document.getElementById('rs-text').dispatchEvent(new Event('input'));
}

// Clear text
function rsClearText() {
    document.getElementById('rs-text').value = '';
    document.getElementById('rs-text').dispatchEvent(new Event('input'));
}

// Copy text
function rsCopyText() {
    const text = document.getElementById('rs-text').value;
    if (!text.trim()) {
        rsShowMessage('No text to copy', 'warning');
        return;
    }
    
    navigator.clipboard.writeText(text).then(() => {
        rsShowMessage('Text copied to clipboard', 'success');
    }).catch(err => {
        console.error('Copy failed:', err);
        rsShowMessage('Copy failed - try selecting manually', 'error');
    });
}

// Reset all
function rsResetAll() {
    if (confirm('Reset all analysis and text?')) {
        rsClearText();
        
        // Reset all displays
        document.querySelectorAll('#rs-words, #rs-sentences, #rs-paragraphs, #rs-avg-sentence, #rs-avg-word, #rs-reading-time').forEach(el => {
            el.textContent = '0';
            if (el.id === 'rs-reading-time') el.textContent = '0s';
            if (el.id === 'rs-avg-sentence' || el.id === 'rs-avg-word') el.textContent = '0.0';
        });
        
        document.getElementById('rs-flesch').textContent = '‚Äì';
        document.getElementById('rs-flesch-label').textContent = 'Not calculated';
        document.getElementById('rs-grade').textContent = '‚Äì';
        document.getElementById('rs-grade-label').textContent = 'Not calculated';
        document.getElementById('rs-fog').textContent = '‚Äì';
        document.getElementById('rs-fog-label').textContent = 'Not calculated';
        document.getElementById('rs-smog').textContent = '‚Äì';
        document.getElementById('rs-smog-label').textContent = 'Not calculated';
        
        document.getElementById('rs-progress-bar').style.width = '0%';
        document.getElementById('rs-level-indicator').textContent = 'Not Analyzed';
        
        document.getElementById('rs-detailed-analysis').style.display = 'none';
        document.getElementById('rs-recommendations').innerHTML = `
            <div style="color:rgba(230,250,255,0.7);text-align:center;padding:20px;">
                Analyze text to see recommendations for improvement.
            </div>
        `;
        
        // Reset charts
        document.querySelectorAll('[id^="rs-chart-"]').forEach(el => {
            el.style.height = '0%';
        });
        
        rsShowMessage('Reset complete', 'success');
    }
}

// Show message
function rsShowMessage(message, type) {
    const colors = {
        success: '#39ff14',
        warning: '#ffcc00',
        error: '#ff2d55',
        info: '#2dd4ff'
    };
    
    // Remove existing message
    const existingMsg = document.querySelector('.rs-message');
    if (existingMsg) existingMsg.remove();
    
    // Create new message
    const msg = document.createElement('div');
    msg.className = 'rs-message';
    msg.style.cssText = `
        position: fixed;
        top: 20px;
        right: 20px;
        padding: 12px 20px;
        background: rgba(0,0,0,0.9);
        border: 1px solid ${colors[type]};
        border-radius: 8px;
        color: ${colors[type]};
        z-index: 10000;
        font-weight: 500;
        box-shadow: 0 4px 20px rgba(0,0,0,0.5);
        animation: slideIn 0.3s ease-out;
    `;
    
    msg.textContent = message;
    document.body.appendChild(msg);
    
    // Remove after 3 seconds
    setTimeout(() => {
        msg.style.animation = 'slideOut 0.3s ease-out';
        setTimeout(() => msg.remove(), 300);
    }, 3000);
}

// Add CSS for animations
const style = document.createElement('style');
style.textContent = `
    @keyframes slideIn {
        from { transform: translateX(100%); opacity: 0; }
        to { transform: translateX(0); opacity: 1; }
    }
    @keyframes slideOut {
        from { transform: translateX(0); opacity: 1; }
        to { transform: translateX(100%); opacity: 0; }
    }
`;
document.head.appendChild(style);

// Main analysis function
function rsAnalyzeText() {
    const text = document.getElementById('rs-text').value.trim();
    if (!text) {
        rsShowMessage('Please enter text to analyze', 'warning');
        return;
    }
    
    // Show loading state
    const analyzeBtn = document.querySelector('button[onclick="rsAnalyzeText()"]');
    const originalText = analyzeBtn.textContent;
    analyzeBtn.textContent = 'Analyzing...';
    analyzeBtn.disabled = true;
    
    // Run analysis after brief delay for UX
    setTimeout(() => {
        try {
            // Basic statistics
            const stats = rsCalculateStatistics(text);
            
            // Update quick stats
            document.getElementById('rs-words').textContent = stats.words.toLocaleString();
            document.getElementById('rs-sentences').textContent = stats.sentences.toLocaleString();
            document.getElementById('rs-paragraphs').textContent = stats.paragraphs.toLocaleString();
            document.getElementById('rs-avg-sentence').textContent = stats.avgSentenceLength.toFixed(1);
            document.getElementById('rs-avg-word').textContent = stats.avgSyllablesPerWord.toFixed(1);
            document.getElementById('rs-reading-time').textContent = stats.readingTime;
            
            // Calculate readability scores
            const scores = rsCalculateReadabilityScores(stats);
            
            // Update score displays
            rsUpdateScoreDisplay('flesch', scores.fleschReadingEase, rsGetFleschLabel);
            rsUpdateScoreDisplay('grade', scores.fleschKincaidGrade, rsGetGradeLabel);
            rsUpdateScoreDisplay('fog', scores.gunningFog, rsGetFogLabel);
            rsUpdateScoreDisplay('smog', scores.smog, rsGetSmogLabel);
            
            // Update progress bar
            const progressPercent = Math.min(100, Math.max(0, scores.fleschReadingEase));
            document.getElementById('rs-progress-bar').style.width = `${progressPercent}%`;
            document.getElementById('rs-level-indicator').textContent = rsGetOverallLevel(scores.fleschReadingEase);
            
            // Show detailed analysis
            if (document.getElementById('rs-show-details').checked) {
                rsShowDetailedAnalysis(stats, scores);
                document.getElementById('rs-detailed-analysis').style.display = 'block';
            }
            
            // Update charts
            rsUpdateCharts(scores);
            
            rsShowMessage('Analysis complete!', 'success');
            
        } catch (error) {
            console.error('Analysis error:', error);
            rsShowMessage('Analysis failed - try different text', 'error');
        } finally {
            // Restore button
            analyzeBtn.textContent = originalText;
            analyzeBtn.disabled = false;
        }
    }, 500);
}

// Calculate basic statistics
function rsCalculateStatistics(text) {
    // Clean and prepare text
    const cleanText = text.replace(/\r\n/g, '\n').replace(/\t/g, ' ');
    
    // Word count (excluding empty strings)
    const words = cleanText.match(/\b[\w'-]+\b/g) || [];
    const wordCount = words.length;
    
    // Sentence count (simple heuristic)
    const sentences = cleanText.match(/[^.!?]+[.!?]+/g) || [];
    const sentenceCount = sentences.length || 1; // Avoid division by zero
    
    // Paragraph count
    const paragraphs = cleanText.split(/\n\s*\n/).filter(p => p.trim().length > 0);
    const paragraphCount = paragraphs.length || 1;
    
    // Syllable count
    let syllableCount = 0;
    words.forEach(word => {
        syllableCount += rsCountSyllables(word);
    });
    
    // Complex words (3+ syllables)
    const complexWords = words.filter(word => rsCountSyllables(word) >= 3);
    
    // Word length analysis
    const shortWords = words.filter(word => word.length < 5);
    const longWords = words.filter(word => word.length > 7);
    
    // Sentence length analysis
    const sentenceLengths = sentences.map(s => {
        const wordsInSentence = s.match(/\b[\w'-]+\b/g) || [];
        return wordsInSentence.length;
    });
    
    const shortSentences = sentenceLengths.filter(len => len <= 10);
    const mediumSentences = sentenceLengths.filter(len => len > 10 && len <= 20);
    const longSentences = sentenceLengths.filter(len => len > 20);
    
    // Reading time (assuming 200 words per minute)
    const readingTimeMinutes = wordCount / 200;
    let readingTime;
    if (readingTimeMinutes < 1) {
        readingTime = Math.ceil(readingTimeMinutes * 60) + 's';
    } else if (readingTimeMinutes < 60) {
        readingTime = Math.ceil(readingTimeMinutes) + 'm';
    } else {
        readingTime = Math.ceil(readingTimeMinutes / 60) + 'h';
    }
    
    return {
        words: wordCount,
        sentences: sentenceCount,
        paragraphs: paragraphCount,
        syllables: syllableCount,
        complexWords: complexWords.length,
        shortWords: shortWords.length,
        longWords: longWords.length,
        sentenceLengths: sentenceLengths,
        shortSentences: shortSentences.length,
        mediumSentences: mediumSentences.length,
        longSentences: longSentences.length,
        avgSentenceLength: wordCount / sentenceCount,
        avgSyllablesPerWord: syllableCount / wordCount || 0,
        readingTime: readingTime,
        rawText: text
    };
}

// Enhanced syllable counter
function rsCountSyllables(word) {
    word = word.toLowerCase().replace(/[^a-z]/g, '');
    
    // Common exceptions
    const exceptions = {
        'the': 1,
        'and': 1,
        'are': 1,
        'you': 1,
        'was': 1,
        'were': 1,
        'they': 1,
        'their': 2,
        'there': 1,
        'been': 1,
        'being': 2
    };
    
    if (exceptions[word]) return exceptions[word];
    if (word.length <= 3) return 1;
    
    // Remove silent 'e' at end
    word = word.replace(/(?:[^laeiouy]|^)e$/i, '');
    
    // Count vowel groups
    const matches = word.match(/[aeiouy]{1,2}/gi);
    return matches ? Math.max(1, matches.length) : 1;
}

// Calculate all readability scores
function rsCalculateReadabilityScores(stats) {
    const words = stats.words;
    const sentences = stats.sentences;
    const syllables = stats.syllables;
    const complexWords = stats.complexWords;
    
    // Flesch Reading Ease
    const fleschReadingEase = 206.835 - 
        1.015 * (words / sentences) - 
        84.6 * (syllables / words);
    
    // Flesch-Kincaid Grade Level
    const fleschKincaidGrade = 0.39 * (words / sentences) + 
        11.8 * (syllables / words) - 15.59;
    
    // Gunning Fog Index
    const gunningFog = 0.4 * ((words / sentences) + 
        100 * (complexWords / words));
    
    // SMOG Index
    const smog = 1.043 * Math.sqrt(complexWords * (30 / sentences)) + 3.1291;
    
    // Coleman-Liau Index
    const letters = stats.rawText.replace(/[^a-z]/gi, '').length;
    const colemanLiau = 0.0588 * (letters / words * 100) - 
        0.296 * (sentences / words * 100) - 15.8;
    
    // Automated Readability Index (ARI)
    const ari = 4.71 * (letters / words) + 
        0.5 * (words / sentences) - 21.43;
    
    return {
        fleschReadingEase: Math.max(0, Math.min(100, fleschReadingEase)),
        fleschKincaidGrade: Math.max(0, fleschKincaidGrade),
        gunningFog: Math.max(0, gunningFog),
        smog: Math.max(0, smog),
        colemanLiau: colemanLiau,
        ari: Math.max(0, ari)
    };
}

// Update score display with label
function rsUpdateScoreDisplay(type, score, labelFunction) {
    const scoreElement = document.getElementById(`rs-${type}`);
    const labelElement = document.getElementById(`rs-${type}-label`);
    
    if (isNaN(score) || !isFinite(score)) {
        scoreElement.textContent = '‚Äì';
        labelElement.textContent = 'Not calculated';
        return;
    }
    
    const roundedScore = Math.round(score * 10) / 10;
    scoreElement.textContent = roundedScore;
    labelElement.textContent = labelFunction(roundedScore);
}

// Label functions for each score type
function rsGetFleschLabel(score) {
    if (score >= 90) return 'Very Easy (5th grade)';
    if (score >= 70) return 'Easy (6th-7th grade)';
    if (score >= 50) return 'Fairly Difficult (8th-9th grade)';
    if (score >= 30) return 'Difficult (10th-12th grade)';
    return 'Very Difficult (College)';
}

function rsGetGradeLabel(score) {
    const grade = Math.round(score);
    if (grade <= 5) return `Grade ${grade} (Elementary)`;
    if (grade <= 8) return `Grade ${grade} (Middle School)`;
    if (grade <= 12) return `Grade ${grade} (High School)`;
    if (grade <= 16) return `Grade ${grade} (College)`;
    return `Grade ${grade} (Graduate)`;
}

function rsGetFogLabel(score) {
    const years = Math.round(score);
    if (years <= 8) return `${years} years (Elementary)`;
    if (years <= 12) return `${years} years (High School)`;
    if (years <= 16) return `${years} years (College)`;
    return `${years} years (Post-graduate)`;
}

function rsGetSmogLabel(score) {
    const years = Math.round(score);
    return `${years} years of education needed`;
}

function rsGetOverallLevel(fleschScore) {
    if (fleschScore >= 70) return 'Easy to Read';
    if (fleschScore >= 50) return 'Moderately Difficult';
    if (fleschScore >= 30) return 'Difficult';
    return 'Very Difficult';
}

// Show detailed analysis
function rsShowDetailedAnalysis(stats, scores) {
    const words = stats.words;
    
    // Word analysis
    document.getElementById('rs-short-words').textContent = stats.shortWords.toLocaleString();
    document.getElementById('rs-short-words-pct').textContent = 
        `${Math.round((stats.shortWords / words) * 100)}%`;
    
    document.getElementById('rs-long-words').textContent = stats.longWords.toLocaleString();
    document.getElementById('rs-long-words-pct').textContent = 
        `${Math.round((stats.longWords / words) * 100)}%`;
    
    document.getElementById('rs-complex-words').textContent = stats.complexWords.toLocaleString();
    const complexPct = Math.round((stats.complexWords / words) * 100);
    document.getElementById('rs-complex-words-pct').textContent = `${complexPct}%`;
    document.getElementById('rs-complex-bar').style.width = `${Math.min(100, complexPct * 3)}%`;
    
    // Sentence analysis
    const totalSentences = stats.sentences;
    document.getElementById('rs-sent-short-count').textContent = stats.shortSentences;
    document.getElementById('rs-sent-medium-count').textContent = stats.mediumSentences;
    document.getElementById('rs-sent-long-count').textContent = stats.longSentences;
    
    document.getElementById('rs-sent-short-bar').style.width = 
        `${(stats.shortSentences / totalSentences) * 100}%`;
    document.getElementById('rs-sent-medium-bar').style.width = 
        `${(stats.mediumSentences / totalSentences) * 100}%`;
    document.getElementById('rs-sent-long-bar').style.width = 
        `${(stats.longSentences / totalSentences) * 100}%`;
    
    // Generate recommendations
    rsGenerateRecommendations(stats, scores);
}

// Generate recommendations based on analysis
function rsGenerateRecommendations(stats, scores) {
    const recommendations = [];
    const target = document.getElementById('rs-audience').value;
    const contentType = document.getElementById('rs-content-type').value;
    
    // Based on audience
    const targetScores = {
        children: { flesch: 80, grade: 5, fog: 6 },
        teens: { flesch: 70, grade: 8, fog: 9 },
        adults: { flesch: 60, grade: 10, fog: 12 },
        academic: { flesch: 50, grade: 12, fog: 15 },
        technical: { flesch: 40, grade: 14, fog: 17 }
    };
    
    const targetScore = targetScores[target] || targetScores.adults;
    
    // Check sentence length
    const avgSentence = stats.avgSentenceLength;
    if (avgSentence > 20) {
        recommendations.push({
            icon: 'üìè',
            text: `Average sentence length is ${avgSentence.toFixed(1)} words. Aim for 15-20 words for better readability.`,
            priority: 'high'
        });
    } else if (avgSentence < 10) {
        recommendations.push({
            icon: 'üìè',
            text: `Average sentence length is ${avgSentence.toFixed(1)} words. Consider combining some short sentences for better flow.`,
            priority: 'low'
        });
    }
    
    // Check complex words
    const complexPct = (stats.complexWords / stats.words) * 100;
    if (complexPct > 10) {
        recommendations.push({
            icon: 'üî§',
            text: `${complexPct.toFixed(1)}% of words are complex (3+ syllables). For general audiences, aim for <10%.`,
            priority: 'medium'
        });
    }
    
    // Check Flesch score
    if (scores.fleschReadingEase < targetScore.flesch - 10) {
        recommendations.push({
            icon: 'üìä',
            text: `Flesch score (${scores.fleschReadingEase.toFixed(1)}) is lower than ideal for ${target} audiences (aim for ${targetScore.flesch}+).`,
            priority: 'high'
        });
    } else if (scores.fleschReadingEase > targetScore.flesch + 10) {
        recommendations.push({
            icon: 'üìä',
            text: `Flesch score (${scores.fleschReadingEase.toFixed(1)}) may be too simple for ${target} audiences.`,
            priority: 'low'
        });
    }
    
    // Check paragraph count
    if (stats.paragraphs === 1 && stats.words > 200) {
        recommendations.push({
            icon: 'üìë',
            text: `Consider breaking your text into more paragraphs. Long blocks of text can be difficult to read.`,
            priority: 'medium'
        });
    }
    
    // Content type specific recommendations
    if (contentType === 'web') {
        recommendations.push({
            icon: 'üåê',
            text: 'For web content, use shorter paragraphs (2-3 sentences) and include subheadings.',
            priority: 'medium'
        });
    } else if (contentType === 'academic') {
        recommendations.push({
            icon: 'üéì',
            text: 'Academic writing often has lower readability scores, but aim for clarity within your field.',
            priority: 'low'
        });
    }
    
    // Display recommendations
    const container = document.getElementById('rs-recommendations');
    
    if (recommendations.length === 0) {
        container.innerHTML = `
            <div style="color:#39ff14;text-align:center;padding:20px;">
                ‚úÖ Great! Your text appears well-suited for your target audience.
            </div>
        `;
        return;
    }
    
    let html = '<div style="display:flex;flex-direction:column;gap:12px;">';
    
    // Sort by priority
    const priorityOrder = { high: 1, medium: 2, low: 3 };
    recommendations.sort((a, b) => priorityOrder[a.priority] - priorityOrder[b.priority]);
    
    recommendations.forEach(rec => {
        const color = rec.priority === 'high' ? '#ff2d55' : 
                     rec.priority === 'medium' ? '#ffcc00' : '#2dd4ff';
        
        html += `
            <div style="display:flex;align-items:start;gap:12px;padding:12px;background:rgba(0,0,0,0.3);border-radius:8px;border-left:3px solid ${color};">
                <div style="font-size:18px;">${rec.icon}</div>
                <div style="flex:1;">
                    <div style="color:${color};font-weight:500;margin-bottom:4px;">${rec.priority.toUpperCase()} PRIORITY</div>
                    <div style="color:rgba(230,250,255,0.9);">${rec.text}</div>
                </div>
            </div>
        `;
    });
    
    html += '</div>';
    container.innerHTML = html;
}

// Update comparison charts
function rsUpdateCharts(scores) {
    // Normalize scores for visualization
    const maxGrade = 20;
    const maxFog = 20;
    
    const fleschHeight = scores.fleschReadingEase;
    const gradeHeight = Math.min(100, (scores.fleschKincaidGrade / maxGrade) * 100);
    const fogHeight = Math.min(100, (scores.gunningFog / maxFog) * 100);
    const smogHeight = Math.min(100, (scores.smog / maxFog) * 100);
    
    document.getElementById('rs-chart-flesch').style.height = `${fleschHeight}%`;
    document.getElementById('rs-chart-grade').style.height = `${gradeHeight}%`;
    document.getElementById('rs-chart-fog').style.height = `${fogHeight}%`;
    document.getElementById('rs-chart-smog').style.height = `${smogHeight}%`;
}

// Download report
function rsDownloadReport() {
    const text = document.getElementById('rs-text').value;
    if (!text.trim()) {
        rsShowMessage('No text to generate report', 'warning');
        return;
    }
    
    // Collect all data
    const stats = rsCalculateStatistics(text);
    const scores = rsCalculateReadabilityScores(stats);
    
    let report = `READABILITY ANALYSIS REPORT\n`;
    report += `Generated: ${new Date().toLocaleDateString()} ${new Date().toLocaleTimeString()}\n`;
    report += `Target Audience: ${document.getElementById('rs-audience').options[document.getElementById('rs-audience').selectedIndex].text}\n`;
    report += `Content Type: ${document.getElementById('rs-content-type').options[document.getElementById('rs-content-type').selectedIndex].text}\n`;
    report += '='.repeat(50) + '\n\n';
    
    report += `BASIC STATISTICS\n`;
    report += `Words: ${stats.words}\n`;
    report += `Sentences: ${stats.sentences}\n`;
    report += `Paragraphs: ${stats.paragraphs}\n`;
    report += `Average Sentence Length: ${stats.avgSentenceLength.toFixed(1)} words\n`;
    report += `Average Syllables per Word: ${stats.avgSyllablesPerWord.toFixed(2)}\n`;
    report += `Reading Time: ${stats.readingTime}\n\n`;
    
    report += `READABILITY SCORES\n`;
    report += `Flesch Reading Ease: ${scores.fleschReadingEase.toFixed(1)} (${rsGetFleschLabel(scores.fleschReadingEase)})\n`;
    report += `Flesch-Kincaid Grade Level: ${scores.fleschKincaidGrade.toFixed(1)} (${rsGetGradeLabel(scores.fleschKincaidGrade)})\n`;
    report += `Gunning Fog Index: ${scores.gunningFog.toFixed(1)} (${rsGetFogLabel(scores.gunningFog)})\n`;
    report += `SMOG Index: ${scores.smog.toFixed(1)} (${rsGetSmogLabel(scores.smog)})\n\n`;
    
    report += `TEXT ANALYSIS\n`;
    report += `Short words (<5 letters): ${stats.shortWords} (${Math.round((stats.shortWords/stats.words)*100)}%)\n`;
    report += `Long words (>7 letters): ${stats.longWords} (${Math.round((stats.longWords/stats.words)*100)}%)\n`;
    report += `Complex words (3+ syllables): ${stats.complexWords} (${Math.round((stats.complexWords/stats.words)*100)}%)\n\n`;
    
    report += `SENTENCE LENGTH DISTRIBUTION\n`;
    report += `Short sentences (‚â§10 words): ${stats.shortSentences} (${Math.round((stats.shortSentences/stats.sentences)*100)}%)\n`;
    report += `Medium sentences (11-20 words): ${stats.mediumSentences} (${Math.round((stats.mediumSentences/stats.sentences)*100)}%)\n`;
    report += `Long sentences (>20 words): ${stats.longSentences} (${Math.round((stats.longSentences/stats.sentences)*100)}%)\n\n`;
    
    report += `ORIGINAL TEXT\n`;
    report += '='.repeat(50) + '\n';
    report += text.substring(0, 2000) + (text.length > 2000 ? '\n\n[... Text truncated for report ...]' : '');
    
    // Create and download file
    const blob = new Blob([report], { type: 'text/plain' });
    const url = URL.createObjectURL(blob);
    const a = document.createElement('a');
    a.href = url;
    a.download = `readability-report-${new Date().getTime()}.txt`;
    document.body.appendChild(a);
    a.click();
    document.body.removeChild(a);
    URL.revokeObjectURL(url);
    
    rsShowMessage('Report downloaded!', 'success');
}

// Share results
function rsShareResults() {
    const text = document.getElementById('rs-text').value;
    if (!text.trim()) {
        rsShowMessage('No results to share', 'warning');
        return;
    }
    
    const stats = rsCalculateStatistics(text);
    const scores = rsCalculateReadabilityScores(stats);
    
    const shareText = `üìä Readability Analysis:\n` +
                     `Words: ${stats.words} ‚Ä¢ Sentences: ${stats.sentences}\n` +
                     `Flesch: ${scores.fleschReadingEase.toFixed(1)} ‚Ä¢ Grade: ${scores.fleschKincaidGrade.toFixed(1)}\n` +
                     `Analyzed with The Most Useful Site`;
    
    if (navigator.share) {
        navigator.share({
            title: 'Readability Analysis Results',
            text: shareText,
            url: window.location.href
        }).catch(err => {
            console.log('Share cancelled:', err);
        });
    } else {
        navigator.clipboard.writeText(shareText).then(() => {
            rsShowMessage('Results copied to clipboard!', 'success');
        });
    }
}
</script>

<style>
#readability-score-title {
    color: var(--accent);
    margin-top: 0;
    background: linear-gradient(135deg, #2dd4ff, #39ff14);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
}

.section {
    animation: fadeIn 0.5s ease-out;
}

@keyframes fadeIn {
    from { opacity: 0; transform: translateY(10px); }
    to { opacity: 1; transform: translateY(0); }
}

/* Custom scrollbar */
#rs-detailed-analysis .section {
    max-height: 800px;
    overflow-y: auto;
}

#rs-detailed-analysis .section::-webkit-scrollbar {
    width: 8px;
}

#rs-detailed-analysis .section::-webkit-scrollbar-track {
    background: rgba(255,255,255,0.05);
    border-radius: 4px;
}

#rs-detailed-analysis .section::-webkit-scrollbar-thumb {
    background: var(--accent);
    border-radius: 4px;
}

#rs-detailed-analysis .section::-webkit-scrollbar-thumb:hover {
    background: rgba(45,212,255,0.8);
}

/* Responsive adjustments */
@media (max-width: 768px) {
    .section > div > div {
        grid-template-columns: 1fr !important;
    }
    
    .actions {
        flex-direction: column;
    }
    
    .actions button {
        width: 100%;
    }
    
    #rs-detailed-analysis .section > div > div {
        grid-template-columns: 1fr !important;
    }
}
</style>
