<h2>Discount Calculator</h2>
<p class="description">Calculate final prices after discounts and taxes. Compare multiple deals and save your calculations.</p>

<form class="tool-form">
  <!-- Main Input Section -->
  <div class="input-section">
    <div class="row">
      <div class="field">
        <label for="dc-price">Original Price</label>
        <div class="input-group">
          <span class="currency">¬£</span>
          <input id="dc-price" type="number" min="0" step="0.01" value="100.00" class="input price-input" />
        </div>
        <div class="helper">
          <span id="dc-price-display">¬£100.00</span>
          <div class="adjust-buttons">
            <button type="button" class="adjust-btn minus" onclick="adjustValue('price', -10)">‚àí10</button>
            <button type="button" class="adjust-btn plus" onclick="adjustValue('price', 10)">+10</button>
          </div>
        </div>
      </div>

      <div class="field">
        <label for="dc-discount">Discount</label>
        <div class="slider-container">
          <input id="dc-discount" type="range" min="0" max="100" step="1" value="20" class="slider" />
          <div class="slider-labels">
            <span>0%</span>
            <span id="dc-discount-display">20%</span>
            <span>100%</span>
          </div>
        </div>
        <div class="input-group">
          <input id="dc-discount-input" type="number" min="0" max="100" step="1" value="20" class="input discount-input" />
          <span class="unit">%</span>
        </div>
      </div>

      <div class="field">
        <label for="dc-tax">Tax Rate</label>
        <div class="slider-container">
          <input id="dc-tax" type="range" min="0" max="30" step="0.5" value="0" class="slider" />
          <div class="slider-labels">
            <span>0%</span>
            <span id="dc-tax-display">0%</span>
            <span>30%</span>
          </div>
        </div>
        <div class="input-group">
          <input id="dc-tax-input" type="number" min="0" max="50" step="0.1" value="0" class="input tax-input" />
          <span class="unit">%</span>
        </div>
      </div>
    </div>
  </div>

  <!-- Quick Presets -->
  <div class="preset-section">
    <h3 class="section-title">Common Discounts</h3>
    <div class="preset-grid">
      <button type="button" class="preset-btn" onclick="setDiscount(10)">10% Off</button>
      <button type="button" class="preset-btn" onclick="setDiscount(15)">15% Off</button>
      <button type="button" class="preset-btn active" onclick="setDiscount(20)">20% Off</button>
      <button type="button" class="preset-btn" onclick="setDiscount(25)">25% Off</button>
      <button type="button" class="preset-btn" onclick="setDiscount(30)">30% Off</button>
      <button type="button" class="preset-btn highlight" onclick="setDiscount(50)">50% Off</button>
      <button type="button" class="preset-btn" onclick="setDiscount(75)">75% Off</button>
    </div>
  </div>

  <div class="preset-section">
    <h3 class="section-title">Price Points</h3>
    <div class="price-presets">
      <button type="button" class="price-preset" onclick="setPrice(9.99)">
        <div class="price-amount">¬£9.99</div>
        <div class="price-label">Common</div>
      </button>
      <button type="button" class="price-preset" onclick="setPrice(19.99)">
        <div class="price-amount">¬£19.99</div>
        <div class="price-label">Mid-range</div>
      </button>
      <button type="button" class="price-preset" onclick="setPrice(49.99)">
        <div class="price-amount">¬£49.99</div>
        <div class="price-label">Premium</div>
      </button>
      <button type="button" class="price-preset active" onclick="setPrice(99.99)">
        <div class="price-amount">¬£99.99</div>
        <div class="price-label">Default</div>
      </button>
    </div>
  </div>

  <div class="actions">
    <button type="button" class="calculate-btn" onclick="calculate()">Calculate</button>
    <button type="button" class="compare-btn" onclick="compareDeals()">Compare Deals</button>
    <button type="button" class="save-btn" onclick="saveDeal()">Save Deal</button>
    <button type="button" class="reset-btn" onclick="reset()">Reset</button>
  </div>
</form>

<!-- Results Section -->
<div class="results">
  <div id="results-section" class="result-section">
    <h3 class="section-title">Price Breakdown</h3>
    
    <!-- Savings Progress Bar -->
    <div class="savings-bar">
      <div class="bar-labels">
        <span>Original</span>
        <span>Final</span>
      </div>
      <div class="bar-track">
        <div class="bar-progress" id="savings-progress"></div>
        <div class="bar-marker" id="savings-marker"></div>
      </div>
      <div class="bar-values">
        <span id="original-display">¬£100.00</span>
        <span id="final-display">¬£80.00</span>
      </div>
    </div>

    <!-- Key Metrics Grid -->
    <div class="metrics-grid">
      <div class="metric-card">
        <div class="metric-label">Discount Amount</div>
        <div class="metric-value" id="discount-amount">¬£20.00</div>
        <div class="metric-sub" id="discount-percent">20% off</div>
      </div>
      
      <div class="metric-card">
        <div class="metric-label">Discounted Price</div>
        <div class="metric-value" id="discounted-price">¬£80.00</div>
        <div class="metric-sub">Before tax</div>
      </div>
      
      <div class="metric-card">
        <div class="metric-label">Tax Amount</div>
        <div class="metric-value" id="tax-amount">¬£0.00</div>
        <div class="metric-sub" id="tax-rate">0% tax rate</div>
      </div>
      
      <div class="metric-card highlight">
        <div class="metric-label">Total Savings</div>
        <div class="metric-value" id="total-savings">¬£20.00</div>
        <div class="metric-sub">You saved</div>
      </div>
    </div>

    <!-- Insights -->
    <div class="insights">
      <h4 class="insights-title">Shopping Insights</h4>
      <div class="insights-content" id="insights-content">
        Enter your price details and click Calculate to see insights.
      </div>
    </div>
  </div>

  <!-- Comparison Section -->
  <div id="comparison-section" class="result-section" style="display: none;">
    <h3 class="section-title">Compare Discounts</h3>
    <div class="comparison-table">
      <table>
        <thead>
          <tr>
            <th>Deal</th>
            <th>Discounted Price</th>
            <th>Tax</th>
            <th>Final Price</th>
            <th>Savings</th>
          </tr>
        </thead>
        <tbody id="comparison-body">
          <!-- Will be populated by JavaScript -->
        </tbody>
      </table>
    </div>
  </div>

  <!-- Shopping Tips -->
  <div class="tips-section">
    <h3 class="section-title">Smart Shopping Tips</h3>
    <div class="tips-grid">
      <div class="tip-card">
        <div class="tip-icon">üéØ</div>
        <div class="tip-content">
          <h4>Calculate Real Discounts</h4>
          <p>Always include tax to know the actual final price.</p>
        </div>
      </div>
      
      <div class="tip-card">
        <div class="tip-icon">üïí</div>
        <div class="tip-content">
          <h4>Wait for Better Deals</h4>
          <p>Many items go on deeper discount during clearance sales.</p>
        </div>
      </div>
      
      <div class="tip-card">
        <div class="tip-icon">üì¶</div>
        <div class="tip-content">
          <h4>Bulk Buying</h4>
          <p>Check for unit price savings when buying multiple items.</p>
        </div>
      </div>
      
      <div class="tip-card">
        <div class="tip-icon">‚ö°</div>
        <div class="tip-content">
          <h4>Stack Discounts</h4>
          <p>Combine coupons, sales, and cashback for maximum savings.</p>
        </div>
      </div>
    </div>

    <!-- Quick Calculation Guide -->
    <div class="quick-calc">
      <h4>Quick Mental Math</h4>
      <div class="calc-grid">
        <div class="calc-rule">
          <span class="calc-percent">10% off</span>
          <span class="calc-desc">Move decimal one place left</span>
        </div>
        <div class="calc-rule">
          <span class="calc-percent">20% off</span>
          <span class="calc-desc">Find 10% and double it</span>
        </div>
        <div class="calc-rule">
          <span class="calc-percent">25% off</span>
          <span class="calc-desc">Divide price by 4</span>
        </div>
        <div class="calc-rule">
          <span class="calc-percent">50% off</span>
          <span class="calc-desc">Halve the price</span>
        </div>
      </div>
    </div>
  </div>
</div>

<script>
(function() {
  const card = document.currentScript.closest('.card');
  let dealHistory = [];
  let savedDeals = JSON.parse(localStorage.getItem('discountDeals') || '[]');

  // Initialize
  document.addEventListener('DOMContentLoaded', function() {
    initializeInputs();
    loadSavedDeals();
  });

  function initializeInputs() {
    // Price input
    const priceInput = card.querySelector('#dc-price');
    const priceDisplay = card.querySelector('#dc-price-display');
    
    priceInput.addEventListener('input', function() {
      const value = parseFloat(this.value) || 0;
      priceDisplay.textContent = formatCurrency(value);
      autoCalculate();
    });

    // Discount slider sync
    const discountSlider = card.querySelector('#dc-discount');
    const discountInput = card.querySelector('#dc-discount-input');
    const discountDisplay = card.querySelector('#dc-discount-display');
    
    discountSlider.addEventListener('input', function() {
      const value = parseInt(this.value);
      discountInput.value = value;
      discountDisplay.textContent = value + '%';
      highlightPreset('.preset-btn', value);
      autoCalculate();
    });
    
    discountInput.addEventListener('input', function() {
      const value = Math.min(100, Math.max(0, parseInt(this.value) || 0));
      discountSlider.value = value;
      discountDisplay.textContent = value + '%';
      highlightPreset('.preset-btn', value);
      autoCalculate();
    });

    // Tax slider sync
    const taxSlider = card.querySelector('#dc-tax');
    const taxInput = card.querySelector('#dc-tax-input');
    const taxDisplay = card.querySelector('#dc-tax-display');
    
    taxSlider.addEventListener('input', function() {
      const value = parseFloat(this.value).toFixed(1);
      taxInput.value = value;
      taxDisplay.textContent = value + '%';
      autoCalculate();
    });
    
    taxInput.addEventListener('input', function() {
      const value = Math.min(50, Math.max(0, parseFloat(this.value) || 0)).toFixed(1);
      taxSlider.value = value;
      taxDisplay.textContent = value + '%';
      autoCalculate();
    });
  }

  function formatCurrency(value) {
    return '¬£' + (value || 0).toFixed(2);
  }

  function calculateValues(price, discountPercentage, taxPercentage) {
    const discount = discountPercentage / 100;
    const tax = taxPercentage / 100;

    const discountAmount = price * discount;
    const discountedPrice = price - discountAmount;
    const taxAmount = discountedPrice * tax;
    const finalPrice = discountedPrice + taxAmount;
    const totalSavings = price - finalPrice;

    return {
      price,
      discountPercentage,
      taxPercentage,
      discountAmount,
      discountedPrice,
      taxAmount,
      finalPrice,
      totalSavings
    };
  }

  window.calculate = function() {
    const price = parseFloat(card.querySelector('#dc-price').value) || 0;
    const discount = parseFloat(card.querySelector('#dc-discount-input').value) || 0;
    const tax = parseFloat(card.querySelector('#dc-tax-input').value) || 0;

    if (price <= 0) {
      showNotification('Please enter a valid price greater than zero.', 'error');
      return;
    }

    const results = calculateValues(price, discount, tax);
    updateResults(results);
    card.querySelector('#results-section').style.display = 'block';
    card.querySelector('#comparison-section').style.display = 'none';
    
    // Add to history
    dealHistory.push({
      ...results,
      timestamp: new Date().toISOString()
    });
    
    showNotification('Calculation complete!', 'success');
  };

  function autoCalculate() {
    const price = parseFloat(card.querySelector('#dc-price').value) || 0;
    const discount = parseFloat(card.querySelector('#dc-discount-input').value) || 0;
    const tax = parseFloat(card.querySelector('#dc-tax-input').value) || 0;
    
    if (price > 0 && card.querySelector('#results-section').style.display !== 'none') {
      const results = calculateValues(price, discount, tax);
      updateResults(results);
    }
  }

  function updateResults(results) {
    const { price, discountPercentage, taxPercentage, discountAmount, discountedPrice, taxAmount, finalPrice, totalSavings } = results;

    // Update displays
    card.querySelector('#original-display').textContent = formatCurrency(price);
    card.querySelector('#final-display').textContent = formatCurrency(finalPrice);
    card.querySelector('#discount-amount').textContent = formatCurrency(discountAmount);
    card.querySelector('#discount-percent').textContent = discountPercentage.toFixed(0) + '% off';
    card.querySelector('#discounted-price').textContent = formatCurrency(discountedPrice);
    card.querySelector('#tax-amount').textContent = formatCurrency(taxAmount);
    card.querySelector('#tax-rate').textContent = taxPercentage.toFixed(1) + '% tax rate';
    card.querySelector('#total-savings').textContent = formatCurrency(totalSavings);

    // Update progress bar
    const progress = card.querySelector('#savings-progress');
    const marker = card.querySelector('#savings-marker');
    
    if (price > 0) {
      const percentage = ((price - finalPrice) / price) * 100;
      progress.style.width = percentage + '%';
      progress.style.background = totalSavings > 0 ? 'linear-gradient(90deg, #ff4d4d, #39ff14)' : '#666';
      
      const markerPos = (finalPrice / price) * 100;
      marker.style.left = markerPos + '%';
      marker.style.background = totalSavings > 0 ? '#39ff14' : '#ff4d4d';
    }

    // Update insights
    const insights = card.querySelector('#insights-content');
    if (totalSavings > 0) {
      if (taxPercentage === 0) {
        insights.innerHTML = `üéâ You're saving <strong>${formatCurrency(totalSavings)}</strong>! That's ${discountPercentage}% off the original price.`;
      } else {
        insights.innerHTML = `üí∞ Final price: <strong>${formatCurrency(finalPrice)}</strong>. You save ${formatCurrency(totalSavings)} after ${discountPercentage}% discount and ${taxPercentage}% tax.`;
      }
      insights.style.borderLeftColor = '#39ff14';
    } else {
      insights.innerHTML = `‚ö†Ô∏è No discount applied. Final price is ${formatCurrency(finalPrice)}.`;
      insights.style.borderLeftColor = '#ff9800';
    }
  }

  window.compareDeals = function() {
    const price = parseFloat(card.querySelector('#dc-price').value) || 0;
    const tax = parseFloat(card.querySelector('#dc-tax-input').value) || 0;

    if (price <= 0) {
      showNotification('Please enter a price to compare deals.', 'error');
      return;
    }

    const comparisonBody = card.querySelector('#comparison-body');
    const discounts = [5, 10, 15, 20, 25, 30, 40, 50];
    let html = '';

    discounts.forEach(discount => {
      const results = calculateValues(price, discount, tax);
      const isBest = discount === Math.max(...discounts);
      
      html += `
        <tr ${isBest ? 'class="best-deal"' : ''}>
          <td><span class="deal-badge">${discount}% Off</span></td>
          <td class="numeric">${formatCurrency(results.discountedPrice)}</td>
          <td class="numeric">${formatCurrency(results.taxAmount)}</td>
          <td class="numeric final-price">${formatCurrency(results.finalPrice)}</td>
          <td class="numeric savings">${formatCurrency(results.totalSavings)}</td>
        </tr>
      `;
    });

    comparisonBody.innerHTML = html;
    card.querySelector('#comparison-section').style.display = 'block';
    card.querySelector('#results-section').style.display = 'none';
  };

  window.saveDeal = function() {
    const price = parseFloat(card.querySelector('#dc-price').value) || 0;
    const discount = parseFloat(card.querySelector('#dc-discount-input').value) || 0;
    const tax = parseFloat(card.querySelector('#dc-tax-input').value) || 0;

    if (price <= 0) {
      showNotification('Enter a price to save this deal.', 'error');
      return;
    }

    const name = prompt('Name this deal (e.g., "Black Friday TV"):', `Deal ${savedDeals.length + 1}`);
    if (!name) return;

    const deal = {
      id: Date.now(),
      name: name.trim(),
      price,
      discount,
      tax,
      timestamp: new Date().toISOString(),
      results: calculateValues(price, discount, tax)
    };

    savedDeals.push(deal);
    if (savedDeals.length > 20) {
      savedDeals = savedDeals.slice(-20);
    }
    
    localStorage.setItem('discountDeals', JSON.stringify(savedDeals));
    showNotification(`Deal "${deal.name}" saved!`, 'success');
    loadSavedDeals();
  };

  function loadSavedDeals() {
    // Can be extended to show saved deals in a sidebar or modal
    console.log('Loaded deals:', savedDeals.length);
  }

  // Helper functions
  window.adjustValue = function(type, amount) {
    const input = card.querySelector(`#dc-${type}`);
    const current = parseFloat(input.value) || 0;
    let newValue = current + amount;
    
    if (type === 'price') {
      newValue = Math.max(0, Math.min(999999, newValue));
      input.value = newValue.toFixed(2);
      card.querySelector('#dc-price-display').textContent = formatCurrency(newValue);
    } else if (type === 'discount') {
      newValue = Math.max(0, Math.min(100, newValue));
      card.querySelector('#dc-discount').value = newValue;
      card.querySelector('#dc-discount-input').value = newValue;
      card.querySelector('#dc-discount-display').textContent = newValue + '%';
      highlightPreset('.preset-btn', newValue);
    }
    
    input.dispatchEvent(new Event('input'));
  };

  window.setPrice = function(price) {
    card.querySelector('#dc-price').value = price.toFixed(2);
    card.querySelector('#dc-price-display').textContent = formatCurrency(price);
    highlightPreset('.price-preset', price);
    card.querySelector('#dc-price').dispatchEvent(new Event('input'));
  };

  window.setDiscount = function(discount) {
    card.querySelector('#dc-discount').value = discount;
    card.querySelector('#dc-discount-input').value = discount;
    card.querySelector('#dc-discount-display').textContent = discount + '%';
    highlightPreset('.preset-btn', discount);
    card.querySelector('#dc-discount').dispatchEvent(new Event('input'));
  };

  function highlightPreset(selector, value) {
    card.querySelectorAll(selector).forEach(btn => {
      btn.classList.remove('active');
      const onclick = btn.getAttribute('onclick');
      if (onclick && onclick.includes(`(${value})`)) {
        btn.classList.add('active');
      }
    });
  }

  window.reset = function() {
    card.querySelector('#dc-price').value = '100.00';
    card.querySelector('#dc-discount').value = '20';
    card.querySelector('#dc-discount-input').value = '20';
    card.querySelector('#dc-tax').value = '0';
    card.querySelector('#dc-tax-input').value = '0';

    card.querySelector('#dc-price-display').textContent = '¬£100.00';
    card.querySelector('#dc-discount-display').textContent = '20%';
    card.querySelector('#dc-tax-display').textContent = '0%';

    card.querySelector('#results-section').style.display = 'none';
    card.querySelector('#comparison-section').style.display = 'none';

    highlightPreset('.preset-btn', 20);
    highlightPreset('.price-preset', 99.99);
    
    showNotification('Calculator reset to default values.', 'info');
  };

  function showNotification(message, type = 'info') {
    const notification = document.createElement('div');
    notification.className = `notification ${type}`;
    notification.textContent = message;
    notification.style.cssText = `
      position: fixed;
      top: 20px;
      right: 20px;
      padding: 12px 20px;
      background: ${type === 'success' ? 'rgba(57, 255, 20, 0.2)' : type === 'error' ? 'rgba(255, 45, 85, 0.2)' : 'rgba(45, 212, 255, 0.2)'};
      border: 1px solid ${type === 'success' ? 'rgba(57, 255, 20, 0.4)' : type === 'error' ? 'rgba(255, 45, 85, 0.4)' : 'rgba(45, 212, 255, 0.4)'};
      border-radius: 8px;
      color: #e6faff;
      z-index: 1000;
      animation: slideIn 0.3s ease;
    `;
    
    document.body.appendChild(notification);
    setTimeout(() => {
      notification.style.animation = 'slideOut 0.3s ease';
      setTimeout(() => notification.remove(), 300);
    }, 3000);
  }
})();
</script>

<style>
/* Discount Calculator Specific Styles */
.input-section {
  background: rgba(45, 212, 255, 0.05);
  border-radius: 12px;
  padding: 20px;
  border: 1px solid rgba(45, 212, 255, 0.1);
  margin-bottom: 24px;
}

.row {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
  gap: 20px;
}

.input-group {
  display: flex;
  align-items: center;
  margin-bottom: 8px;
}

.currency {
  background: rgba(255, 204, 0, 0.1);
  border: 1px solid rgba(255, 204, 0, 0.3);
  border-right: none;
  padding: 12px 16px;
  border-radius: 8px 0 0 8px;
  color: #ffcc00;
  font-weight: 600;
}

.input-group .input {
  border-radius: 0 8px 8px 0;
  border-left: none;
}

.input.price-input {
  border-color: rgba(255, 204, 0, 0.3);
  background: rgba(255, 204, 0, 0.05);
}

.input.discount-input {
  border-color: rgba(57, 255, 20, 0.3);
  background: rgba(57, 255, 20, 0.05);
}

.input.tax-input {
  border-color: rgba(255, 45, 85, 0.3);
  background: rgba(255, 45, 85, 0.05);
}

.unit {
  margin-left: 8px;
  color: #9ccbe0;
  font-size: 0.9em;
}

.helper {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-top: 8px;
  font-size: 0.85em;
  color: #9ccbe0;
}

.adjust-buttons {
  display: flex;
  gap: 4px;
}

.adjust-btn {
  padding: 4px 8px;
  background: rgba(45, 212, 255, 0.1);
  border: 1px solid rgba(45, 212, 255, 0.3);
  border-radius: 4px;
  color: #2dd4ff;
  font-size: 0.8em;
  cursor: pointer;
  transition: all 0.2s;
}

.adjust-btn:hover {
  background: rgba(45, 212, 255, 0.2);
}

.adjust-btn.minus {
  color: #ff4d4d;
  border-color: rgba(255, 77, 77, 0.3);
  background: rgba(255, 77, 77, 0.1);
}

.adjust-btn.plus {
  color: #39ff14;
  border-color: rgba(57, 255, 20, 0.3);
  background: rgba(57, 255, 20, 0.1);
}

/* Slider Styling */
.slider-container {
  margin-bottom: 12px;
}

.slider {
  width: 100%;
  height: 6px;
  border-radius: 3px;
  background: rgba(255, 255, 255, 0.1);
  outline: none;
  -webkit-appearance: none;
}

.slider::-webkit-slider-thumb {
  -webkit-appearance: none;
  width: 18px;
  height: 18px;
  border-radius: 50%;
  background: #2dd4ff;
  cursor: pointer;
  border: 2px solid rgba(0, 0, 0, 0.4);
  box-shadow: 0 0 8px rgba(45, 212, 255, 0.6);
}

#dc-discount.slider::-webkit-slider-thumb {
  background: #39ff14;
}

#dc-tax.slider::-webkit-slider-thumb {
  background: #ff2d55;
}

.slider-labels {
  display: flex;
  justify-content: space-between;
  font-size: 0.8em;
  color: #9ccbe0;
  margin-top: 4px;
}

/* Preset Sections */
.preset-section {
  margin-bottom: 24px;
}

.preset-grid {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(100px, 1fr));
  gap: 10px;
  margin-top: 12px;
}

.preset-btn {
  padding: 10px;
  background: rgba(255, 255, 255, 0.05);
  border: 1px solid rgba(255, 255, 255, 0.1);
  border-radius: 8px;
  color: #e6faff;
  cursor: pointer;
  transition: all 0.2s;
}

.preset-btn:hover {
  background: rgba(255, 255, 255, 0.1);
  transform: translateY(-2px);
}

.preset-btn.active {
  background: rgba(57, 255, 20, 0.1);
  border-color: rgba(57, 255, 20, 0.3);
  color: #39ff14;
}

.preset-btn.highlight {
  background: rgba(255, 204, 0, 0.1);
  border-color: rgba(255, 204, 0, 0.3);
  color: #ffcc00;
}

.price-presets {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
  gap: 12px;
  margin-top: 12px;
}

.price-preset {
  padding: 16px;
  background: rgba(255, 255, 255, 0.05);
  border: 1px solid rgba(255, 255, 255, 0.1);
  border-radius: 8px;
  cursor: pointer;
  transition: all 0.2s;
  text-align: center;
}

.price-preset:hover {
  background: rgba(255, 255, 255, 0.1);
  transform: translateY(-2px);
}

.price-preset.active {
  background: rgba(45, 212, 255, 0.1);
  border-color: rgba(45, 212, 255, 0.3);
}

.price-amount {
  font-size: 1.2em;
  font-weight: 600;
  color: #2dd4ff;
  margin-bottom: 4px;
}

.price-label {
  font-size: 0.85em;
  color: #9ccbe0;
}

/* Savings Progress Bar */
.savings-bar {
  margin: 24px 0;
}

.bar-labels {
  display: flex;
  justify-content: space-between;
  font-size: 0.9em;
  color: #9ccbe0;
  margin-bottom: 8px;
}

.bar-track {
  height: 8px;
  background: rgba(255, 255, 255, 0.1);
  border-radius: 4px;
  position: relative;
  overflow: hidden;
}

.bar-progress {
  height: 100%;
  background: linear-gradient(90deg, #ff4d4d, #39ff14);
  border-radius: 4px;
  transition: width 0.5s ease;
}

.bar-marker {
  position: absolute;
  top: -4px;
  width: 4px;
  height: 16px;
  background: #39ff14;
  border-radius: 2px;
  transform: translateX(-50%);
  transition: left 0.5s ease;
  box-shadow: 0 0 8px rgba(57, 255, 20, 0.8);
}

.bar-values {
  display: flex;
  justify-content: space-between;
  margin-top: 8px;
  font-size: 1.1em;
  font-weight: 600;
}

#original-display {
  color: #ffcc00;
}

#final-display {
  color: #39ff14;
}

/* Metrics Grid */
.metrics-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
  gap: 16px;
  margin: 24px 0;
}

.metric-card {
  background: rgba(255, 255, 255, 0.05);
  border-radius: 12px;
  padding: 20px;
  border: 1px solid rgba(45, 212, 255, 0.1);
  text-align: center;
  transition: all 0.3s ease;
}

.metric-card:hover {
  border-color: rgba(45, 212, 255, 0.3);
  transform: translateY(-2px);
}

.metric-card.highlight {
  background: linear-gradient(135deg, rgba(157, 78, 221, 0.1), rgba(157, 78, 221, 0.05));
  border-color: rgba(157, 78, 221, 0.3);
}

.metric-label {
  font-size: 0.9em;
  color: #9ccbe0;
  margin-bottom: 8px;
}

.metric-value {
  font-size: 1.8em;
  font-weight: 700;
  color: #2dd4ff;
  margin: 4px 0;
}

.metric-card:nth-child(1) .metric-value {
  color: #39ff14;
}

.metric-card:nth-child(2) .metric-value {
  color: #ffcc00;
}

.metric-card:nth-child(3) .metric-value {
  color: #ff2d55;
}

.metric-card:nth-child(4) .metric-value {
  color: #9d4edd;
}

.metric-sub {
  font-size: 0.85em;
  color: #9ccbe0;
  margin-top: 4px;
}

/* Insights */
.insights {
  background: rgba(45, 212, 255, 0.05);
  border-radius: 12px;
  padding: 20px;
  border-left: 4px solid #2dd4ff;
  margin: 24px 0;
}

.insights-title {
  font-size: 1.1em;
  font-weight: 600;
  color: #2dd4ff;
  margin-bottom: 12px;
}

.insights-content {
  color: #e6faff;
  line-height: 1.6;
  font-size: 0.95em;
}

/* Comparison Table */
.comparison-table {
  overflow-x: auto;
  margin: 24px 0;
}

.comparison-table table {
  width: 100%;
  border-collapse: collapse;
  font-size: 0.9em;
}

.comparison-table th {
  text-align: left;
  padding: 12px 16px;
  background: rgba(45, 212, 255, 0.1);
  color: #2dd4ff;
  border-bottom: 1px solid rgba(45, 212, 255, 0.2);
}

.comparison-table td {
  padding: 12px 16px;
  border-bottom: 1px solid rgba(255, 255, 255, 0.1);
  color: #e6faff;
}

.comparison-table td.numeric {
  text-align: right;
  font-family: 'Courier New', monospace;
}

.comparison-table tr:hover {
  background: rgba(45, 212, 255, 0.05);
}

.comparison-table tr.best-deal {
  background: rgba(57, 255, 20, 0.1);
  border-left: 4px solid #39ff14;
}

.comparison-table .best-deal .final-price {
  color: #39ff14;
  font-weight: 600;
}

.comparison-table .best-deal .savings {
  color: #39ff14;
}

.deal-badge {
  display: inline-block;
  padding: 4px 8px;
  background: rgba(45, 212, 255, 0.1);
  border-radius: 4px;
  color: #2dd4ff;
  font-size: 0.9em;
}

/* Tips Section */
.tips-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
  gap: 16px;
  margin: 24px 0;
}

.tip-card {
  background: rgba(255, 255, 255, 0.05);
  border-radius: 12px;
  padding: 20px;
  border: 1px solid rgba(45, 212, 255, 0.1);
  transition: all 0.3s ease;
}

.tip-card:hover {
  border-color: rgba(45, 212, 255, 0.3);
  transform: translateY(-2px);
}

.tip-icon {
  font-size: 2em;
  margin-bottom: 12px;
}

.tip-content h4 {
  color: #2dd4ff;
  margin-bottom: 8px;
  font-size: 1.1em;
}

.tip-content p {
  color: #9ccbe0;
  font-size: 0.9em;
  line-height: 1.5;
}

/* Quick Calculation Guide */
.quick-calc {
  background: rgba(45, 212, 255, 0.05);
  border-radius: 12px;
  padding: 20px;
  margin-top: 24px;
}

.quick-calc h4 {
  color: #2dd4ff;
  margin-bottom: 16px;
  font-size: 1.1em;
}

.calc-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
  gap: 12px;
}

.calc-rule {
  background: rgba(255, 255, 255, 0.05);
  border-radius: 8px;
  padding: 12px;
  border: 1px solid rgba(45, 212, 255, 0.1);
}

.calc-percent {
  display: block;
  font-weight: 600;
  color: #2dd4ff;
  margin-bottom: 4px;
}

.calc-desc {
  font-size: 0.85em;
  color: #9ccbe0;
}

/* Buttons */
.compare-btn {
  background: rgba(57, 255, 20, 0.1) !important;
  border: 1px solid rgba(57, 255, 20, 0.3) !important;
  color: #39ff14 !important;
}

.compare-btn:hover {
  background: rgba(57, 255, 20, 0.2) !important;
}

/* Animations */
@keyframes slideIn {
  from {
    transform: translateX(100%);
    opacity: 0;
  }
  to {
    transform: translateX(0);
    opacity: 1;
  }
}

@keyframes slideOut {
  from {
    transform: translateX(0);
    opacity: 1;
  }
  to {
    transform: translateX(100%);
    opacity: 0;
  }
}

/* Responsive */
@media (max-width: 768px) {
  .row {
    grid-template-columns: 1fr;
  }
  
  .preset-grid {
    grid-template-columns: repeat(auto-fill, minmax(80px, 1fr));
  }
  
  .price-presets {
    grid-template-columns: repeat(2, 1fr);
  }
  
  .metrics-grid {
    grid-template-columns: repeat(2, 1fr);
  }
  
  .tips-grid {
    grid-template-columns: 1fr;
  }
}

@media (max-width: 480px) {
  .metrics-grid {
    grid-template-columns: 1fr;
  }
  
  .price-presets {
    grid-template-columns: 1fr;
  }
}
</style>
