<div class="card">
  <div class="card-header">
    <h2 class="card-title">
      <span class="title-icon">üå±</span>
      Smart Garden Task Planner
      <span class="card-subtitle">Plan, Track & Grow Your Perfect Garden!</span>
    </h2>
  </div>
  
  <div class="card-content">
    <!-- Quick Stats Dashboard -->
    <div class="stats-dashboard">
      <div class="stat-item">
        <div class="stat-label">
          <span class="stat-icon">üìÖ</span>
          Today
        </div>
        <div id="gtc-today-count" class="stat-value">0</div>
      </div>
      <div class="stat-item">
        <div class="stat-label">
          <span class="stat-icon">‚úÖ</span>
          Completed
        </div>
        <div id="gtc-completed-count" class="stat-value">0</div>
      </div>
      <div class="stat-item">
        <div class="stat-label">
          <span class="stat-icon">‚è∞</span>
          Urgent
        </div>
        <div id="gtc-urgent-count" class="stat-value">0</div>
      </div>
    </div>
    
    <!-- Task Input Form -->
    <div class="input-section">
      <h3 class="section-title">
        <span class="section-icon">‚ûï</span>
        Add New Task
      </h3>
      
      <div class="input-grid">
        <div class="input-group full-width">
          <label for="gtc-task" class="input-label">Task Description</label>
          <input type="text" id="gtc-task" class="card-input" placeholder="e.g., Prune roses, Fertilize tomatoes, Harvest basil...">
        </div>
        
        <div class="input-group">
          <label for="gtc-category" class="input-label">Category</label>
          <select id="gtc-category" class="card-select">
            <option value="pruning">‚úÇÔ∏è Pruning</option>
            <option value="watering" selected>üíß Watering</option>
            <option value="fertilizing">üå± Fertilizing</option>
            <option value="planting">ü™¥ Planting</option>
            <option value="harvesting">ü•ï Harvesting</option>
            <option value="weeding">üåø Weeding</option>
            <option value="pest-control">üêõ Pest Control</option>
            <option value="maintenance">üîß Maintenance</option>
          </select>
        </div>
        
        <div class="input-group">
          <label for="gtc-priority" class="input-label">Priority</label>
          <select id="gtc-priority" class="card-select">
            <option value="low">üü¢ Low (Within 2 weeks)</option>
            <option value="medium" selected>üü° Medium (This week)</option>
            <option value="high">üî¥ High (Today/Tomorrow)</option>
            <option value="urgent">‚ö†Ô∏è Urgent (Today!)</option>
          </select>
        </div>
        
        <div class="input-group">
          <label for="gtc-due-date" class="input-label">Due Date</label>
          <input type="date" id="gtc-due-date" class="card-input">
        </div>
        
        <div class="input-group">
          <label for="gtc-plant" class="input-label">Plant/Area</label>
          <input type="text" id="gtc-plant" class="card-input" placeholder="Tomatoes, Roses, Lawn, etc.">
        </div>
      </div>
      
      <div class="input-group">
        <label for="gtc-notes" class="input-label">Notes (Optional)</label>
        <textarea id="gtc-notes" class="card-textarea" rows="2" placeholder="Special instructions, reminders, or details..."></textarea>
      </div>
      
      <!-- Quick Add Presets -->
      <div class="quick-presets">
        <div class="presets-label">Quick Add Common Tasks:</div>
        <div class="presets-grid">
          <button type="button" class="preset-btn" onclick="gtcQuickAdd('Water vegetable garden', 'watering', 'medium')">
            üíß Water veggies
          </button>
          <button type="button" class="preset-btn" onclick="gtcQuickAdd('Prune roses', 'pruning', 'medium')">
            ‚úÇÔ∏è Prune roses
          </button>
          <button type="button" class="preset-btn" onclick="gtcQuickAdd('Fertilize tomatoes', 'fertilizing', 'high')">
            üå± Fertilize
          </button>
          <button type="button" class="preset-btn" onclick="gtcQuickAdd('Harvest herbs', 'harvesting', 'low')">
            ü•ï Harvest
          </button>
        </div>
      </div>
      
      <button type="button" class="card-btn primary" onclick="gtcAddTask()">
        <span class="btn-icon">üå±</span>
        Add Gardening Task
      </button>
    </div>
    
    <!-- Task List Section -->
    <div class="task-section">
      <div class="section-header">
        <h3 class="section-title">
          <span class="section-icon">üìã</span>
          Your Garden Tasks
        </h3>
        
        <div class="filter-controls">
          <select id="gtc-filter" onchange="gtcFilterTasks()" class="card-select small">
            <option value="all">All Tasks</option>
            <option value="today">Today</option>
            <option value="pending">Pending</option>
            <option value="completed">Completed</option>
            <option value="urgent">Urgent</option>
          </select>
          <button type="button" class="card-btn secondary small" onclick="gtcClearCompleted()">
            Clear Completed
          </button>
        </div>
      </div>
      
      <div id="gtc-output" class="task-list">
        <div class="empty-state">
          <div class="empty-icon">üåø</div>
          <div>No gardening tasks yet</div>
          <div class="empty-subtitle">Add your first task above!</div>
        </div>
      </div>
      
      <div class="task-stats">
        <div class="stat-item">
          <span class="stat-label">Total:</span>
          <span id="gtc-total-count" class="stat-value">0</span> tasks
        </div>
        <div class="stat-item">
          <span class="stat-label">Due today:</span>
          <span id="gtc-due-today" class="stat-value">0</span>
        </div>
        <div class="stat-item">
          <span class="stat-label">Completion:</span>
          <span id="gtc-completion" class="stat-value">0%</span>
        </div>
      </div>
    </div>
    
    <!-- Gardening Tips -->
    <div class="tips-section">
      <div class="section-header">
        <h3 class="section-title">
          <span class="section-icon">üå§Ô∏è</span>
          Seasonal Gardening Tips
        </h3>
        <button type="button" class="card-btn secondary small" onclick="gtcNewTip()">
          New Tip
        </button>
      </div>
      
      <div id="gtc-gardening-tip" class="tip-content">
        <div class="tip-icon">üí°</div>
        <div class="tip-text">Early morning is the best time to water plants - less evaporation and reduced fungal diseases.</div>
      </div>
      
      <div class="seasonal-checklist">
        <div class="checklist-label">This season consider:</div>
        <div id="gtc-seasonal-checklist" class="checklist-grid">
          <!-- Will be populated by JS -->
        </div>
      </div>
    </div>
    
    <!-- Category Progress -->
    <div class="progress-section">
      <h3 class="section-title">
        <span class="section-icon">üìä</span>
        Garden Progress Overview
      </h3>
      
      <div class="category-grid">
        <div class="category-item">
          <div class="category-label">Pruning</div>
          <div id="gtc-cat-pruning" class="category-value">0</div>
        </div>
        <div class="category-item">
          <div class="category-label">Watering</div>
          <div id="gtc-cat-watering" class="category-value">0</div>
        </div>
        <div class="category-item">
          <div class="category-label">Fertilizing</div>
          <div id="gtc-cat-fertilizing" class="category-value">0</div>
        </div>
        <div class="category-item">
          <div class="category-label">Harvesting</div>
          <div id="gtc-cat-harvesting" class="category-value">0</div>
        </div>
      </div>
      
      <div class="monthly-stats">
        <span>This month: </span>
        <span id="gtc-month-tasks" class="highlight">0</span> tasks ‚Ä¢ 
        <span id="gtc-month-completed" class="highlight">0</span> completed
      </div>
    </div>
    
    <!-- Action Buttons -->
    <div class="action-buttons">
      <button type="button" class="card-btn" onclick="gtcExportTasks()">
        <span class="btn-icon">üì•</span>
        Export Tasks
      </button>
      <button type="button" class="card-btn" onclick="gtcShareGarden()">
        <span class="btn-icon">üì§</span>
        Share Progress
      </button>
    </div>
  </div>
</div>

<style>
.card {
  background: white;
  border-radius: 16px;
  box-shadow: 0 8px 24px rgba(0, 0, 0, 0.1);
  padding: 24px;
  max-width: 800px;
  margin: 0 auto;
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
  border: 1px solid #e0f7e9;
}

.card-header {
  text-align: center;
  margin-bottom: 24px;
  padding-bottom: 16px;
  border-bottom: 2px solid #e8f5e9;
}

.card-title {
  margin: 0;
  color: #2d3748;
  font-size: 28px;
  font-weight: 700;
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 8px;
}

.title-icon {
  font-size: 32px;
  margin-bottom: 8px;
}

.card-subtitle {
  font-size: 16px;
  font-weight: 400;
  color: #718096;
  margin-top: 4px;
}

.card-content {
  display: flex;
  flex-direction: column;
  gap: 24px;
}

/* Stats Dashboard */
.stats-dashboard {
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  gap: 16px;
  background: linear-gradient(135deg, #f0f9f0, #e6f7ff);
  border-radius: 12px;
  padding: 20px;
  border: 1px solid #d1f0d1;
}

.stat-item {
  text-align: center;
  padding: 12px;
  background: white;
  border-radius: 8px;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);
}

.stat-label {
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 8px;
  font-size: 14px;
  color: #718096;
  margin-bottom: 8px;
  font-weight: 500;
}

.stat-icon {
  font-size: 16px;
}

.stat-value {
  font-size: 32px;
  font-weight: 700;
  color: #2d3748;
}

/* Sections */
.input-section,
.task-section,
.tips-section,
.progress-section {
  background: #f8fafc;
  border-radius: 12px;
  padding: 20px;
  border: 1px solid #e2e8f0;
}

.section-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 20px;
}

.section-title {
  margin: 0;
  color: #2d3748;
  font-size: 18px;
  font-weight: 600;
  display: flex;
  align-items: center;
  gap: 8px;
}

.section-icon {
  font-size: 20px;
}

/* Input Grid */
.input-grid {
  display: grid;
  grid-template-columns: repeat(2, 1fr);
  gap: 16px;
  margin-bottom: 20px;
}

@media (max-width: 640px) {
  .input-grid {
    grid-template-columns: 1fr;
  }
}

.input-group {
  display: flex;
  flex-direction: column;
  gap: 8px;
}

.input-group.full-width {
  grid-column: 1 / -1;
}

.input-label {
  font-size: 14px;
  font-weight: 500;
  color: #4a5568;
}

.card-input,
.card-select,
.card-textarea {
  padding: 12px;
  border: 2px solid #e2e8f0;
  border-radius: 8px;
  font-size: 14px;
  color: #2d3748;
  background: white;
  transition: all 0.2s;
  font-family: inherit;
}

.card-input:focus,
.card-select:focus,
.card-textarea:focus {
  outline: none;
  border-color: #48bb78;
  box-shadow: 0 0 0 3px rgba(72, 187, 120, 0.1);
}

.card-textarea {
  resize: vertical;
  min-height: 80px;
}

/* Quick Presets */
.quick-presets {
  margin: 16px 0;
}

.presets-label {
  font-size: 13px;
  color: #718096;
  margin-bottom: 8px;
}

.presets-grid {
  display: flex;
  gap: 8px;
  flex-wrap: wrap;
}

.preset-btn {
  padding: 8px 12px;
  background: white;
  border: 1px solid #e2e8f0;
  border-radius: 8px;
  color: #4a5568;
  font-size: 12px;
  cursor: pointer;
  transition: all 0.2s;
  white-space: nowrap;
}

.preset-btn:hover {
  background: #f7fafc;
  border-color: #cbd5e0;
  transform: translateY(-1px);
}

/* Buttons */
.card-btn {
  padding: 12px 20px;
  border-radius: 8px;
  font-size: 14px;
  font-weight: 500;
  border: none;
  cursor: pointer;
  transition: all 0.2s;
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 8px;
}

.card-btn:hover {
  transform: translateY(-1px);
  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
}

.card-btn.primary {
  background: linear-gradient(135deg, #48bb78, #38a169);
  color: white;
  width: 100%;
  margin-top: 16px;
}

.card-btn.primary:hover {
  background: linear-gradient(135deg, #38a169, #2f855a);
}

.card-btn.secondary {
  background: #edf2f7;
  color: #4a5568;
  border: 1px solid #e2e8f0;
}

.card-btn.secondary:hover {
  background: #e2e8f0;
}

.card-btn.small {
  padding: 6px 12px;
  font-size: 13px;
}

/* Task List */
.task-list {
  min-height: 200px;
  max-height: 400px;
  overflow-y: auto;
  margin-bottom: 16px;
  padding-right: 8px;
}

.task-list::-webkit-scrollbar {
  width: 6px;
}

.task-list::-webkit-scrollbar-track {
  background: #f1f5f9;
  border-radius: 3px;
}

.task-list::-webkit-scrollbar-thumb {
  background: #cbd5e0;
  border-radius: 3px;
}

.empty-state {
  text-align: center;
  padding: 40px 20px;
  color: #a0aec0;
}

.empty-icon {
  font-size: 48px;
  margin-bottom: 16px;
  opacity: 0.5;
}

.empty-subtitle {
  font-size: 13px;
  margin-top: 8px;
  color: #cbd5e0;
}

/* Task Items */
.task-item {
  background: white;
  border-radius: 8px;
  padding: 16px;
  margin-bottom: 12px;
  border: 1px solid #e2e8f0;
  transition: all 0.3s ease;
}

.task-item:hover {
  transform: translateX(4px);
  border-color: #c6f6d5;
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);
}

.task-header {
  display: flex;
  justify-content: space-between;
  align-items: flex-start;
  margin-bottom: 12px;
}

.task-text {
  font-weight: 500;
  color: #2d3748;
  flex: 1;
  margin-right: 12px;
  line-height: 1.4;
}

.task-text.completed {
  color: #a0aec0;
  text-decoration: line-through;
}

.task-meta {
  display: flex;
  flex-wrap: wrap;
  gap: 12px;
  font-size: 12px;
  color: #718096;
}

.meta-item {
  display: flex;
  align-items: center;
  gap: 4px;
}

.priority-badge {
  font-size: 11px;
  padding: 3px 8px;
  border-radius: 12px;
  font-weight: 500;
}

.priority-low {
  background: #c6f6d5;
  color: #22543d;
}

.priority-medium {
  background: #feebc8;
  color: #744210;
}

.priority-high {
  background: #fed7d7;
  color: #742a2a;
}

.priority-urgent {
  background: #fff5f5;
  color: #c53030;
  border: 1px solid #fc8181;
}

/* Task Stats */
.task-stats {
  display: flex;
  justify-content: space-between;
  padding-top: 16px;
  border-top: 1px solid #e2e8f0;
  font-size: 13px;
  color: #718096;
}

/* Tips Section */
.tip-content {
  display: flex;
  gap: 12px;
  padding: 16px;
  background: white;
  border-radius: 8px;
  margin-bottom: 20px;
  border-left: 4px solid #48bb78;
}

.tip-icon {
  font-size: 20px;
  color: #48bb78;
  flex-shrink: 0;
  margin-top: 2px;
}

.tip-text {
  font-size: 14px;
  color: #4a5568;
  line-height: 1.5;
}

.seasonal-checklist {
  margin-top: 16px;
}

.checklist-label {
  font-size: 13px;
  color: #718096;
  margin-bottom: 8px;
}

.checklist-grid {
  display: grid;
  grid-template-columns: repeat(2, 1fr);
  gap: 8px;
}

@media (max-width: 640px) {
  .checklist-grid {
    grid-template-columns: 1fr;
  }
}

.checklist-item {
  padding: 8px 12px;
  background: white;
  border: 1px solid #e2e8f0;
  border-radius: 6px;
  font-size: 13px;
  color: #4a5568;
}

/* Progress Section */
.progress-section {
  background: #f0fff4;
  border: 1px solid #c6f6d5;
}

.category-grid {
  display: grid;
  grid-template-columns: repeat(4, 1fr);
  gap: 12px;
  margin-bottom: 20px;
}

@media (max-width: 640px) {
  .category-grid {
    grid-template-columns: repeat(2, 1fr);
  }
}

.category-item {
  text-align: center;
  padding: 12px;
  background: white;
  border-radius: 8px;
  border: 1px solid #e2e8f0;
}

.category-label {
  font-size: 11px;
  color: #718096;
  margin-bottom: 4px;
  text-transform: uppercase;
  letter-spacing: 0.5px;
}

.category-value {
  font-size: 24px;
  font-weight: 700;
  color: #2d3748;
}

.monthly-stats {
  text-align: center;
  font-size: 13px;
  color: #718096;
  padding-top: 16px;
  border-top: 1px solid #e2e8f0;
}

.highlight {
  color: #2d3748;
  font-weight: 600;
}

/* Action Buttons */
.action-buttons {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 16px;
}

.btn-icon {
  font-size: 16px;
}

/* Filter Controls */
.filter-controls {
  display: flex;
  gap: 8px;
  align-items: center;
}

/* Animations */
@keyframes taskComplete {
  0% { transform: scale(1); }
  50% { transform: scale(1.02); }
  100% { transform: scale(1); }
}

.task-item.completed {
  animation: taskComplete 0.3s ease;
  background: #f0fff4;
  border-color: #c6f6d5;
}

/* Responsive */
@media (max-width: 768px) {
  .stats-dashboard {
    grid-template-columns: repeat(2, 1fr);
  }
  
  .stats-dashboard .stat-item:last-child {
    grid-column: span 2;
  }
  
  .section-header {
    flex-direction: column;
    align-items: flex-start;
    gap: 12px;
  }
  
  .filter-controls {
    width: 100%;
    justify-content: space-between;
  }
  
  .action-buttons {
    grid-template-columns: 1fr;
  }
}

@media (max-width: 480px) {
  .stats-dashboard {
    grid-template-columns: 1fr;
  }
  
  .stats-dashboard .stat-item:last-child {
    grid-column: span 1;
  }
}
</style>

<script>
/* Garden Task Checklist - Card Version */

// Task database
let gtcTasks = [];
let gtcCurrentFilter = 'all';

// Gardening tips database
const gtcGardeningTips = [
  "Water plants deeply but less frequently to encourage strong root growth.",
  "Companion planting: Grow basil with tomatoes to improve flavor and repel pests.",
  "Mulch your garden beds to retain moisture and suppress weeds.",
  "Rotate crops each year to prevent soil nutrient depletion and reduce pests.",
  "Test soil pH every 2-3 years; most vegetables prefer 6.0-7.0 pH.",
  "Use rainwater when possible - it's free of chlorine and better for plants.",
  "Prune fruit trees in late winter while they're dormant for best results.",
  "Attract pollinators by planting native flowers near your vegetable garden.",
  "Keep a garden journal to track what works and plan for next season.",
  "Use organic compost to improve soil structure and nutrient content.",
  "Stagger plantings of vegetables like lettuce and carrots for continuous harvest.",
  "Control slugs with beer traps or crushed eggshells around plants.",
  "Start seeds indoors 6-8 weeks before last frost date for early harvest.",
  "Use vertical space with trellises for cucumbers, beans, and peas.",
  "Harvest herbs in the morning when oil concentrations are highest."
];

// Seasonal tasks by month (0 = January)
const gtcSeasonalTasks = [
  ["Plan garden layout", "Order seeds", "Start indoor seeds", "Clean tools"],
  ["Prune fruit trees", "Start cool-season crops", "Prepare soil", "Test soil"],
  ["Plant peas & spinach", "Transplant seedlings", "Divide perennials", "Weed"],
  ["Plant tomatoes", "Direct sow beans", "Fertilize spring bulbs", "Mulch"],
  ["Stake tall plants", "Plant warm crops", "Thin seedlings", "Water regularly"],
  ["Harvest berries", "Monitor pests", "Weed consistently", "Deadhead flowers"],
  ["Harvest vegetables", "Water deeply", "Prune herbs", "Check for diseases"],
  ["Plant fall crops", "Harvest garlic", "Save seeds", "Fertilize"],
  ["Harvest pumpkins", "Plant cover crops", "Clean beds", "Divide irises"],
  ["Harvest root crops", "Plant garlic", "Rake leaves for compost", "Winterize"],
  ["Protect tender plants", "Clean tools", "Test soil pH", "Order catalogs"],
  ["Review garden notes", "Plan next year", "Maintain compost", "Prune grapes"]
];

// Initialize
function gtcInit() {
  // Load saved tasks
  const savedTasks = localStorage.getItem('gtcTasks');
  if (savedTasks) {
    try {
      gtcTasks = JSON.parse(savedTasks);
    } catch (e) {
      console.log("Failed to load tasks:", e);
      gtcTasks = [];
    }
  }
  
  // Set today's date
  const today = new Date().toISOString().split('T')[0];
  document.getElementById('gtc-due-date').value = today;
  
  // Load seasonal tips
  gtcLoadSeasonalTips();
  
  // Render tasks
  gtcRenderTasks();
  
  // Update stats
  gtcUpdateStats();
  
  // Set up event listeners
  document.getElementById('gtc-task').addEventListener('keypress', function(e) {
    if (e.key === 'Enter') {
      e.preventDefault();
      gtcAddTask();
    }
  });
}

// Load seasonal tips
function gtcLoadSeasonalTips() {
  const currentMonth = new Date().getMonth();
  const seasonalTasks = gtcSeasonalTasks[currentMonth];
  const container = document.getElementById('gtc-seasonal-checklist');
  container.innerHTML = '';
  
  seasonalTasks.forEach(task => {
    const item = document.createElement('div');
    item.className = 'checklist-item';
    item.textContent = '‚úì ' + task;
    container.appendChild(item);
  });
}

// Quick add
function gtcQuickAdd(task, category, priority) {
  document.getElementById('gtc-task').value = task;
  document.getElementById('gtc-category').value = category;
  document.getElementById('gtc-priority').value = priority;
  document.getElementById('gtc-task').focus();
}

// Add new task
function gtcAddTask() {
  const taskInput = document.getElementById('gtc-task');
  const taskText = taskInput.value.trim();
  
  if (!taskText) {
    taskInput.style.borderColor = '#fc8181';
    setTimeout(() => taskInput.style.borderColor = '', 1000);
    return;
  }
  
  const newTask = {
    id: Date.now().toString(),
    text: taskText,
    category: document.getElementById('gtc-category').value,
    priority: document.getElementById('gtc-priority').value,
    dueDate: document.getElementById('gtc-due-date').value,
    plant: document.getElementById('gtc-plant').value.trim(),
    notes: document.getElementById('gtc-notes').value.trim(),
    completed: false,
    createdAt: new Date().toISOString()
  };
  
  gtcTasks.unshift(newTask);
  gtcSaveTasks();
  gtcRenderTasks();
  gtcUpdateStats();
  
  // Clear form
  taskInput.value = '';
  document.getElementById('gtc-plant').value = '';
  document.getElementById('gtc-notes').value = '';
  taskInput.focus();
  
  // Visual feedback
  const btn = document.querySelector('[onclick="gtcAddTask()"]');
  const originalText = btn.innerHTML;
  btn.innerHTML = '<span class="btn-icon">‚úÖ</span> Task Added!';
  btn.style.background = '#48bb78';
  
  setTimeout(() => {
    btn.innerHTML = originalText;
    btn.style.background = '';
  }, 1500);
}

// Render tasks
function gtcRenderTasks() {
  const container = document.getElementById('gtc-output');
  
  if (gtcTasks.length === 0) {
    container.innerHTML = `
      <div class="empty-state">
        <div class="empty-icon">üåø</div>
        <div>No gardening tasks yet</div>
        <div class="empty-subtitle">Add your first task above!</div>
      </div>
    `;
    return;
  }
  
  // Filter tasks
  let filteredTasks = [...gtcTasks];
  const today = new Date().toISOString().split('T')[0];
  
  switch (gtcCurrentFilter) {
    case 'today':
      filteredTasks = filteredTasks.filter(task => task.dueDate === today);
      break;
    case 'pending':
      filteredTasks = filteredTasks.filter(task => !task.completed);
      break;
    case 'completed':
      filteredTasks = filteredTasks.filter(task => task.completed);
      break;
    case 'urgent':
      filteredTasks = filteredTasks.filter(task => 
        !task.completed && (task.priority === 'urgent' || task.priority === 'high')
      );
      break;
  }
  
  // Render tasks
  container.innerHTML = '';
  
  filteredTasks.forEach(task => {
    const taskElement = document.createElement('div');
    taskElement.className = `task-item ${task.completed ? 'completed' : ''}`;
    
    // Priority classes
    const priorityClasses = {
      low: 'priority-low',
      medium: 'priority-medium',
      high: 'priority-high',
      urgent: 'priority-urgent'
    };
    
    // Category icons
    const categoryIcons = {
      pruning: '‚úÇÔ∏è',
      watering: 'üíß',
      fertilizing: 'üå±',
      planting: 'ü™¥',
      harvesting: 'ü•ï',
      weeding: 'üåø',
      'pest-control': 'üêõ',
      maintenance: 'üîß'
    };
    
    const isToday = task.dueDate === today;
    const isOverdue = !task.completed && task.dueDate && task.dueDate < today;
    
    taskElement.innerHTML = `
      <div class="task-header">
        <div class="task-text ${task.completed ? 'completed' : ''}">
          ${categoryIcons[task.category] || 'üå±'} ${task.text}
        </div>
        <div class="task-actions">
          <span class="priority-badge ${priorityClasses[task.priority]}">
            ${task.priority}
          </span>
          <button onclick="gtcDeleteTask('${task.id}')" class="card-btn secondary small">
            üóëÔ∏è
          </button>
        </div>
      </div>
      <div class="task-meta">
        <div class="meta-item">
          <input type="checkbox" ${task.completed ? 'checked' : ''} 
                 onchange="gtcToggleTask('${task.id}')" />
          ${task.completed ? 'Completed' : 'Mark complete'}
        </div>
        ${task.plant ? `<div class="meta-item">üåø ${task.plant}</div>` : ''}
        ${task.dueDate ? `<div class="meta-item ${isOverdue ? 'overdue' : isToday ? 'today' : ''}">
          üìÖ ${task.dueDate} ${isOverdue ? '(Overdue)' : isToday ? '(Today)' : ''}
        </div>` : ''}
        ${task.notes ? `<div class="meta-item" title="${task.notes}">üìù Note</div>` : ''}
      </div>
    `;
    
    container.appendChild(taskElement);
  });
}

// Toggle task completion
function gtcToggleTask(taskId) {
  const task = gtcTasks.find(t => t.id === taskId);
  if (task) {
    task.completed = !task.completed;
    gtcSaveTasks();
    gtcRenderTasks();
    gtcUpdateStats();
  }
}

// Delete task
function gtcDeleteTask(taskId) {
  if (confirm('Delete this task?')) {
    gtcTasks = gtcTasks.filter(t => t.id !== taskId);
    gtcSaveTasks();
    gtcRenderTasks();
    gtcUpdateStats();
  }
}

// Filter tasks
function gtcFilterTasks() {
  gtcCurrentFilter = document.getElementById('gtc-filter').value;
  gtcRenderTasks();
}

// Clear completed tasks
function gtcClearCompleted() {
  if (confirm('Clear all completed tasks?')) {
    gtcTasks = gtcTasks.filter(task => !task.completed);
    gtcSaveTasks();
    gtcRenderTasks();
    gtcUpdateStats();
  }
}

// Update statistics
function gtcUpdateStats() {
  const today = new Date().toISOString().split('T')[0];
  
  const totalTasks = gtcTasks.length;
  const completedTasks = gtcTasks.filter(t => t.completed).length;
  const todayTasks = gtcTasks.filter(t => t.dueDate === today && !t.completed).length;
  const urgentTasks = gtcTasks.filter(t => 
    !t.completed && (t.priority === 'urgent' || (t.dueDate && t.dueDate <= today))
  ).length;
  
  // Update counts
  document.getElementById('gtc-today-count').textContent = todayTasks;
  document.getElementById('gtc-completed-count').textContent = completedTasks;
  document.getElementById('gtc-urgent-count').textContent = urgentTasks;
  document.getElementById('gtc-total-count').textContent = totalTasks;
  document.getElementById('gtc-due-today').textContent = todayTasks;
  
  // Completion percentage
  const completionPercent = totalTasks > 0 ? Math.round((completedTasks / totalTasks) * 100) : 0;
  document.getElementById('gtc-completion').textContent = completionPercent + '%';
  
  // Category counts
  const categories = ['pruning', 'watering', 'fertilizing', 'harvesting'];
  categories.forEach(cat => {
    const count = gtcTasks.filter(t => t.category === cat).length;
    document.getElementById(`gtc-cat-${cat}`).textContent = count;
  });
}

// Save tasks
function gtcSaveTasks() {
  localStorage.setItem('gtcTasks', JSON.stringify(gtcTasks));
}

// Export tasks
function gtcExportTasks() {
  const exportData = {
    exportedAt: new Date().toISOString(),
    totalTasks: gtcTasks.length,
    completedTasks: gtcTasks.filter(t => t.completed).length,
    tasks: gtcTasks
  };
  
  const dataStr = JSON.stringify(exportData, null, 2);
  const dataUri = 'data:application/json;charset=utf-8,' + encodeURIComponent(dataStr);
  
  const link = document.createElement('a');
  link.setAttribute('href', dataUri);
  link.setAttribute('download', `garden-tasks-${new Date().toISOString().split('T')[0]}.json`);
  link.click();
}

// Share garden progress
function gtcShareGarden() {
  const totalTasks = gtcTasks.length;
  const completedTasks = gtcTasks.filter(t => t.completed).length;
  const completionPercent = totalTasks > 0 ? Math.round((completedTasks / totalTasks) * 100) : 0;
  
  const shareText = `üå± My garden progress: ${completedTasks}/${totalTasks} tasks completed (${completionPercent}%)!`;
  
  if (navigator.share) {
    navigator.share({
      title: 'My Garden Progress',
      text: shareText
    });
  } else {
    navigator.clipboard.writeText(shareText).then(() => {
      alert('Garden progress copied to clipboard! üìã');
    });
  }
}

// New tip
function gtcNewTip() {
  const tipElement = document.querySelector('.tip-text');
  let newTip;
  const currentTip = tipElement.textContent;
  
  do {
    newTip = gtcGardeningTips[Math.floor(Math.random() * gtcGardeningTips.length)];
  } while (newTip === currentTip && gtcGardeningTips.length > 1);
  
  tipElement.textContent = newTip;
  
  // Visual feedback
  const container = document.querySelector('.tip-content');
  container.style.opacity = '0.5';
  setTimeout(() => container.style.opacity = '1', 300);
}

// Initialize
document.addEventListener('DOMContentLoaded', gtcInit);
</script>
