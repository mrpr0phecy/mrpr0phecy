<!-- cards/universal-thumbnail-maker.html -->

<h2 id="utm-title">Universal Thumbnail Maker</h2>
<p class="card-description">Perfect YouTube / TikTok / Shorts thumbnail in <10 seconds — 7 mythic templates</p>

<div class="card-body" style="display:grid;gap:16px">

  <div style="text-align:center">
    <input type="file" id="utm-upload" accept="image/*" style="display:none">
    <button onclick="document.getElementById('utm-upload').click()" class="utm-btn">
      Upload or Drop Image
    </button>
    <p style="font-size:0.88rem;margin:8px 0 0;opacity:0.8">or just drag an image anywhere on this card</p>
  </div>

  <div id="utm-preview" style="aspect-ratio:16/9;background:#000;border-radius:12px;overflow:hidden;position:relative;display:none;box-shadow:0 8px 30px rgba(0,0,0,0.6)">
    <img id="utm-img" style="width:100%;height:100%;object-fit:cover">
    <canvas id="utm-canvas" style="position:absolute;inset:0;width:100%;height:100%"></canvas>
  </div>

  <div style="display:grid;grid-template-columns:repeat(auto-fit,minmax(100px,1fr));gap:10px">
    <button onclick="utmApply(1)" class="utm-btn>Neon Pulse</button>
    <button onclick="utmApply(2)" class="utm-btn>Glass Bold</button>
    <button onclick="utmApply(3)" class="utm-btn>Cinematic</button>
    <button onclick="utmApply(4)" class="utm-btn>Fire Text</button>
    <button onclick="utmApply(5)" class="utm-btn>Gradient Pop</button>
    <button onclick="utmApply(6)" class="utm-btn>Minimal</button>
    <button onclick="utmApply(7)" class="utm-btn>Epic Glow</button>
  </div>

  <button onclick="utmDownload()" id="utm-download" class="utm-btn" style="background:var(--accent);color:#000;font-weight:bold;display:none">
    Download 1280×720 PNG
  </button>

</div>

<style>
  .utm-btn{
    padding:12px;border-radius:10px;border:1px solid var(--border);background:rgba(255,255,255,0.08);
    color:var(--muted);font-size:0.95rem;cursor:pointer;transition:all .2s
  }
  .utm-btn:hover{transform:translateY(-3px);background:rgba(255,255,255,0.15)}
</style>

<script>
  const utmCanvas = document.getElementById('utm-canvas');
  const utmCtx = utmCanvas.getContext('2d');
  const utmImg = document.getElementById('utm-img');
  let currentTemplate = 0;

  // Drag & drop + file input
  ['dragover','drop','change'].forEach(ev=>{
    document.getElementById('utm-upload').addEventListener(ev,e=>{
      e.preventDefault();
      if(e.type==='change') var file = e.target.files[0];
      else var file = e.dataTransfer.files[0];
      if(file && file.type.startsWith('image/')){
        const reader = new FileReader();
        reader.onload = e=>utmLoadImage(e.target.result);
        reader.readAsDataURL(file);
      }
    });
  });
  document.querySelector('.card-body').addEventListener('dragover',e=>e.preventDefault());
  document.querySelector('.card-body').addEventListener('drop',e=>{
    e.preventDefault();
    if(e.dataTransfer.files[0]) document.getElementById('utm-upload').files = e.dataTransfer.files;
  });

 2});

  function utmLoadImage(src){
    utmImg.src = src;
    utmImg.onload = ()=>{
      document.getElementById('utm-preview').style.display = 'block';
      utmCanvas.width = utmImg.naturalWidth;
      utmCanvas.height = utmImg.naturalHeight;
      utmApply(1); // default template
      document.getElementById('utm-download').style.display = 'block';
    };
  }

  function utmApply(template){
    currentTemplate = template;
    utmCanvas.width = utmImg.width;
    utmCanvas.height = utmImg.height;
    utmCtx.drawImage(utmImg,0,0);

    utmCtx.font = 'bold 90px Inter,system-ui,sans-serif';
    utmCtx.textAlign = 'center';
    utmCtx.textBaseline = 'middle';

    const gradient = utmCtx.createLinearGradient(0,0,0,utmCanvas.height);

    switch(template){
      case 1: // Neon Pulse
        utmCtx.fillStyle = '#00000099';
        utmCtx.fillRect(0,0,utmCanvas.width,utmCanvas.height);
        gradient.addColorStop(0,'#ff00ff'); gradient.addColorStop(1,'#00ffff');
        utmCtx.strokeStyle = gradient; utmCtx.lineWidth = 12; utmCtx.strokeText('CLICK ME',utmCanvas.width/2,utmCanvas.height/1.8);
        utmCtx.fillStyle = '#fff'; utmCtx.fillText('CLICK ME',utmCanvas.width/2,utmCanvas.height/1.8);
        break;
      case 2: // Glass Bold
        utmCtx.fillStyle = 'rgba(
