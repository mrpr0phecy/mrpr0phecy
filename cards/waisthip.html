<h2 id="waisthip-title" style="margin-top:0;">Waist‑to‑Hip Ratio Calculator</h2>

<form aria-describedby="waisthip-desc">
  <p id="waisthip-desc" class="small">Calculate your waist‑to‑hip ratio and see your health risk category.</p>

  <div class="row">
    <div class="field">
      <label for="waisthip-waist">Waist circumference (cm)</label>
      <input id="waisthip-waist" type="number" min="30" value="85" />
    </div>
    <div class="field">
      <label for="waisthip-hip">Hip circumference (cm)</label>
      <input id="waisthip-hip" type="number" min="30" value="95" />
    </div>
  </div>

  <div class="field">
    <label for="waisthip-gender">Gender</label>
    <select id="waisthip-gender">
      <option value="male" selected>Male</option>
      <option value="female">Female</option>
    </select>
  </div>

  <div class="actions">
    <button type="button" onclick="waisthipCalc(this)">Calculate</button>
    <button type="button" class="secondary" onclick="waisthipReset(this)">Reset</button>
  </div>
</form>

<div class="results" aria-live="polite">
  <div class="result">
    <div class="label">Waist‑to‑Hip Ratio</div>
    <div class="value" id="waisthip-res">–</div>
  </div>
  <div class="result">
    <div class="label">Risk category</div>
    <div class="value" id="waisthip-category">–</div>
  </div>
</div>

<details class="small" style="margin-top:12px;">
  <summary>How it works</summary>
  <p>
    Ratio = Waist ÷ Hip.  
    For men: Low risk &lt;0.9, Moderate 0.9–0.99, High ≥1.0.  
    For women: Low risk &lt;0.8, Moderate 0.8–0.89, High ≥0.9.
  </p>
</details>

<script>
function waisthipCalc(btn) {
  const card = btn.closest('.card');
  const waist = parseFloat(card.querySelector('#waisthip-waist').value) || 0;
  const hip = parseFloat(card.querySelector('#waisthip-hip').value) || 0;
  const gender = card.querySelector('#waisthip-gender').value;

  if (waist <= 0 || hip <= 0) {
    card.querySelector('#waisthip-res').textContent = "–";
    card.querySelector('#waisthip-category').textContent = "–";
    return;
  }

  const ratio = waist / hip;
  let category = "";

  if (gender === "male") {
    if (ratio < 0.9) category = "Low risk";
    else if (ratio < 1.0) category = "Moderate risk";
    else category = "High risk";
  } else {
    if (ratio < 0.8) category = "Low risk";
    else if (ratio < 0.9) category = "Moderate risk";
    else category = "High risk";
  }

  card.querySelector('#waisthip-res').textContent = ratio.toFixed(2);
  card.querySelector('#waisthip-category').textContent = category;
}

function waisthipReset(btn) {
  const card = btn.closest('.card');
  card.querySelector('form').reset();
  card.querySelector('#waisthip-res').textContent = '–';
  card.querySelector('#waisthip-category').textContent = '–';
}
</script>
