<article class="card" id="tip-card" aria-labelledby="tip-title">
  <h2 id="tip-title" style="margin-top:0;">Tip Calculator</h2>

  <form aria-describedby="tip-desc">
    <p id="tip-desc" class="small">Quickly calculate tips and split bills among friends.</p>

    <div class="field">
      <label for="billAmount">Bill amount</label>
      <div class="input"><input id="billAmount" type="number" inputmode="decimal" min="0" step="0.01" value="50.00" /></div>
    </div>

    <div class="row">
      <div class="field">
        <label for="tipPercent">Tip percentage (%)</label>
        <div class="input"><input id="tipPercent" type="number" inputmode="decimal" min="0" step="1" value="15" /></div>
      </div>
      <div class="field">
        <label for="partySize">Number of people</label>
        <div class="input"><input id="partySize" type="number" min="1" step="1" value="2" /></div>
      </div>
    </div>

    <div class="actions">
      <button type="button" onclick="tipCalculate(this)">Calculate</button>
      <button type="button" class="secondary" onclick="tipReset(this)" aria-label="Reset fields">Reset</button>
    </div>
  </form>

  <div class="results" aria-live="polite">
    <div class="result">
      <div class="label">Tip amount</div>
      <div class="value" id="tip-res-amount">–</div>
    </div>
    <div class="result">
      <div class="label">Total bill</div>
      <div class="value" id="tip-res-total">–</div>
    </div>
    <div class="result">
      <div class="label">Per person</div>
      <div class="value" id="tip-res-person">–</div>
    </div>
  </div>

  <details class="small" style="margin-top:12px;">
    <summary>How the math works</summary>
    <p>
      Tip amount = Bill × (Tip % ÷ 100).  
      Total bill = Bill + Tip.  
      Per person = Total ÷ Party size.
    </p>
  </details>
</article>

<script>
function tipCalculate(btn) {
  const card = btn.closest('.card');
  const get = id => card.querySelector('#'+id);
  const bill = parseFloat(get('billAmount').value) || 0;
  const percent = parseFloat(get('tipPercent').value) || 0;
  const people = parseInt(get('partySize').value, 10) || 1;

  const tip = bill * (percent / 100);
  const total = bill + tip;
  const perPerson = total / people;

  const fmtMoney = n => new Intl.NumberFormat(undefined, { style: 'currency', currency: 'GBP' }).format(n);
  card.querySelector('#tip-res-amount').textContent = fmtMoney(tip);
  card.querySelector('#tip-res-total').textContent  = fmtMoney(total);
  card.querySelector('#tip-res-person').textContent = fmtMoney(perPerson);
}

function tipReset(btn) {
  const card = btn.closest('.card');
  const form = card.querySelector('form');
  form.reset();
  card.querySelector('#tip-res-amount').textContent = '–';
  card.querySelector('#tip-res-total').textContent  = '–';
  card.querySelector('#tip-res-person').textContent = '–';
}
</script>
