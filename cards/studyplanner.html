function printStudyPlan() {
  const printWindow = window.open('', '_blank');
  const content = `
    <html>
      <head><title>Study Plan</title></head>
      <body>
        <h1>Study Plan - ${new Date().toLocaleDateString()}</h1>
        <div>Total Hours: ${studySessions.reduce((a,b) => a + b.duration, 0)}</div>
        <div>Upcoming Sessions: ${studySessions.filter(s => 
          new Date(s.date) >= new Date() && !s.completed).length}</div>
        <table border="1">
          <tr>
            <th>Subject</th><th>Date</th><th>Duration</th><th>Priority</th>
          </tr>
          ${studySessions.map(s => `
            <tr>
              <td>${s.subject}</td>
              <td>${s.date}</td>
              <td>${s.duration}h</td>
              <td>${s.priority}</td>
            </tr>
          `).join('')}
        </table>
      </body>
    </html>
  `;
  
  printWindow.document.write(content);
  printWindow.document.close();
  printWindow.print();
}
