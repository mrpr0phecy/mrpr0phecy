<!-- ============================================ -->
<!-- ENHANCED ASTRONOMY TOOLS & PLANET EXPLORER -->
<!-- ============================================ -->
<div class="enhanced-astronomy-card">

  <!-- CARD HEADER WITH QUICK NAV -->
  <div class="astro-header">
    <h1>üåå Astronomy Explorer Suite</h1>
    <div class="astro-subtitle">Interactive space physics calculator & solar system database</div>
    
    <div class="quick-nav">
      <span class="nav-btn" data-section="tools">üöÄ Tools</span>
      <span class="nav-btn" data-section="visualizer">ü™ê 3D View</span>
      <span class="nav-btn" data-section="database">üìä Database</span>
      <span class="nav-btn" data-section="missions">üõ∞Ô∏è Missions</span>
      <span class="nav-btn" data-section="learn">üìö Learn</span>
    </div>
  </div>

  <!-- MAIN GRID LAYOUT -->
  <div class="astro-main-grid">
    
    <!-- LEFT COLUMN: TOOLS & CALCULATORS -->
    <div class="astro-col tools-col" id="tools-section">
      <div class="section-header">
        <h2>üî≠ Astronomy Calculators</h2>
        <div class="tool-count">5 Interactive Tools</div>
      </div>

      <!-- TOOL SELECTOR -->
      <div class="tool-selector">
        <div class="tool-tabs">
          <button class="tool-tab active" data-tool="orbit">üåç Orbital Period</button>
          <button class="tool-tab" data-tool="escape">üöÄ Escape Velocity</button>
          <button class="tool-tab" data-tool="light">‚ú® Light Distance</button>
          <button class="tool-tab" data-tool="blackhole">‚ö´ Black Hole</button>
          <button class="tool-tab" data-tool="redshift">üî¥ Redshift</button>
        </div>

        <!-- TOOL CONTENTS -->
        <div class="tool-content active" id="orbit-tool">
          <h3>Kepler's Third Law Calculator</h3>
          <div class="input-group">
            <label>Semi-major Axis (a):</label>
            <div class="input-with-unit">
              <input type="range" min="0.1" max="50" step="0.1" value="1" id="orbit-slider">
              <span id="orbit-value">1.0 AU</span>
            </div>
            <div class="slider-labels">
              <span>Mercury (0.39)</span>
              <span>Earth (1.0)</span>
              <span>Jupiter (5.2)</span>
              <span>Neptune (30)</span>
            </div>
          </div>
          <div class="input-group">
            <label>Central Mass (M):</label>
            <input type="number" id="orbit-mass" value="1" step="0.01">
            <div class="unit">Sun = 1</div>
          </div>
          <button class="calculate-btn" onclick="calculateOrbit()">Calculate Period</button>
        </div>

        <div class="tool-content" id="escape-tool">
          <h3>Escape Velocity Calculator</h3>
          <!-- Similar detailed inputs for escape velocity -->
          <div class="planet-presets">
            <h4>Planet Presets:</h4>
            <div class="preset-grid">
              <div class="preset" data-mass="5.97" data-radius="6371">üåç Earth: 11.2 km/s</div>
              <div class="preset" data-mass="0.642" data-radius="3390">‚ôÇÔ∏è Mars: 5.0 km/s</div>
              <div class="preset" data-mass="1898" data-radius="69911">‚ôÉ Jupiter: 59.5 km/s</div>
              <div class="preset" data-mass="0.073" data-radius="1737">üåô Moon: 2.4 km/s</div>
            </div>
          </div>
        </div>

        <!-- Additional tools content would go here -->
      </div>

      <!-- REAL-TIME CALCULATIONS -->
      <div class="real-time-calc">
        <h3>‚è±Ô∏è Real-time Calculations</h3>
        <div class="rtc-display">
          <div class="rtc-item">
            <div class="rtc-label">Light to Mars:</div>
            <div class="rtc-value" id="light-to-mars">3.2 - 22.4 min</div>
          </div>
          <div class="rtc-item">
            <div class="rtc-label">Your weight on Jupiter:</div>
            <div class="rtc-value" id="jupiter-weight">Calculating...</div>
          </div>
          <div class="rtc-item">
            <div class="rtc-label">Hubble Distance:</div>
            <div class="rtc-value" id="hubble-view">13.4 billion ly</div>
          </div>
        </div>
      </div>
    </div>

    <!-- MIDDLE COLUMN: VISUALIZATION -->
    <div class="astro-col visualizer-col" id="visualizer-section">
      <div class="section-header">
        <h2>ü™ê Solar System Visualizer</h2>
        <div class="view-controls">
          <button class="view-btn active" data-view="scale">Scale View</button>
          <button class="view-btn" data-view="orbits">Orbit View</button>
          <button class="view-btn" data-view="comparison">Size Comparison</button>
        </div>
      </div>

      <!-- VISUALIZATION AREA -->
      <div class="visualization-area">
        <div class="solar-system">
          <!-- Sun -->
          <div class="celestial-body sun" data-info="Sun - Temp: 5,500¬∞C">
            <div class="body-label">Sun</div>
          </div>
          
          <!-- Planets will be positioned here with JavaScript -->
          <div class="orbit-path" style="--orbit: 0.39">
            <div class="celestial-body planet mercury" data-info="Mercury - Closest to Sun">
              <div class="body-label">Mercury</div>
            </div>
          </div>
          
          <div class="orbit-path" style="--orbit: 0.72">
            <div class="celestial-body planet venus" data-info="Venus - Hottest Planet">
              <div class="body-label">Venus</div>
            </div>
          </div>
          
          <!-- Continue for other planets -->
        </div>
      </div>

      <!-- PLANET DETAIL PANEL -->
      <div class="detail-panel">
        <div class="planet-card" id="earth-card">
          <div class="planet-header">
            <div class="planet-icon">üåç</div>
            <div class="planet-title">
              <h3>Earth</h3>
              <div class="planet-subtitle">The Blue Planet</div>
            </div>
          </div>
          <div class="planet-stats">
            <div class="stat">
              <div class="stat-label">Distance from Sun</div>
              <div class="stat-value">1 AU</div>
            </div>
            <div class="stat">
              <div class="stat-label">Orbital Period</div>
              <div class="stat-value">365.25 days</div>
            </div>
            <div class="stat">
              <div class="stat-label">Surface Temp</div>
              <div class="stat-value">15¬∞C</div>
            </div>
            <div class="stat">
              <div class="stat-label">Life?</div>
              <div class="stat-value yes">Yes</div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- RIGHT COLUMN: DATABASE & LEARNING -->
    <div class="astro-col learning-col" id="database-section">
      <div class="section-header">
        <h2>üìö Astronomy Database</h2>
        <div class="search-box">
          <input type="text" placeholder="Search planets, stars, concepts..." id="astro-search">
          <button>üîç</button>
        </div>
      </div>

      <!-- QUICK FACTS -->
      <div class="quick-facts">
        <h3>üí° Did You Know?</h3>
        <div class="fact-carousel">
          <div class="fact">A day on Venus is longer than a year on Venus.</div>
          <div class="fact">Jupiter's Great Red Spot has been raging for over 400 years.</div>
          <div class="fact">Neptune radiates 2.6 times more heat than it receives from the Sun.</div>
        </div>
      </div>

      <!-- CONCEPT EXPLAINER -->
      <div class="concept-explainer">
        <h3>üéì Concept: Kepler's Laws</h3>
        <div class="concept-content">
          <div class="law">
            <h4>First Law (Ellipses)</h4>
            <p>Planets move in elliptical orbits with the Sun at one focus.</p>
          </div>
          <div class="law">
            <h4>Second Law (Equal Areas)</h4>
            <p>A line joining a planet and the Sun sweeps equal areas in equal times.</p>
          </div>
          <div class="law">
            <h4>Third Law (Harmonic Law)</h4>
            <p>The square of the orbital period is proportional to the cube of the semi-major axis.</p>
            <div class="formula">T¬≤ ‚àù a¬≥</div>
          </div>
        </div>
      </div>

      <!-- UPCOMING EVENTS -->
      <div class="events">
        <h3>üìÖ Upcoming Astronomy Events</h3>
        <div class="event-list">
          <div class="event">
            <div class="event-date">March 24-25</div>
            <div class="event-title">Penumbral Lunar Eclipse</div>
          </div>
          <div class="event">
            <div class="event-date">April 8</div>
            <div class="event-title">Total Solar Eclipse (North America)</div>
          </div>
          <div class="event">
            <div class="event-date">May 6-7</div>
            <div class="event-title">Eta Aquariid Meteor Shower Peak</div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- INTERACTIVE FEATURES ROW -->
  <div class="interactive-features">
    
    <!-- MISSION SIMULATOR -->
    <div class="feature mission-simulator" id="missions-section">
      <h3>üõ∞Ô∏è Mission Simulator</h3>
      <div class="mission-control">
        <div class="mission-select">
          <select id="mission-select">
            <option value="voyager">Voyager 1 (Interstellar)</option>
            <option value="perseverance">Perseverance (Mars)</option>
            <option value="jameswebb">James Webb Telescope</option>
            <option value="artemis">Artemis (Moon)</option>
          </select>
          <button class="launch-btn" onclick="launchMission()">üöÄ Launch Simulation</button>
        </div>
        
        <div class="mission-timeline">
          <div class="timeline-event" data-year="1977">Voyager 1 Launch</div>
          <div class="timeline-event" data-year="1979">Jupiter Flyby</div>
          <div class="timeline-event" data-year="2012">Entered Interstellar Space</div>
          <div class="timeline-event" data-year="2025">Current Position</div>
        </div>
        
        <div class="mission-stats">
          <div class="mission-stat">
            <div class="stat-label">Distance from Earth</div>
            <div class="stat-value" id="mission-distance">24.3 billion km</div>
          </div>
          <div class="mission-stat">
            <div class="stat-label">Signal Travel Time</div>
            <div class="stat-value" id="signal-time">22.5 hours</div>
          </div>
          <div class="mission-stat">
            <div class="stat-label">Speed</div>
            <div class="stat-value" id="mission-speed">61,500 km/h</div>
          </div>
        </div>
      </div>
    </div>

    <!-- LEARNING MODULES -->
    <div class="feature learning-modules" id="learn-section">
      <h3>üéØ Learning Modules</h3>
      <div class="module-grid">
        <div class="module" data-topic="gravitation">
          <div class="module-icon">üåé</div>
          <div class="module-title">Newton's Gravity</div>
          <div class="module-desc">Calculate gravitational forces</div>
          <button class="module-btn">Start</button>
        </div>
        <div class="module" data-topic="telescopes">
          <div class="module-icon">üî≠</div>
          <div class="module-title">Telescope Math</div>
          <div class="module-desc">Magnification & resolution</div>
          <button class="module-btn">Start</button>
        </div>
        <div class="module" data-topic="exoplanets">
          <div class="module-icon">ü™ê</div>
          <div class="module-title">Exoplanet Detection</div>
          <div class="module-desc">Transit method calculations</div>
          <button class="module-btn">Start</button>
        </div>
        <div class="module" data-topic="cosmology">
          <div class="module-icon">üåå</div>
          <div class="module-title">Hubble's Law</div>
          <div class="module-desc">Expanding universe</div>
          <button class="module-btn">Start</button>
        </div>
      </div>
    </div>
  </div>

  <!-- FOOTER WITH DATA SOURCES -->
  <div class="astro-footer">
    <div class="data-sources">
      <strong>Data Sources:</strong> NASA JPL, ESA Hubble, Minor Planet Center
    </div>
    <div class="last-updated">
      Last updated: <span id="current-date">Loading...</span>
    </div>
    <div class="share-buttons">
      <button class="share-btn" onclick="shareCard()">üì§ Share This Card</button>
      <button class="print-btn" onclick="printCard()">üñ®Ô∏è Printable Version</button>
      <button class="quiz-btn" onclick="startAstronomyQuiz()">üéØ Take Astronomy Quiz</button>
    </div>
  </div>
</div>

<!-- ============================================ -->
<!-- ENHANCED STYLES -->
<!-- ============================================ -->
<style>
.enhanced-astronomy-card {
  font-family: 'Segoe UI', -apple-system, system-ui;
  background: linear-gradient(135deg, #0a0e17 0%, #1a1f2e 100%);
  color: #e6faff;
  border-radius: 20px;
  padding: 25px;
  max-width: 1400px;
  margin: 20px auto;
  box-shadow: 0 20px 60px rgba(0, 20, 40, 0.5);
  border: 1px solid rgba(45, 212, 255, 0.1);
}

.astro-header {
  text-align: center;
  margin-bottom: 30px;
  padding-bottom: 20px;
  border-bottom: 1px solid rgba(45, 212, 255, 0.2);
}

.astro-header h1 {
  font-size: 2.5em;
  background: linear-gradient(90deg, #2dd4ff, #8a2be2);
  -webkit-background-clip: text;
  background-clip: text;
  color: transparent;
  margin: 0;
}

.astro-subtitle {
  color: rgba(230, 250, 255, 0.8);
  font-size: 1.1em;
  margin-top: 10px;
}

.quick-nav {
  display: flex;
  justify-content: center;
  gap: 15px;
  margin-top: 25px;
  flex-wrap: wrap;
}

.nav-btn {
  background: rgba(45, 212, 255, 0.1);
  padding: 10px 20px;
  border-radius: 50px;
  cursor: pointer;
  transition: all 0.3s;
  border: 1px solid rgba(45, 212, 255, 0.3);
}

.nav-btn:hover {
  background: rgba(45, 212, 255, 0.2);
  transform: translateY(-2px);
}

/* Main Grid Layout */
.astro-main-grid {
  display: grid;
  grid-template-columns: 1fr 1.5fr 1fr;
  gap: 25px;
  margin-bottom: 30px;
}

@media (max-width: 1200px) {
  .astro-main-grid {
    grid-template-columns: 1fr;
  }
}

.astro-col {
  background: rgba(20, 25, 40, 0.6);
  border-radius: 15px;
  padding: 20px;
  border: 1px solid rgba(255, 255, 255, 0.05);
}

.section-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 20px;
  padding-bottom: 15px;
  border-bottom: 1px solid rgba(45, 212, 255, 0.2);
}

.tool-selector {
  background: rgba(0, 0, 0, 0.3);
  border-radius: 10px;
  padding: 15px;
}

.tool-tabs {
  display: flex;
  gap: 10px;
  margin-bottom: 20px;
  flex-wrap: wrap;
}

.tool-tab {
  background: rgba(255, 255, 255, 0.05);
  border: 1px solid rgba(255, 255, 255, 0.1);
  padding: 12px 20px;
  border-radius: 8px;
  cursor: pointer;
  transition: all 0.3s;
  color: #e6faff;
}

.tool-tab.active {
  background: rgba(45, 212, 255, 0.2);
  border-color: #2dd4ff;
  color: #2dd4ff;
}

.tool-content {
  display: none;
}

.tool-content.active {
  display: block;
  animation: fadeIn 0.5s;
}

@keyframes fadeIn {
  from { opacity: 0; }
  to { opacity: 1; }
}

.input-group {
  margin-bottom: 20px;
}

.input-group label {
  display: block;
  margin-bottom: 8px;
  color: rgba(230, 250, 255, 0.9);
}

.input-with-unit {
  display: flex;
  align-items: center;
  gap: 15px;
}

input[type="range"] {
  flex: 1;
  height: 6px;
  background: rgba(45, 212, 255, 0.2);
  border-radius: 3px;
  outline: none;
}

.calculate-btn {
  background: linear-gradient(90deg, #2dd4ff, #4169e1);
  color: white;
  border: none;
  padding: 15px 30px;
  border-radius: 10px;
  cursor: pointer;
  font-weight: bold;
  width: 100%;
  margin-top: 20px;
  transition: transform 0.3s;
}

.calculate-btn:hover {
  transform: translateY(-2px);
}

/* Visualization Area */
.visualization-area {
  background: rgba(0, 10, 20, 0.7);
  border-radius: 15px;
  padding: 20px;
  height: 400px;
  position: relative;
  overflow: hidden;
}

.solar-system {
  position: relative;
  width: 100%;
  height: 100%;
}

.sun {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  width: 60px;
  height: 60px;
  background: radial-gradient(circle, #ffd700, #ff8c00);
  border-radius: 50%;
  box-shadow: 0 0 60px #ff8c00;
}

.orbit-path {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  border: 1px dashed rgba(45, 212, 255, 0.3);
  border-radius: 50%;
}

.orbit-path::before {
  content: '';
  position: absolute;
  width: calc(var(--orbit) * 100%);
  height: calc(var(--orbit) * 100%);
  border-radius: 50%;
}

.planet {
  position: absolute;
  width: 20px;
  height: 20px;
  border-radius: 50%;
  transform: translate(-50%, -50%);
  cursor: pointer;
  transition: transform 0.3s;
}

.planet:hover {
  transform: translate(-50%, -50%) scale(1.5);
}

.mercury { background: #8b4513; }
.venus { background: #daa520; left: 15%; }
.earth { background: #1e90ff; left: 25%; }
.mars { background: #ff4500; left: 35%; }

/* Real-time Calculations */
.real-time-calc {
  background: rgba(45, 212, 255, 0.1);
  border-radius: 10px;
  padding: 15px;
  margin-top: 20px;
}

.rtc-display {
  display: grid;
  gap: 10px;
}

.rtc-item {
  display: flex;
  justify-content: space-between;
  padding: 10px;
  background: rgba(0, 0, 0, 0.3);
  border-radius: 8px;
}

/* Interactive Features */
.interactive-features {
  display: grid;
  grid-template-columns: 2fr 1fr;
  gap: 25px;
  margin-top: 30px;
}

@media (max-width: 1200px) {
  .interactive-features {
    grid-template-columns: 1fr;
  }
}

.mission-control {
  background: rgba(0, 20, 40, 0.6);
  border-radius: 15px;
  padding: 20px;
}

.mission-timeline {
  display: flex;
  justify-content: space-between;
  position: relative;
  margin: 30px 0;
  padding: 20px 0;
}

.mission-timeline::before {
  content: '';
  position: absolute;
  top: 50%;
  left: 0;
  right: 0;
  height: 2px;
  background: rgba(45, 212, 255, 0.3);
}

.timeline-event {
  background: rgba(45, 212, 255, 0.2);
  padding: 10px 15px;
  border-radius: 8px;
  position: relative;
  z-index: 1;
  text-align: center;
}

.module-grid {
  display: grid;
  grid-template-columns: repeat(2, 1fr);
  gap: 15px;
}

.module {
  background: rgba(30, 35, 50, 0.7);
  border-radius: 10px;
  padding: 15px;
  text-align: center;
  transition: transform 0.3s;
}

.module:hover {
  transform: translateY(-5px);
}

/* Footer */
.astro-footer {
  margin-top: 30px;
  padding-top: 20px;
  border-top: 1px solid rgba(45, 212, 255, 0.2);
  display: flex;
  justify-content: space-between;
  align-items: center;
  flex-wrap: wrap;
  gap: 15px;
}

.share-buttons {
  display: flex;
  gap: 10px;
}

.share-btn, .print-btn, .quiz-btn {
  background: rgba(45, 212, 255, 0.1);
  border: 1px solid rgba(45, 212, 255, 0.3);
  color: #e6faff;
  padding: 10px 20px;
  border-radius: 8px;
  cursor: pointer;
  transition: all 0.3s;
}

.quiz-btn {
  background: linear-gradient(90deg, #ff416c, #ff4b2b);
  border: none;
}

.share-btn:hover, .print-btn:hover, .quiz-btn:hover {
  transform: translateY(-2px);
  box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
}
</style>

<!-- ============================================ -->
<!-- ENHANCED JAVASCRIPT -->
<!-- ============================================ -->
<script>
// Wait for DOM to be ready
document.addEventListener('DOMContentLoaded', function() {
  console.log('üöÄ Enhanced Astronomy Card Initializing...');
  
  // Initialize all components
  initNavigation();
  initToolTabs();
  initPlanetVisualizer();
  initRealTimeCalculations();
  initMissionSimulator();
  updateCurrentDate();
  
  console.log('‚úÖ Enhanced Astronomy Card Ready!');
});

// Navigation between sections
function initNavigation() {
  const navBtns = document.querySelectorAll('.nav-btn');
  const sections = ['tools', 'visualizer', 'database', 'missions', 'learn'];
  
  navBtns.forEach(btn => {
    btn.addEventListener('click', function() {
      const targetSection = this.dataset.section;
      
      // Update active nav button
      navBtns.forEach(b => b.classList.remove('active'));
      this.classList.add('active');
      
      // Scroll to section
      const sectionElement = document.getElementById(`${targetSection}-section`);
      if (sectionElement) {
        sectionElement.scrollIntoView({ behavior: 'smooth', block: 'start' });
      }
    });
  });
}

// Tool tabs functionality
function initToolTabs() {
  const toolTabs = document.querySelectorAll('.tool-tab');
  const toolContents = document.querySelectorAll('.tool-content');
  
  toolTabs.forEach(tab => {
    tab.addEventListener('click', function() {
      const toolId = this.dataset.tool;
      
      // Update active tab
      toolTabs.forEach(t => t.classList.remove('active'));
      this.classList.add('active');
      
      // Show corresponding content
      toolContents.forEach(content => {
        content.classList.remove('active');
        if (content.id === `${toolId}-tool`) {
          content.classList.add('active');
        }
      });
    });
  });
  
  // Initialize slider feedback
  const orbitSlider = document.getElementById('orbit-slider');
  const orbitValue = document.getElementById('orbit-value');
  
  orbitSlider.addEventListener('input', function() {
    orbitValue.textContent = `${this.value} AU`;
  });
}

// Planet visualizer
function initPlanetVisualizer() {
  const planets = document.querySelectorAll('.planet');
  
  planets.forEach(planet => {
    planet.addEventListener('click', function() {
      const planetName = this.classList[1]; // mercury, venus, etc.
      showPlanetDetails(planetName);
    });
  });
  
  // Add animation to planets
  setInterval(() => {
    planets.forEach((planet, index) => {
      const currentLeft = parseInt(planet.style.left) || (index + 1) * 15;
      planet.style.left = `${(currentLeft + 0.5) % 100}%`;
    });
  }, 100);
}

function showPlanetDetails(planetName) {
  const planetData = {
    mercury: {
      name: "Mercury",
      icon: "‚òø",
      facts: ["Smallest planet", "No atmosphere", "Extreme temperature swings"]
    },
    venus: {
      name: "Venus",
      icon: "‚ôÄ",
      facts: ["Hottest planet", "Retrograde rotation", "Thick CO2 atmosphere"]
    },
    earth: {
      name: "Earth",
      icon: "üåç",
      facts: ["Only known life", "71% water", "One natural satellite"]
    },
    mars: {
      name: "Mars",
      icon: "‚ôÇ",
      facts: ["Red planet", "Olympus Mons", "Two small moons"]
    }
  };
  
  const data = planetData[planetName] || planetData.earth;
  alert(`Selected: ${data.name}\n\nInteresting Facts:\n‚Ä¢ ${data.facts.join('\n‚Ä¢ ')}`);
}

// Real-time calculations
function initRealTimeCalculations() {
  updateRealTimeCalculations();
  setInterval(updateRealTimeCalculations, 60000); // Update every minute
}

function updateRealTimeCalculations() {
  // Calculate weight on Jupiter (2.36 √ó Earth weight)
  const earthWeight = 70; // Default 70kg
  const jupiterWeight = (earthWeight * 2.36).toFixed(1);
  document.getElementById('jupiter-weight').textContent = `${jupiterWeight} kg`;
  
  // Light to Mars varies between 3.2 and 22.4 minutes
  const minTime = 3.2;
  const maxTime = 22.4;
  const currentTime = (Math.random() * (maxTime - minTime) + minTime).toFixed(1);
  document.getElementById('light-to-mars').textContent = `${currentTime} minutes`;
}

// Mission simulator
function initMissionSimulator() {
  const missionSelect = document.getElementById('mission-select');
  const launchBtn = document.querySelector('.launch-btn');
  
  missionSelect.addEventListener('change', updateMissionStats);
  launchBtn.addEventListener('click', launchMission);
  
  // Initial stats
  updateMissionStats();
}

function updateMissionStats() {
  const mission = document.getElementById('mission-select').value;
  
  const missions = {
    voyager: {
      distance: "24.3 billion km",
      signal: "22.5 hours",
      speed: "61,500 km/h"
    },
    perseverance: {
      distance: "225 million km",
      signal: "12.5 minutes",
      speed: "39,600 km/h"
    },
    jameswebb: {
      distance: "1.5 million km",
      signal: "5 seconds",
      speed: "0 km/h (stationary)"
    },
    artemis: {
      distance: "384,400 km",
      signal: "1.3 seconds",
      speed: "39,000 km/h"
    }
  };
  
  const data = missions[mission] || missions.voyager;
  
  document.getElementById('mission-distance').textContent = data.distance;
  document.getElementById('signal-time').textContent = data.signal;
  document.getElementById('mission-speed').textContent = data.speed;
}

function launchMission() {
  const mission = document.getElementById('mission-select').value;
  const missionName = document.getElementById('mission-select').options[
    document.getElementById('mission-select').selectedIndex
  ].text.split(' (')[0];
  
  // Animation
  const launchBtn = document.querySelector('.launch-btn');
  launchBtn.textContent = "üöÄ LAUNCHING...";
  launchBtn.disabled = true;
  
  setTimeout(() => {
    alert(`üöÄ ${missionName} launched successfully!\n\nMission simulation started. Follow real-time updates on NASA.gov.`);
    launchBtn.textContent = "üöÄ Launch Simulation";
    launchBtn.disabled = false;
  }, 2000);
}

// Calculate orbital period (Kepler's Third Law)
function calculateOrbit() {
  const a = parseFloat(document.getElementById('orbit-slider').value);
  const M = parseFloat(document.getElementById('orbit-mass').value);
  
  if (!a || !M || a <= 0 || M <= 0) {
    alert("Please enter valid values for semi-major axis and mass.");
    return;
  }
  
  // T¬≤ = a¬≥/M
  const T = Math.sqrt(Math.pow(a, 3) / M);
  
  // Display result in a nice modal
  const resultHTML = `
    <div style="background: rgba(0,0,0,0.8); padding: 20px; border-radius: 10px; border: 2px solid #2dd4ff;">
      <h3 style="color: #2dd4ff; margin-top: 0;">üåç Kepler's Third Law Result</h3>
      <div style="font-size: 24px; color: #39ff14; margin: 15px 0; text-align: center;">
        Orbital Period: <strong>${T.toFixed(2)} years</strong>
      </div>
      <div style="color: #e6faff; background: rgba(30,30,30,0.5); padding: 15px; border-radius: 8px;">
        <strong>Calculation:</strong><br>
        T¬≤ = a¬≥ / M<br>
        T = ‚àö(${a}¬≥ / ${M})<br>
        T = ‚àö(${Math.pow(a, 3).toFixed(2)} / ${M})<br>
        T = ${T.toFixed(2)} years
      </div>
      <div style="margin-top: 15px; color: #ffa500;">
        <strong>Comparison:</strong><br>
        ${getOrbitComparison(T, a)}
      </div>
    </div>
  `;
  
  // Create and show modal
  const modal = document.createElement('div');
  modal.id = 'orbit-result-modal';
  modal.style.cssText = `
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: rgba(0,0,0,0.7);
    display: flex;
    justify-content: center;
    align-items: center;
    z-index: 1000;
    padding: 20px;
  `;
  modal.innerHTML = resultHTML;
  
  modal.addEventListener('click', function(e) {
    if (e.target === this) {
      document.body.removeChild(this);
    }
  });
  
  document.body.appendChild(modal);
}

function getOrbitComparison(T, a) {
  if (a === 1 && T === 1) return "This is Earth's orbit around the Sun! üåç";
  if (T < 1) return `Orbits faster than Earth (${(1/T).toFixed(1)}√ó faster)`;
  if (T > 1) return `Orbits slower than Earth (${T.toFixed(1)}√ó slower)`;
  return "Similar orbital characteristics to Earth.";
}

// Utility functions
function updateCurrentDate() {
  const now = new Date();
  const options = { year: 'numeric', month: 'long', day: 'numeric' };
  document.getElementById('current-date').textContent = now.toLocaleDateString('en-US', options);
}

function shareCard() {
  const shareData = {
    title: 'Astronomy Explorer Suite',
    text: 'Check out this awesome interactive astronomy tools card!',
    url: window.location.href
  };
  
  if (navigator.share) {
    navigator.share(shareData);
  } else {
    // Fallback: copy to clipboard
    navigator.clipboard.writeText(shareData.url);
    alert('Link copied to clipboard! üìã');
  }
}

function printCard() {
  window.print();
}

function startAstronomyQuiz() {
  const questions = [
    {
      q: "Which planet has the most moons?",
      a: ["Jupiter", "Saturn", "Uranus", "Neptune"],
      correct: 1 // Saturn (as of 2024)
    },
    {
      q: "What is the speed of light?",
      a: ["299,792 km/s", "150,000 km/s", "1,080,000 km/h", "671 million mph"],
      correct: 0
    },
    {
      q: "Which is NOT a type of galaxy?",
      a: ["Spiral", "Elliptical", "Irregular", "Orbital"],
      correct: 3
    }
  ];
  
  let score = 0;
  
  questions.forEach((question, index) => {
    const answer = prompt(`Question ${index + 1}: ${question.q}\n\nOptions:\n1. ${question.a[0]}\n2. ${question.a[1]}\n3. ${question.a[2]}\n4. ${question.a[3]}\n\nEnter 1-4:`);
    
    if (parseInt(answer) - 1 === question.correct) {
      score++;
      alert("‚úÖ Correct!");
    } else {
      alert(`‚ùå Incorrect. The correct answer is: ${question.a[question.correct]}`);
    }
  });
  
  alert(`üéØ Quiz Complete!\n\nYour score: ${score}/${questions.length}\n${score === questions.length ? "Perfect! You're an astronomy expert! üåü" : "Good job! Keep learning!"}`);
}

// Initialize on load
setTimeout(() => {
  if (typeof initAstronomyTools === 'function') {
    initAstronomyTools();
  }
}, 100);
</script>
