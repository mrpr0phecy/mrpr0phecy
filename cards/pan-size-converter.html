<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pan Size Converter</title>
    <style>
        * {
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            margin: 0;
            padding: 20px;
            background-color: #f9f9f9;
            color: #333;
            line-height: 1.6;
        }
        
        .container {
            max-width: 800px;
            margin: 0 auto;
            background-color: white;
            border-radius: 12px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
            padding: 30px;
            margin-top: 20px;
        }
        
        h1 {
            color: #2c5530;
            margin-top: 0;
            font-weight: 600;
            border-bottom: 2px solid #e8f4ea;
            padding-bottom: 10px;
        }
        
        .description {
            color: #555;
            margin-bottom: 25px;
            font-size: 16px;
        }
        
        .converter-form {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin-bottom: 30px;
        }
        
        @media (max-width: 600px) {
            .converter-form {
                grid-template-columns: 1fr;
                gap: 15px;
            }
        }
        
        .pan-section {
            background-color: #f8fcf9;
            padding: 20px;
            border-radius: 8px;
            border: 1px solid #e0eae3;
        }
        
        .pan-section h3 {
            margin-top: 0;
            color: #2c5530;
            font-size: 18px;
        }
        
        .pan-dimensions {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
        }
        
        .form-group {
            margin-bottom: 15px;
        }
        
        label {
            display: block;
            margin-bottom: 6px;
            font-weight: 500;
            color: #444;
        }
        
        input, select {
            width: 100%;
            padding: 10px 12px;
            border: 1px solid #ccc;
            border-radius: 6px;
            font-size: 16px;
            transition: border-color 0.3s;
        }
        
        input:focus, select:focus {
            outline: none;
            border-color: #4a9c5f;
            box-shadow: 0 0 0 2px rgba(74, 156, 95, 0.1);
        }
        
        .pan-shape-selector {
            display: flex;
            gap: 10px;
            margin-bottom: 15px;
        }
        
        .shape-option {
            flex: 1;
            text-align: center;
            padding: 10px;
            border: 2px solid #e0eae3;
            border-radius: 6px;
            cursor: pointer;
            transition: all 0.2s;
            font-weight: 500;
        }
        
        .shape-option:hover {
            background-color: #f0f7f2;
        }
        
        .shape-option.selected {
            background-color: #4a9c5f;
            color: white;
            border-color: #4a9c5f;
        }
        
        .convert-button {
            grid-column: span 2;
            background-color: #4a9c5f;
            color: white;
            border: none;
            padding: 14px;
            font-size: 16px;
            font-weight: 600;
            border-radius: 8px;
            cursor: pointer;
            transition: background-color 0.3s;
        }
        
        @media (max-width: 600px) {
            .convert-button {
                grid-column: span 1;
            }
        }
        
        .convert-button:hover {
            background-color: #3a7c4a;
        }
        
        .convert-button:active {
            transform: translateY(1px);
        }
        
        .results {
            background-color: #f8fcf9;
            border-radius: 8px;
            padding: 20px;
            margin-top: 20px;
            border: 1px solid #e0eae3;
        }
        
        .results h3 {
            margin-top: 0;
            color: #2c5530;
        }
        
        .scale-factor {
            font-size: 32px;
            font-weight: 700;
            color: #2c5530;
            text-align: center;
            margin: 15px 0;
        }
        
        .instructions {
            background-color: #fff8e1;
            border-left: 4px solid #ffb300;
            padding: 15px;
            margin-top: 25px;
            border-radius: 0 6px 6px 0;
        }
        
        .instructions h4 {
            margin-top: 0;
            color: #b06c00;
        }
        
        .examples {
            margin-top: 30px;
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 15px;
        }
        
        .example {
            background-color: #f5f5f5;
            padding: 15px;
            border-radius: 6px;
            font-size: 14px;
            cursor: pointer;
            transition: background-color 0.2s;
        }
        
        .example:hover {
            background-color: #e8f4ea;
        }
        
        .example-title {
            font-weight: 600;
            margin-bottom: 5px;
            color: #2c5530;
        }
        
        .pan-visualization {
            display: flex;
            justify-content: space-around;
            align-items: center;
            margin: 20px 0;
            padding: 20px;
            background-color: #fafafa;
            border-radius: 8px;
        }
        
        .pan {
            position: relative;
            background-color: #f0e0c0;
            border: 2px solid #d4b483;
            display: flex;
            justify-content: center;
            align-items: center;
            color: #5d4037;
            font-weight: bold;
        }
        
        .round-pan {
            border-radius: 50%;
        }
        
        .arrow {
            font-size: 24px;
            color: #4a9c5f;
        }
        
        .conversion-note {
            font-size: 14px;
            color: #666;
            margin-top: 10px;
            text-align: center;
        }
        
        .footer {
            margin-top: 30px;
            text-align: center;
            font-size: 14px;
            color: #777;
            border-top: 1px solid #eee;
            padding-top: 15px;
        }
        
        .dimension-display {
            font-size: 14px;
            color: #666;
            margin-top: 5px;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>Pan Size Converter</h1>
        
        <p class="description">
            Convert recipes between different pan sizes (round ↔ square ↔ rectangular). 
            The calculator computes the area difference and provides a scaling factor for your ingredients.
        </p>
        
        <form id="converter-form" class="converter-form">
            <!-- From Pan Section -->
            <div class="pan-section">
                <h3>From Pan</h3>
                
                <div class="pan-shape-selector">
                    <div class="shape-option selected" data-shape="round" data-target="from">
                        Round
                    </div>
                    <div class="shape-option" data-shape="square" data-target="from">
                        Square
                    </div>
                    <div class="shape-option" data-shape="rectangular" data-target="from">
                        Rectangular
                    </div>
                </div>
                
                <div class="pan-dimensions" id="from-pan-dimensions">
                    <div class="form-group">
                        <label for="from-diameter">Diameter (cm)</label>
                        <input type="number" id="from-diameter" min="1" max="100" value="23" step="0.5">
                        <div class="dimension-display">≈ 9.1 inches</div>
                    </div>
                </div>
                
                <div class="form-group">
                    <label for="from-height">Pan Height (cm)</label>
                    <input type="number" id="from-height" min="1" max="50" value="5" step="0.5">
                    <div class="dimension-display">≈ 2.0 inches</div>
                </div>
            </div>
            
            <!-- To Pan Section -->
            <div class="pan-section">
                <h3>To Pan</h3>
                
                <div class="pan-shape-selector">
                    <div class="shape-option selected" data-shape="round" data-target="to">
                        Round
                    </div>
                    <div class="shape-option" data-shape="square" data-target="to">
                        Square
                    </div>
                    <div class="shape-option" data-shape="rectangular" data-target="to">
                        Rectangular
                    </div>
                </div>
                
                <div class="pan-dimensions" id="to-pan-dimensions">
                    <div class="form-group">
                        <label for="to-diameter">Diameter (cm)</label>
                        <input type="number" id="to-diameter" min="1" max="100" value="20" step="0.5">
                        <div class="dimension-display">≈ 7.9 inches</div>
                    </div>
                </div>
                
                <div class="form-group">
                    <label for="to-height">Pan Height (cm)</label>
                    <input type="number" id="to-height" min="1" max="50" value="5" step="0.5">
                    <div class="dimension-display">≈ 2.0 inches</div>
                </div>
            </div>
            
            <button type="button" class="convert-button" id="convert-button">Convert Pan Sizes</button>
        </form>
        
        <div class="pan-visualization" id="pan-visualization">
            <!-- Visualization will be generated by JavaScript -->
        </div>
        
        <div class="results" id="results" style="display:none;">
            <h3>Conversion Results</h3>
            <div class="scale-factor" id="scale-factor">1.00</div>
            <p id="result-text">Multiply all ingredients by <strong>1.00</strong> for the new pan size.</p>
            <p id="height-adjustment" style="display:none;"></p>
            <div class="conversion-note" id="conversion-note">
                Based on area calculation. For best results, also adjust baking time: smaller pans may need less time, deeper pans may need more.
            </div>
        </div>
        
        <div class="instructions">
            <h4>How to Use</h4>
            <p>1. Select the shape and dimensions of your original pan (the one in the recipe).</p>
            <p>2. Select the shape and dimensions of the pan you want to use.</p>
            <p>3. Click "Convert Pan Sizes" to get the scaling factor for your ingredients.</p>
            <p>4. Multiply all ingredients in the recipe by the scaling factor.</p>
        </div>
        
        <div class="examples">
            <div class="example" data-from-shape="round" data-from-dim1="23" data-to-shape="square" data-to-dim1="20" data-to-dim2="20">
                <div class="example-title">Round (23cm) → Square (20×20cm)</div>
                <div>Common cake pan conversion</div>
            </div>
            <div class="example" data-from-shape="square" data-from-dim1="20" data-to-shape="rectangular" data-to-dim1="28" data-to-dim2="18">
                <div class="example-title">Square (20×20cm) → Rectangular (28×18cm)</div>
                <div>Brownie pan conversion</div>
            </div>
            <div class="example" data-from-shape="round" data-from-dim1="26" data-to-shape="round" data-to-dim1="20">
                <div class="example-title">Round (26cm) → Round (20cm)</div>
                <div>Large to medium cake pan</div>
            </div>
            <div class="example" data-from-shape="rectangular" data-from-dim1="33" data-from-dim2="23" data-to-shape="square" data-to-dim1="30">
                <div class="example-title">Rectangular (33×23cm) → Square (30×30cm)</div>
                <div>Sheet cake to square cake</div>
            </div>
        </div>
        
        <div class="footer">
            <p>Pan Size Converter • For baking and cooking recipes • All dimensions in centimeters</p>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Set up shape selectors
            document.querySelectorAll('.shape-option').forEach(option => {
                option.addEventListener('click', function() {
                    const target = this.getAttribute('data-target');
                    const shape = this.getAttribute('data-shape');
                    
                    // Update selected state
                    document.querySelectorAll(`[data-target="${target}"]`).forEach(opt => {
                        opt.classList.remove('selected');
                    });
                    this.classList.add('selected');
                    
                    // Update pan dimensions inputs
                    updatePanDimensions(target, shape);
                    
                    // Update visualization if conversion was already done
                    if (document.getElementById('results').style.display !== 'none') {
                        convertPanSizes();
                    }
                });
            });
            
            // Set up example clicks
            document.querySelectorAll('.example').forEach(example => {
                example.addEventListener('click', function() {
                    const fromShape = this.getAttribute('data-from-shape');
                    const fromDim1 = this.getAttribute('data-from-dim1');
                    const fromDim2 = this.getAttribute('data-from-dim2');
                    
                    const toShape = this.getAttribute('data-to-shape');
                    const toDim1 = this.getAttribute('data-to-dim1');
                    const toDim2 = this.getAttribute('data-to-dim2');
                    
                    // Set from pan
                    setPanShape('from', fromShape);
                    document.getElementById('from-diameter').value = fromDim1;
                    if (fromDim2) {
                        document.getElementById('from-width').value = fromDim2;
                    }
                    
                    // Set to pan
                    setPanShape('to', toShape);
                    document.getElementById('to-diameter').value = toDim1;
                    if (toDim2) {
                        document.getElementById('to-width').value = toDim2;
                    }
                    
                    // Convert
                    convertPanSizes();
                });
            });
            
            // Set up convert button
            document.getElementById('convert-button').addEventListener('click', convertPanSizes);
            
            // Set up input listeners for real-time inch conversion
            document.querySelectorAll('input[type="number"]').forEach(input => {
                input.addEventListener('input', updateInchDisplay);
            });
            
            // Initial conversion
            convertPanSizes();
            
            function updatePanDimensions(target, shape) {
                const dimensionsDiv = document.getElementById(`${target}-pan-dimensions`);
                
                if (shape === 'round') {
                    dimensionsDiv.innerHTML = `
                        <div class="form-group">
                            <label for="${target}-diameter">Diameter (cm)</label>
                            <input type="number" id="${target}-diameter" min="1" max="100" value="${target === 'from' ? '23' : '20'}" step="0.5">
                            <div class="dimension-display">≈ ${(target === 'from' ? 23/2.54 : 20/2.54).toFixed(1)} inches</div>
                        </div>
                    `;
                } else if (shape === 'square') {
                    dimensionsDiv.innerHTML = `
                        <div class="form-group">
                            <label for="${target}-diameter">Side Length (cm)</label>
                            <input type="number" id="${target}-diameter" min="1" max="100" value="${target === 'from' ? '20' : '20'}" step="0.5">
                            <div class="dimension-display">≈ ${(target === 'from' ? 20/2.54 : 20/2.54).toFixed(1)} inches</div>
                        </div>
                    `;
                } else if (shape === 'rectangular') {
                    dimensionsDiv.innerHTML = `
                        <div class="form-group">
                            <label for="${target}-diameter">Length (cm)</label>
                            <input type="number" id="${target}-diameter" min="1" max="100" value="${target === 'from' ? '28' : '28'}" step="0.5">
                            <div class="dimension-display">≈ ${(target === 'from' ? 28/2.54 : 28/2.54).toFixed(1)} inches</div>
                        </div>
                        <div class="form-group">
                            <label for="${target}-width">Width (cm)</label>
                            <input type="number" id="${target}-width" min="1" max="100" value="${target === 'from' ? '18' : '18'}" step="0.5">
                            <div class="dimension-display">≈ ${(target === 'from' ? 18/2.54 : 18/2.54).toFixed(1)} inches</div>
                        </div>
                    `;
                }
                
                // Reattach inch conversion listeners
                document.querySelectorAll(`#${target}-pan-dimensions input[type="number"]`).forEach(input => {
                    input.addEventListener('input', updateInchDisplay);
                });
            }
            
            function setPanShape(target, shape) {
                // Update selected state
                document.querySelectorAll(`[data-target="${target}"]`).forEach(opt => {
                    opt.classList.remove('selected');
                    if (opt.getAttribute('data-shape') === shape) {
                        opt.classList.add('selected');
                    }
                });
                
                // Update pan dimensions inputs
                updatePanDimensions(target, shape);
            }
            
            function updateInchDisplay() {
                // Update inch displays for all dimension inputs
                document.querySelectorAll('input[type="number"]').forEach(input => {
                    const parent = input.parentElement;
                    const inchDisplay = parent.querySelector('.dimension-display');
                    if (inchDisplay && input.value) {
                        const inches = parseFloat(input.value) / 2.54;
                        inchDisplay.textContent = `≈ ${inches.toFixed(1)} inches`;
                    }
                });
            }
            
            function calculateArea(shape, dim1, dim2) {
                if (shape === 'round') {
                    // Area of circle = πr²
                    const radius = dim1 / 2;
                    return Math.PI * radius * radius;
                } else if (shape === 'square') {
                    // Area of square = side²
                    return dim1 * dim1;
                } else if (shape === 'rectangular') {
                    // Area of rectangle = length × width
                    return dim1 * dim2;
                }
                return 0;
            }
            
            function convertPanSizes() {
                // Get from pan details
                const fromShape = document.querySelector('[data-target="from"].selected').getAttribute('data-shape');
                const fromDim1 = parseFloat(document.getElementById('from-diameter').value);
                const fromDim2 = fromShape === 'rectangular' ? parseFloat(document.getElementById('from-width').value) : fromDim1;
                const fromHeight = parseFloat(document.getElementById('from-height').value);
                
                // Get to pan details
                const toShape = document.querySelector('[data-target="to"].selected').getAttribute('data-shape');
                const toDim1 = parseFloat(document.getElementById('to-diameter').value);
                const toDim2 = toShape === 'rectangular' ? parseFloat(document.getElementById('to-width').value) : toDim1;
                const toHeight = parseFloat(document.getElementById('to-height').value);
                
                // Calculate areas
                const fromArea = calculateArea(fromShape, fromDim1, fromDim2);
                const toArea = calculateArea(toShape, toDim1, toDim2);
                
                // Calculate volume if heights are different
                const fromVolume = fromArea * fromHeight;
                const toVolume = toArea * toHeight;
                
                // Calculate scaling factor (based on area for surface recipes, volume for deep dishes)
                let scaleFactor, volumeFactor;
                let useVolume = false;
                
                // Check if height difference is significant (> 20%)
                if (Math.abs(fromHeight - toHeight) / fromHeight > 0.2) {
                    scaleFactor = toVolume / fromVolume;
                    useVolume = true;
                } else {
                    scaleFactor = toArea / fromArea;
                    volumeFactor = toVolume / fromVolume;
                }
                
                // Display results
                document.getElementById('scale-factor').textContent = scaleFactor.toFixed(2);
                
                let resultText = `Multiply all ingredients by <strong>${scaleFactor.toFixed(2)}</strong> for the new pan size.`;
                if (useVolume) {
                    resultText += ` This adjustment accounts for different pan depths.`;
                }
                document.getElementById('result-text').innerHTML = resultText;
                
                // Show height adjustment note if needed
                const heightAdjustment = document.getElementById('height-adjustment');
                if (!useVolume && Math.abs(1 - volumeFactor) > 0.1) {
                    heightAdjustment.style.display = 'block';
                    const diffPercent = Math.round((volumeFactor - 1) * 100);
                    if (diffPercent > 0) {
                        heightAdjustment.textContent = `Note: Your new pan has ${Math.abs(diffPercent)}% more volume. Consider increasing baking time by about ${Math.round(Math.abs(diffPercent)/10)} minutes.`;
                    } else {
                        heightAdjustment.textContent = `Note: Your new pan has ${Math.abs(diffPercent)}% less volume. Consider reducing baking time by about ${Math.round(Math.abs(diffPercent)/10)} minutes.`;
                    }
                } else {
                    heightAdjustment.style.display = 'none';
                }
                
                // Show results
                document.getElementById('results').style.display = 'block';
                
                // Update visualization
                updateVisualization(fromShape, fromDim1, fromDim2, toShape, toDim1, toDim2, scaleFactor);
                
                // Update conversion note
                const note = document.getElementById('conversion-note');
                if (useVolume) {
                    note.textContent = "Based on volume calculation (area × height). Adjust baking time: deeper pans usually need longer baking, shallower pans need less time.";
                } else {
                    note.textContent = "Based on area calculation. For best results, also adjust baking time: smaller pans may need less time, deeper pans may need more.";
                }
            }
            
            function updateVisualization(fromShape, fromDim1, fromDim2, toShape, toDim1, toDim2, scaleFactor) {
                const container = document.getElementById('pan-visualization');
                
                // Calculate visual sizes (max 150px for display)
                const maxSize = 150;
                let fromSize, toSize;
                
                if (fromShape === 'round') {
                    fromSize = Math.min(maxSize, fromDim1 * 3);
                } else if (fromShape === 'square') {
                    fromSize = Math.min(maxSize, fromDim1 * 3);
                } else { // rectangular
                    const ratio = fromDim2 / fromDim1;
                    fromSize = Math.min(maxSize, fromDim1 * 2);
                }
                
                if (toShape === 'round') {
                    toSize = Math.min(maxSize, toDim1 * 3);
                } else if (toShape === 'square') {
                    toSize = Math.min(maxSize, toDim1 * 3);
                } else { // rectangular
                    const ratio = toDim2 / toDim1;
                    toSize = Math.min(maxSize, toDim1 * 2);
                }
                
                // Apply scaling factor to make comparison meaningful
                const scaleVisual = Math.sqrt(scaleFactor);
                const fromVisualSize = fromSize;
                const toVisualSize = fromSize * scaleVisual;
                
                // Generate visualization HTML
                let fromPanHTML = '';
                let toPanHTML = '';
                
                // From pan visualization
                if (fromShape === 'round') {
                    fromPanHTML = `
                        <div class="pan round-pan" style="width:${fromVisualSize}px; height:${fromVisualSize}px;">
                            <div style="text-align:center;">
                                <div>${fromDim1}cm</div>
                                <div style="font-size:12px;">${(fromDim1/2.54).toFixed(1)}"</div>
                            </div>
                        </div>
                    `;
                } else if (fromShape === 'square') {
                    fromPanHTML = `
                        <div class="pan" style="width:${fromVisualSize}px; height:${fromVisualSize}px;">
                            <div style="text-align:center;">
                                <div>${fromDim1}cm</div>
                                <div style="font-size:12px;">${(fromDim1/2.54).toFixed(1)}"</div>
                            </div>
                        </div>
                    `;
                } else { // rectangular
                    const width = fromVisualSize;
                    const height = fromVisualSize * (fromDim2 / fromDim1);
                    fromPanHTML = `
                        <div class="pan" style="width:${width}px; height:${height}px;">
                            <div style="text-align:center;">
                                <div>${fromDim1}×${fromDim2}cm</div>
                                <div style="font-size:12px;">${(fromDim1/2.54).toFixed(1)}×${(fromDim2/2.54).toFixed(1)}"</div>
                            </div>
                        </div>
                    `;
                }
                
                // To pan visualization
                if (toShape === 'round') {
                    toPanHTML = `
                        <div class="pan round-pan" style="width:${toVisualSize}px; height:${toVisualSize}px;">
                            <div style="text-align:center;">
                                <div>${toDim1}cm</div>
                                <div style="font-size:12px;">${(toDim1/2.54).toFixed(1)}"</div>
                            </div>
                        </div>
                    `;
                } else if (toShape === 'square') {
                    toPanHTML = `
                        <div class="pan" style="width:${toVisualSize}px; height:${toVisualSize}px;">
                            <div style="text-align:center;">
                                <div>${toDim1}cm</div>
                                <div style="font-size:12px;">${(toDim1/2.54).toFixed(1)}"</div>
                            </div>
                        </div>
                    `;
                } else { // rectangular
                    const width = toVisualSize;
                    const height = toVisualSize * (toDim2 / toDim1);
                    toPanHTML = `
                        <div class="pan" style="width:${width}px; height:${height}px;">
                            <div style="text-align:center;">
                                <div>${toDim1}×${toDim2}cm</div>
                                <div style="font-size:12px;">${(toDim1/2.54).toFixed(1)}×${(toDim2/2.54).toFixed(1)}"</div>
                            </div>
                        </div>
                    `;
                }
                
                container.innerHTML = `
                    <div style="text-align:center;">
                        <div style="margin-bottom:5px; font-weight:bold; color:#2c5530;">Original Pan</div>
                        ${fromPanHTML}
                    </div>
                    <div class="arrow">→</div>
                    <div style="text-align:center;">
                        <div style="margin-bottom:5px; font-weight:bold; color:#2c5530;">New Pan</div>
                        ${toPanHTML}
                    </div>
                `;
            }
        });
    </script>
</body>
</html>
