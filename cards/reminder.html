<h2 id="reminder-title" style="margin-top:0;">Reminder Tool</h2>

<form aria-describedby="reminder-desc">
  <p id="reminder-desc" class="small">Create simple reminders that stay saved in your browser.</p>

  <div class="row">
    <div class="field">
      <label for="reminder-text">Reminder text</label>
      <input id="reminder-text" type="text" placeholder="e.g. Call Alex at 3pm" />
    </div>
    <div class="field">
      <label for="reminder-time">Time</label>
      <input id="reminder-time" type="time" />
    </div>
  </div>

  <div class="actions">
    <button type="button" onclick="reminderAdd(this)">Add Reminder</button>
    <button type="button" class="secondary" onclick="reminderReset(this)">Clear All</button>
  </div>
</form>

<div class="results" aria-live="polite">
  <h3 class="small">Your reminders</h3>
  <ul id="reminder-list" class="small"></ul>
</div>

<script>
function reminderAdd(btn) {
  const card = btn.closest('.card');
  const text = card.querySelector('#reminder-text').value.trim();
  const time = card.querySelector('#reminder-time').value;

  if (!text) return;

  const reminder = { text, time };
  let reminders = JSON.parse(localStorage.getItem("reminders") || "[]");
  reminders.push(reminder);
  localStorage.setItem("reminders", JSON.stringify(reminders));

  renderReminders(card);
  card.querySelector('form').reset();
}

function renderReminders(card) {
  const list = card.querySelector('#reminder-list');
  list.innerHTML = "";
  const reminders = JSON.parse(localStorage.getItem("reminders") || "[]");
  reminders.forEach(r => {
    const li = document.createElement('li');
    li.textContent = r.text + (r.time ? " at " + r.time : "");
    list.appendChild(li);
  });
}

function reminderReset(btn) {
  const card = btn.closest('.card');
  localStorage.removeItem("reminders");
  card.querySelector('#reminder-list').innerHTML = "";
}

// Render reminders on load
document.addEventListener("DOMContentLoaded", () => {
  const card = document.querySelector('#reminder-title').closest('.card');
  if (card) renderReminders(card);
});
</script>
