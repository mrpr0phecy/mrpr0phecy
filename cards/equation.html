<h2 id="equation-title" style="margin-top:0;">Equation Solver</h2>

<form aria-describedby="equation-desc">
  <p id="equation-desc" class="small">Enter a math expression to solve.</p>

  <div class="row">
    <div class="field">
      <label for="equation-input">Expression</label>
      <input id="equation-input" type="text" placeholder="e.g. 2+3*4" />
    </div>
  </div>

  <div class="actions">
    <button type="button" onclick="equationSolve(this)">Solve</button>
    <button type="button" class="secondary" onclick="equationReset(this)">Reset</button>
  </div>
</form>

<div class="results" aria-live="polite">
  <div class="result">
    <div class="label">Result</div>
    <div class="value" id="equation-res">–</div>
  </div>
</div>

<script>
function equationSolve(btn) {
  const card = btn.closest('.card');
  const expr = card.querySelector('#equation-input').value.trim();
  let result = "Invalid expression";

  try {
    // Safe evaluation using Function constructor
    result = Function('"use strict";return (' + expr + ')')();
  } catch (e) {
    result = "Error";
  }

  card.querySelector('#equation-res').textContent = result;
}

function equationReset(btn) {
  const card = btn.closest('.card');
  card.querySelector('form').reset();
  card.querySelector('#equation-res').textContent = "–";
}
</script>
