<h2 id="meal-cost-calculator" style="margin-top:0;">Meal Cost Calculator</h2>

<!--
  Manifest metadata
  id: meal-cost-calculator
  title: Meal Cost Calculator
  path: cards/meal-cost-calculator.html
  category: Food Tools
  version: 1.0
-->

<form aria-describedby="mcc-desc">
  <p id="mcc-desc" class="small">
    Calculate total and per‑serving meal cost.
  </p>

  <label for="mcc-servings">Number of Servings</label>
  <input id="mcc-servings" type="number" value="4" style="width:100%;" />

  <label for="mcc-ingredients" style="margin-top:8px;">Ingredients with cost (one per line, e.g. "Chicken £5.00")</label>
  <textarea id="mcc-ingredients" rows="8" style="width:100%;"></textarea>

  <div style="margin-top:12px;">
    <button type="button" onclick="calcMealCost()">Calculate</button>
  </div>
</form>

<div style="margin-top:12px;">
  <h3 class="small">Meal Cost</h3>
  <pre id="mcc-output" style="background:#fafafa;padding:8px;border-radius:6px;min-height:80px;"></pre>
</div>

<script>
function calcMealCost(){
  const servings = parseFloat(document.getElementById('mcc-servings').value);
  const lines = document.getElementById('mcc-ingredients').value.split('\\n');
  let total = 0;
  lines.forEach(line=>{
    const m = line.match(/([0-9]+(?:\\.[0-9]+)?)/);
    if(m) total += parseFloat(m[1]);
  });
  const perServing = total/servings;
  document.getElementById('mcc-output').textContent = `Total cost: £${total.toFixed(2)}\nPer serving: £${perServing.toFixed(2)}`;
}
</script>
