<h2 id="melting-point-finder" style="margin-top:0;">Melting Point Finder</h2>

<!--
  Manifest metadata
  id: melting-point-finder
  title: Melting Point Finder
  path: cards/melting-point-finder.html
  category: Science Tools
  version: 1.0
-->

<form aria-describedby="mpf-desc">
  <p id="mpf-desc" class="small">
    Look up melting points of common substances at 1 atm. Converts between Celsius, Fahrenheit, and Kelvin.
  </p>

  <label for="mpf-substance">Substance</label>
  <input id="mpf-substance" type="text" placeholder="e.g. ice, iron, sulfur" style="width:100%;" />

  <label for="mpf-unit" style="margin-top:8px;">Unit</label>
  <select id="mpf-unit" style="width:100%;">
    <option value="C">°C</option>
    <option value="F">°F</option>
    <option value="K">K</option>
  </select>

  <div style="margin-top:12px;">
    <button type="button" onclick="findMeltingPoint()">Find</button>
    <button type="button" onclick="resetMeltingPoint()" class="secondary">Reset</button>
  </div>
</form>

<div style="margin-top:12px;">
  <h3 class="small">Melting Point</h3>
  <div id="mpf-output" class="small" style="background:#fafafa;padding:8px;border-radius:6px;min-height:48px;"></div>
</div>

<script>
// Melting point database (°C at 1 atm)
const mpDB = {
  ice: 0,
  ethanol: -114,
  methanol: -97.6,
  acetone: -95,
  benzene: 5.5,
  toluene: -95,
  sulfur: 115.2,
  phosphorus: 44.1,
  sodium: 97.8,
  potassium: 63.5,
  lithium: 180.5,
  iron: 1538,
  copper: 1085,
  aluminum: 660.3,
  silver: 961.8,
  gold: 1064,
  lead: 327.5,
  zinc: 419.5,
  tin: 231.9,
  mercury: -38.8,
  silicon: 1414,
  carbon: 3550,
  tungsten: 3422
};

function convertTemp(valueC, unit){
  if(unit==='C') return valueC.toFixed(2) + ' °C';
  if(unit==='F') return (valueC*9/5+32).toFixed(2) + ' °F';
  if(unit==='K') return (valueC+273.15).toFixed(2) + ' K';
}

function findMeltingPoint(){
  const sub = document.getElementById('mpf-substance').value.toLowerCase().trim().replace(/\\s+/g,'_');
  const unit = document.getElementById('mpf-unit').value;
  const valC = mpDB[sub];
  if(valC===undefined){
    document.getElementById('mpf-output').textContent = 'Substance not found in database.';
    return;
  }
  document.getElementById('mpf-output').textContent = `${sub.replace(/_/g,' ')} melts at ${convertTemp(valC, unit)} (1 atm).`;
}

function resetMeltingPoint(){
  document.getElementById('mpf-substance').value = '';
  document.getElementById('mpf-output').textContent = '';
}
</script>
