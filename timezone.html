<h2 id="timezone-title" style="margin-top:0;">Time Zone Converter</h2>

<form aria-describedby="timezone-desc">
  <p id="timezone-desc" class="small">Convert a date and time between time zones.</p>

  <div class="row">
    <div class="field">
      <label for="timezone-datetime">Date & time</label>
      <input id="timezone-datetime" type="datetime-local" />
    </div>
    <div class="field">
      <label for="timezone-from">From zone</label>
      <select id="timezone-from">
        <option value="UTC" selected>UTC</option>
        <option value="Europe/London">London</option>
        <option value="America/New_York">New York</option>
        <option value="Asia/Tokyo">Tokyo</option>
        <option value="Australia/Sydney">Sydney</option>
      </select>
    </div>
    <div class="field">
      <label for="timezone-to">To zone</label>
      <select id="timezone-to">
        <option value="UTC">UTC</option>
        <option value="Europe/London">London</option>
        <option value="America/New_York">New York</option>
        <option value="Asia/Tokyo">Tokyo</option>
        <option value="Australia/Sydney">Sydney</option>
      </select>
    </div>
  </div>

  <div class="actions">
    <button type="button" onclick="timezoneCalc(this)">Convert</button>
    <button type="button" class="secondary" onclick="timezoneReset(this)">Reset</button>
  </div>
</form>

<div class="results" aria-live="polite">
  <div class="result">
    <div class="label">Converted time</div>
    <div class="value" id="timezone-res">–</div>
  </div>
</div>

<script>
function timezoneCalc(btn) {
  const card = btn.closest('.card');
  const datetime = card.querySelector('#timezone-datetime').value;
  const fromZone = card.querySelector('#timezone-from').value;
  const toZone = card.querySelector('#timezone-to').value;

  if (!datetime) {
    card.querySelector('#timezone-res').textContent = "Please enter a date & time";
    return;
  }

  try {
    // Use Intl API for conversion
    const date = new Date(datetime);
    const options = { timeZone: toZone, hour12: false, 
                      year:'numeric', month:'short', day:'numeric',
                      hour:'2-digit', minute:'2-digit' };
    const converted = new Intl.DateTimeFormat('en-GB', options).format(date);
    card.querySelector('#timezone-res').textContent = converted;
  } catch (e) {
    card.querySelector('#timezone-res').textContent = "Conversion error";
  }
}

function timezoneReset(btn) {
  const card = btn.closest('.card');
  card.querySelector('form').reset();
  card.querySelector('#timezone-res').textContent = '–';
}
</script>
